{"version":3,"mappings":"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","names":["CustomerListComponent","router","route","currentRoute","url","console","log","currentRoute2","snapshot","length","_a","path","_angular_core__WEBPACK_IMPORTED_MODULE_1__","selectors","decls","vars","template","_angular_core__WEBPACK_IMPORTED_MODULE_6__","ctx_r11","item_r13","_r20","ctx_r4","PartyGroupListComponent","partyGroupservice","toastService","dialog","titleCasePipe","partyservice","formBuilder","JSON","parse","localStorage","getItem","rxjs__WEBPACK_IMPORTED_MODULE_7__","getGroupDetails","partyAdded$","subscribe","searchSubscription","searchSubject","pipe","isLoading","searchKey","searchByGroupName","form","group","checkArray","array","parties","partyNames","map","party","partyName","displayedNames","slice","join","getPartiGroupsDetails","currentUser","id","partyGrpPageSize","currentPageNo","then","res","partyGroupData","data","pageData","item","p","parseInt","currentPage","totalrow","totalRows","toatlPages","totalPages","err","error","expose","toastMsg","title","content","transform","error_message","groupId","deleteGroup","dialogRef","open","_add_group_multiple_party_add_group_multiple_party_component__WEBPACK_IMPORTED_MODULE_0__","width","height","panelClass","disableClose","position","right","afterClosed","next","trim","getPartiGroupsDetailsByName","groupName","filter","toLowerCase","includes","groupDescription","_party_group_add_party_group_add_component__WEBPACK_IMPORTED_MODULE_1__","result","e","excelFileUpload","target","files","formdata","FormData","set","postBulkParty","status","document","getElementById","click","pageIndex","pagesize","pageSize","searchInput","value","itemId","_view_party_group_view_party_group_component__WEBPACK_IMPORTED_MODULE_2__","grpId","checked","selectedPartyGrpIds","push","checkSingleArray","index","indexOf","splice","groupIdId","$event","isChecked","checkSelect","upiCheckedId","checkSelectsingle","request","multipleGroupDelete","allSelect","inputs","consts","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_7__","ctx_r31","ctx_r35","ctx_r27","item_r37","ctx_r53","ctx_r57","ctx_r49","item_r59","ctx_r5","ctx_r6","PartyListComponent","partyService","commonService","src_assets_langTranslation_language_translation__WEBPACK_IMPORTED_MODULE_3__","rxjs__WEBPACK_IMPORTED_MODULE_8__","isArabic$","isArabic","currentTab","isVendor","flag","getAllParties","getPartyBySearch","unsubscribe","getAllPartiesDetails","partyPageSize","partyList","totalrows","partyId","_edit_party_edit_party_component__WEBPACK_IMPORTED_MODULE_0__","setTimeout","getAllPartiesDetailsSearch","currentpage","_add_party_add_party_component__WEBPACK_IMPORTED_MODULE_1__","isdeletedParty","UnarchivedParty","deletePartyById","isdeleted","Math","ceil","totalItems","Array","from","_","page","pattern","test","name","uploadFileInput","nativeElement","_view_party_view_party_component__WEBPACK_IMPORTED_MODULE_2__","selectedPartyIds","archivedPartyIds","unarchivedPartyIds","forEach","find","isDeleted","allArchived","every","allUnarchived","alert","checkboxes","querySelectorAll","checkbox","inputElement","showUnarchiveButton","showDeleteButton","Error","requestBody","archiveParties","multiplePartyDel","unArchiveMultipleParties","downloadParties","blob","Blob","type","window","URL","createObjectURL","a","createElement","href","download","revokeObjectURL","viewQuery","routes","component","_party_party_component__WEBPACK_IMPORTED_MODULE_2__","children","redirectTo","pathMatch","_customer_list_customer_list_component__WEBPACK_IMPORTED_MODULE_3__","_party_list_party_list_component__WEBPACK_IMPORTED_MODULE_0__","_party_group_list_party_group_list_component__WEBPACK_IMPORTED_MODULE_1__","routerLinkActiveOptions","exact","PartyRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_5__","imports","exports","PartyModule","_angular_common__WEBPACK_IMPORTED_MODULE_10__","_angular_material_icon__WEBPACK_IMPORTED_MODULE_11__","_party_routing_module__WEBPACK_IMPORTED_MODULE_0__","_angular_router__WEBPACK_IMPORTED_MODULE_12__","_angular_forms__WEBPACK_IMPORTED_MODULE_13__","_angular_material_paginator__WEBPACK_IMPORTED_MODULE_14__","_angular_material_form_field__WEBPACK_IMPORTED_MODULE_15__","src_app_material_module__WEBPACK_IMPORTED_MODULE_6__","declarations","_party_list_party_list_component__WEBPACK_IMPORTED_MODULE_1__","_party_group_list_party_group_list_component__WEBPACK_IMPORTED_MODULE_2__","_delete_modal_delete_modal_component__WEBPACK_IMPORTED_MODULE_3__","_view_party_view_party_component__WEBPACK_IMPORTED_MODULE_4__","_view_party_group_view_party_group_component__WEBPACK_IMPORTED_MODULE_5__","_continue_popup_modal_continue_popup_modal_component__WEBPACK_IMPORTED_MODULE_7__","_customer_list_customer_list_component__WEBPACK_IMPORTED_MODULE_8__","_angular_core__WEBPACK_IMPORTED_MODULE_2__","ViewPartyGroupComponent","partyData","getGroupData","partyDataDetails","partyGroup","close","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__","_angular_core__WEBPACK_IMPORTED_MODULE_3__","ViewPartyComponent","src_assets_langTranslation_language_translation__WEBPACK_IMPORTED_MODULE_0__","getPartyDetails","gstType","gstIn","mobile","email","billingAddress","shippingAddress","openingBalance","asOfDate","balanceStatus","relationSince","payment","creditPeriodDay","creditLimit","UpdatedCreditLimit","noOfCredits","creditCount","distance","transporation","isCustomer","totalDebt","totalCredit","groupNames","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__"],"sources":["webpack:///src/app/pages/Party/customer-list/customer-list.component.ts","webpack:///src/app/pages/Party/customer-list/customer-list.component.html","webpack:///src/app/pages/Party/party-group-list/party-group-list.component.html","webpack:///src/app/pages/Party/party-group-list/party-group-list.component.ts","webpack:///src/app/pages/Party/party-list/party-list.component.html","webpack:///src/app/pages/Party/party-list/party-list.component.ts","webpack:///src/app/pages/Party/party-routing.module.ts","webpack:///src/app/pages/Party/party.module.ts","webpack:///src/app/pages/Party/view-party-group/view-party-group.component.html","webpack:///src/app/pages/Party/view-party-group/view-party-group.component.ts","webpack:///src/app/pages/Party/view-party/view-party.component.html","webpack:///src/app/pages/Party/view-party/view-party.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-customer-list',\r\n  templateUrl: './customer-list.component.html',\r\n  styleUrls: ['./customer-list.component.scss']\r\n})\r\nexport class CustomerListComponent implements OnInit {\r\n\r\n  constructor(private router: Router, private route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    const currentRoute = this.router.url;\r\n    console.log('Current Route:', currentRoute);\r\n\r\n    const currentRoute2 = this.route.snapshot.url[this.route.snapshot.url.length - 1]?.path;\r\n    console.log('Last Route Segment:', currentRoute2);\r\n\r\n  }\r\n\r\n}\r\n","<app-party-list></app-party-list>","<div *ngIf=\"isLoading\" class=\"loader-container\">\r\n    <div class=\"loader\">\r\n        <div class=\"spinner-border\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"row headerButtons mb-3\" id=\"showoptionHide\">\r\n    <div class=\"flex-item searchBar\">\r\n        <input type=\"search\" id=\"searchInput\" class=\"form-control pe-5 my-2\" placeholder=\"Group Name/Description\"\r\n        (input)=\"onSearchInputChange($event.target.value)\">\r\n    </div>\r\n    <div class=\"navOption-btns flex-item formButtons mx-0\">\r\n        <button id=\"saleButtonPrint1\" class=\"btn text-nowrap my-2\" type=\"button\" (click)=\"openDialogAddGrp()\">\r\n            <i class=\"fas fa-plus me-2\"> </i>Add Group\r\n        </button>\r\n    </div>\r\n</div>\r\n<!-- <hr class=\"mb-1\"> -->\r\n\r\n<div class=\"table-container overflow-visible\">\r\n    <div class=\"table-div\" style=\"width:100%;overflow-x: auto;\">\r\n        <!-- <table class=\"table table-responsive table-bordered \">\r\n            <thead>\r\n                <tr class=\"row\">\r\n                    <div class=\"col-sm-10\">\r\n                        <div class=\"row\">\r\n                            <th class=\"col-1 text-nowrap d-flex justify-content-center\">\r\n                                <input  type=\"checkbox\" class=\"form-check-input\" class=\"mt-2\"\r\n                                (change)=\"onChekMultiple($event)\" [value]=\"-1\" [checked]=\"selectedPartyGrpIds.length === partyGroupData.length\"\r\n                                [(ngModel)]=\"allSelect\"/>\r\n                                <div class=\"col d-flex align-items-center\">\r\n                                    <span *ngIf=\"showDeleteButton()\">\r\n                                        <button *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn pt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDeleteSelect-modal\">\r\n                                            <span  *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"bi-trash icon-color fs-1 text-red\" data-bs-toggle=\"tooltip\" style=\"color : red;\"\r\n                                                data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Delete\"\r\n                                                (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">\r\n                                            </span>\r\n                                        </button>\r\n                                    </span>\r\n                                </div>\r\n                            </th>\r\n                            <th class=\"col-4 d-flex align-items-center\">Group Name</th>\r\n                            <th class=\"col-4 d-flex align-items-center\">Group Description</th>\r\n                            <th class=\"col-3 d-flex align-items-center\">List of Vendors</th>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-2 col-lg-2\">\r\n                        <th class=\"col\"></th>\r\n                    </div>\r\n\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr class=\"row\" *ngFor=\"let item of partyGroupData;let i = index\" style=\"color: #676398!important;\">\r\n                    <div class=\"col-sm-10\">\r\n                        <div class=\"row\">\r\n                            <td class=\"col-1 d-flex justify-content-center\">\r\n                                <input class=\"form-check-input\" type=\"checkbox\" [checked]=\"selectedPartyGrpIds.includes(item.id)\"\r\n                                    (change)=\"onChekedsingleCheck($event, item.id)\" [value]=\"item.id\" />\r\n                                <div class=\"col\"></div>\r\n                            </td>\r\n                            <td class=\"col-4 d-flex align-items-center\">{{ item.groupName }}</td>\r\n                            <td class=\"col-4 d-flex align-items-center\">\r\n                                <div class=\"description\">{{ item.groupDescription }}</div>\r\n                            </td>\r\n                            <td class=\"col-3 d-flex align-items-center\">{{ getPartyNames(item.parties) }}</td>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-2 col-lg-2\">\r\n                        <td class=\"row\">\r\n                            <button class=\"btn col-4 p-0 m-0\">\r\n                                <span class=\"bi bi-eye icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    (click)=\"viewModal(item.id)\" data-bs-placement=\"top\" title=\"View\"></span>\r\n                            </button>\r\n                            <button class=\"btn col-4 p-0 m-0\" (click)=\"openEditPartyGrpModal(item.id)\"\r\n                                routerLinkActive=\"active\">\r\n                                <span class=\"bi-pencil-square icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    data-bs-placement=\"top\" title=\"Edit\"></span>\r\n                            </button>\r\n\r\n                            <button class=\"btn col-4 p-0 m-0\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\">\r\n                                <span class=\"bi-trash icon-color iconFontSize\" data-bs-toggle=\"tooltip\" style=\"color: red;\"\r\n                                    data-bs-placement=\"top\" title=\"Delete\" (click)=\"GetGroupById(item.id)\"></span>\r\n                            </button>\r\n\r\n                        </td>\r\n                    </div>\r\n                </tr>\r\n            </tbody>\r\n            <tbody *ngIf=\"partyGroupData.length == 0\">\r\n                <tr class=\"text-center\">\r\n                    <td colspan=\"10\">\r\n                        <img class=\"image-responsive\" src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\" alt=\"notfound1\" width=\"200\" height=\"150\" />\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table> -->\r\n\r\n        <table class=\"table table-responsive table-bordered\">\r\n          <thead>\r\n            <tr>\r\n                <th class=\"text-nowrap\" style=\"vertical-align: middle;width:100px;height:50px;display:flex;align-items: center;\">\r\n                    <input  type=\"checkbox\" class=\"form-check-input mb-2\"\r\n                (change)=\"onChekMultiple($event)\" [value]=\"-1\" [checked]=\"selectedPartyGrpIds.length === partyGroupData.length\"\r\n                [(ngModel)]=\"allSelect\"/>\r\n                <span *ngIf=\"showDeleteButton()\">\r\n                    <button style=\"padding: 0px!important;\"\r\n                     *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn pt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDeleteSelect-modal\">\r\n                        <span  *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"bi-trash icon-color fs-1 text-red m-3\" data-bs-toggle=\"tooltip\" style=\"color : red;\"\r\n                            data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Delete\"\r\n                            (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">\r\n                        </span>\r\n                    </button>\r\n                </span>\r\n              </th>\r\n              <th class = \"text-nowrap\" style = \"vertical-align: middle;\">Group Name</th>\r\n              <th class = \"text-nowrap\" style = \"vertical-align: middle;\">Group Description</th>\r\n              <th class = \"text-nowrap\" style = \"vertical-align: middle;\">List of Vendors</th>\r\n              <th class = \"text-nowrap\" style = \"vertical-align: middle;width:20%;\"></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let item of partyGroupData;let i = index\" style=\"color: #676398!important;\">\r\n              <td class = \"text-nowrap\" style = \"vertical-align: middle;width:100px;\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" [checked]=\"selectedPartyGrpIds.includes(item.id)\"\r\n                  (change)=\"onChekedsingleCheck($event, item.id)\" [value]=\"item.id\" />\r\n              </td>\r\n              <td class = \"text-nowrap\" style = \"vertical-align: middle;\">{{ item.groupName }}</td>\r\n              <td class=\"wrap-text-cell\"  style = \"vertical-align: middle;\">{{ item.groupDescription }}</td>\r\n              <td class = \"wrap-text-cell\" style = \"vertical-align: middle;\">{{ getPartyNames(item.parties) }}</td>\r\n              <td style=\"vertical-align:middle; width:20%; white-space:nowrap;text-align: center; \">\r\n                <button class=\"btn me-2\">\r\n                  <span class=\"bi bi-eye icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                      (click)=\"viewModal(item.id)\" data-bs-placement=\"top\" title=\"View\"></span>\r\n                </button>\r\n                <button class=\"btn me-2\" (click)=\"openEditPartyGrpModal(item.id)\"\r\n                    routerLinkActive=\"active\">\r\n                    <span class=\"bi-pencil-square icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                        data-bs-placement=\"top\" title=\"Edit\"></span>\r\n                </button>\r\n\r\n                <button class=\"btn me-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\">\r\n                    <span class=\"bi-trash icon-color iconFontSize\" data-bs-toggle=\"tooltip\" style=\"color: red;\"\r\n                        data-bs-placement=\"top\" title=\"Delete\" (click)=\"GetGroupById(item.id)\"></span>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tbody *ngIf=\"partyGroupData.length == 0\">\r\n            <tr class=\"text-center\">\r\n              <td style=\"width:100px;\">&nbsp;</td>\r\n              <td colspan=\"4\">\r\n                  <img class=\"image-responsive\" src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\" alt=\"notfound1\" width=\"200\" height=\"150\" />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <mat-paginator #paginator sticky class=\"float-right mt-2\" *ngIf=\"partyGroupData.length > 0\"\r\n            [pageSize]=\"partyGrpPageSize\" [pageSizeOptions]=\"[5, 10, 20, 30]\" [length]=\"totalrow\"\r\n            [pageIndex]=\"currentPageNo\" showFirstLastButtons (page)=\"handlePage($event)\" aria-label=\"Select page\">\r\n\r\n            <button mat-icon-button mat-paginator-navigation [disabled]=\"paginator.hasPreviousPage() === false\"\r\n                (click)=\"paginator.previousPage()\" aria-label=\"Previous page\"\r\n                [ngClass]=\"{'disabled-button': paginator.hasPreviousPage() === false}\">\r\n                <mat-icon>keyboard_arrow_left</mat-icon>\r\n            </button>\r\n\r\n            <button mat-icon-button mat-paginator-navigation [disabled]=\"paginator.hasNextPage() === false\"\r\n                (click)=\"paginator.nextPage()\" aria-label=\"Next page\"\r\n                [ngClass]=\"{'disabled-button': paginator.hasNextPage() === false}\">\r\n                <mat-icon>keyboard_arrow_right</mat-icon>\r\n            </button>\r\n\r\n        </mat-paginator>\r\n\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n        <div class=\"modal-content position-relative\">\r\n            <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"></a>\r\n            </div>\r\n            <div class=\"modal-body p-0\">\r\n                <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                    <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 500;font-family: 'Poppins'; \" id=\"modalExampleDemoLabel\">\r\n                        Delete Group? </h2>\r\n                </div>\r\n                <h4 class=\"text-center \" style = \"font-family: 'Poppins';\">Are You Sure To Delete Group?</h4>\r\n\r\n            </div>\r\n            <div class=\"modal-footer justify-content-center\">\r\n                <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                <a class=\"btn btn-outline-danger\" (click)=\"deleteGroup()\" data-bs-dismiss=\"modal\">Delete\r\n                </a>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Multiple Delete Modal -->\r\n<div class=\"modal fade\" id=\"errorDeleteSelect-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n        <div class=\"modal-content position-relative\">\r\n            <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"></a>\r\n            </div>\r\n            <div class=\"modal-body p-0\">\r\n                <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                    <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 500;font-family: 'Poppins';\" id=\"modalExampleDemoLabel\">\r\n                        Delete Groups </h2>\r\n                </div>\r\n                <!-- <h4   *ngIf=\"!isChecked  && !checkSingleArray \"class=\"text-center \">Are you sure to delete this UPI?</h4> -->\r\n                <h4 *ngIf=\"isChecked \" class=\"text-center \" style = \"font-family: 'Poppins';\">Are you sure to delete All Groups?</h4>\r\n                <h4 *ngIf=\"!isChecked \" class=\"text-center \" style = \"font-family: 'Poppins';\">Are you sure to delete selected Groups?</h4>\r\n\r\n            </div>\r\n            <div class=\"modal-footer justify-content-center\">\r\n                <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                <!-- <a   *ngIf=\"!isChecked  && !checkSingleArray \" class=\"btn btn-outline-primary\" data-bs-dismiss=\"modal\" (click)=\"deletExpenseById()\">Delete\r\n                </a> -->\r\n                <a   *ngIf=\"isChecked \" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\" (click)=\"deletMultipleGroupId()\" style = \"font-family: 'Poppins';\">Delete All\r\n                </a>\r\n                <a   *ngIf=\"!isChecked\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\" (click)=\"deletMultipleGroupId()\" style = \"font-family: 'Poppins';\">Delete Selected\r\n                </a>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- <div class=\"card mb-3\" id=\"customersTable\">\r\n    <div class=\"card-header bg-light pt-3 pb-3\">\r\n        <p class=\"d-md-inline-block fs--1 mt-3 ml-5\" style=\"font-weight:800;font-size:20px!important;\">\r\n            Party Group List\r\n        </p>\r\n    </div>\r\n    <div class=\"progress\" style=\"height: 2px\">\r\n        <div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"33\" aria-valuemin=\"0\" aria-valuemax=\"100\">\r\n        </div>\r\n    </div>\r\n    <div class=\"card-body p-0 marginLeftRight m-2\">\r\n        <div class=\"table-responsive\">\r\n            <table class=\"table table-bordered table-striped fs--1 mb-0 bg-white\">\r\n                <thead class=\"bg-200 text-900\">\r\n                    <tr class=\"btn-reveal-trigger\">\r\n                        <th>#</th>\r\n                        <th class=\"text-nowrap\">Group Name</th>\r\n                        <th class=\"text-nowrap\">Group Description</th>\r\n                        <th class=\"text-nowrap\">Action</th>\r\n                    </tr>\r\n\r\n                </thead>\r\n                <tbody>\r\n                    <tr class=\"btn-reveal-trigger text-left\" *ngFor=\"let item of partyGroupData;let i = index\">\r\n                        <td>{{ i + 1}}</td>\r\n                        <td>{{ item.groupName }}</td>\r\n                        <td>{{ item.groupDescription }}</td>\r\n                        <td >\r\n                                <div class=\"\">\r\n                                    <button class=\"btn btnp\" routerLink=\"/pages/multiple-party-group-add/{{ item.id }}\"\r\n                                        routerLinkActive=\"active\" *appHasPermission=\"['modify']; name 'grantpermission'\">\r\n                                        <span class=\"bi-pencil-square icon-color fs-1\" data-bs-toggle=\"tooltip\"\r\n                                            data-bs-placement=\"top\" title=\"Edit\"></span> -->\r\n<!-- //edit -->\r\n<!-- </button>\r\n\r\n                                <span class=\"m-1\" text-center></span>\r\n                                    <button class=\"btn btnp me-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\">\r\n                                        <span class=\"bi-trash icon-color fs-1\" data-bs-toggle=\"tooltip\"\r\n                                            data-bs-placement=\"top\" title=\"Delete\" (click)=\"GetGroupById(item.id)\"></span> -->\r\n<!-- Delete -->\r\n<!-- </button>\r\n\r\n                                    </div>\r\n                                    </td>\r\n\r\n\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"partyGroupData == 0\">\r\n                    <tr class=\"text-center\">\r\n                        <td colspan=\"10\">\r\n                            <h5 class=\"text-nowrap\">No Party Group details added. Please add Party Group details to be displayed here. <span>\r\n                                    <a class=\"nav-link\" routerLink=\"/pages/group-add\">Add New Group </a>\r\n                                </span></h5>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n        <div class=\"modal-content position-relative\">\r\n            <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"></a>\r\n            </div>\r\n            <div class=\"modal-body p-0\">\r\n                <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                    <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800; \" id=\"modalExampleDemoLabel\">\r\n                        Delete Group? </h2>\r\n                </div>\r\n                <h4 class=\"text-center \">Are You Sure To Delete Group?</h4>\r\n\r\n            </div>\r\n            <div class=\"modal-footer justify-content-center\">\r\n                <a class=\"btn btn-outline-primary\" data-bs-dismiss=\"modal\">Close</a>\r\n                <a class=\"btn btn-outline-primary\" (click)=\"deleteGroup()\" data-bs-dismiss=\"modal\">Delete\r\n                </a>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n","import { TitleCasePipe } from '@angular/common';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { PartGroupServiceService } from 'src/app/core/services/part-group-service.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { AddGroupMultiplePartyComponent } from '../add-group-multiple-party/add-group-multiple-party.component';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { PartyGroupAddComponent } from '../party-group-add/party-group-add.component';\r\nimport { PartyService } from 'src/app/core/services/party.service';\r\nimport { ViewPartyGroupComponent } from '../view-party-group/view-party-group.component';\r\nimport { FormArray, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { F } from '@angular/cdk/keycodes';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-party-group-list',\r\n  templateUrl: './party-group-list.component.html',\r\n  styleUrls: ['./party-group-list.component.scss']\r\n})\r\nexport class PartyGroupListComponent implements OnInit {\r\n  // public partyGroupData:any=[];\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  public p = 1;\r\n  public currentpage: any;\r\n  public totalrow: number = 10;\r\n  public toatlPages: any;\r\n  public currentPageNo: number = 0;\r\n  public partyGrpPageSize: number = 5;\r\n  public pagesize: number = 1;\r\n  public count: number = 0;\r\n  public groupId:any;\r\n  searchGroupName: string = '';\r\n  private searchSubject = new Subject<string>(); \r\n  private searchSubscription: Subscription;\r\n  isLoading: boolean = false;\r\n\r\n  public checkSingleArray: any = [];\r\n  public isChecked: boolean = false;\r\n  public upiCheckedId = [];\r\n  public allSelect: boolean = false;\r\n  public checkSelect: boolean = false;\r\n  public checkSelectsingle:boolean =false;\r\n  public form: FormGroup;\r\n\r\n  @Input() partyGroupData: any[] = []  ;\r\n  excelFileUpload: any;\r\n  pageNumberDisplay: any[] = [];\r\n  selectedPartyGrpIds: any[] = [];\r\n\r\n  constructor(private partyGroupservice:PartGroupServiceService,\r\n    public toastService: ToastNotificationService, public dialog: MatDialog,\r\n    private titleCasePipe: TitleCasePipe, private route: ActivatedRoute, public partyservice : PartyService,private formBuilder: FormBuilder,) { }\r\n\r\n  ngOnInit(): void {\r\n    // this.route.queryParams.subscribe(params => {\r\n    //   this.partyGroupData = params['partyGroupData'];\r\n    // });\r\n    this.getGroupDetails();\r\n    this.partyservice.partyAdded$.subscribe(() => {\r\n      // Fetch the updated list of group\r\n      this.getGroupDetails();\r\n    });\r\n\r\n    this.searchSubscription = this.searchSubject\r\n      .pipe(debounceTime(800),\r\n        distinctUntilChanged(),\r\n        tap(() => {\r\n          this.isLoading = true; // Show the loader when the API call is initiated\r\n        })).subscribe(searchKey => {\r\n          // Call the API with the search key\r\n          if (searchKey.length >= 3) {\r\n            this.searchByGroupName(searchKey);\r\n          } else if (searchKey === '') {\r\n            // this.isLoading = true; // Hide the loader if the search key is less than the threshold\r\n            this.searchByGroupName(searchKey);\r\n          } else {\r\n            this.isLoading = false; // Hide the loader if the search key is less than the threshold\r\n          }\r\n        });\r\n\r\n    this.form = this.formBuilder.group({\r\n      checkArray: this.formBuilder.array([]),\r\n    });\r\n\r\n  }\r\n\r\n  getPartyNames(parties: any[]): string {\r\n    const partyNames = parties.map(party => party.partyName);\r\n    if (partyNames.length > 10) {\r\n      const displayedNames = partyNames.slice(0, 10);\r\n      return `${displayedNames.join(', ')} ...`;\r\n    }\r\n    return partyNames.join(', ');\r\n  }  \r\n\r\n  getGroupDetails(){\r\n    this.partyGroupservice.getPartiGroupsDetails({}, this.currentUser.id, this.partyGrpPageSize, (this.currentPageNo + 1)).then((res) => {\r\n      if(res){\r\n        this.partyGroupData = res.data ? res.data.pageData.map((item) => item.group) : [];\r\n        this.p = parseInt( res.data ? res.data.currentPage : 0,10);\r\n        this.totalrow = res.data ? res.data.totalRows:0\r\n        this.toatlPages = res.data ? res.data.totalPages:0\r\n\r\n      }\r\n  \r\n    },(err) => {\r\n      if(err.error.expose){\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message)\r\n        });\r\n        // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else{\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        });\r\n        // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n  }\r\n\r\n  GetGroupById(groupId){\r\n    this.groupId = groupId\r\n  }\r\n\r\n  deleteGroup(){\r\n    this.partyGroupservice.deleteGroup({},this.groupId).then((res:any)=>{\r\n      this.toastService.toastMsg({\r\n        title: \"Success\",\r\n        content: \"Group Deleted Successfully!!!\"\r\n      });\r\n      // this.toastService.openSnackBar(\"Group Deleted Successfully!!!\");\r\n      this.getGroupDetails();\r\n    },(err) => {\r\n      if(err.error.expose){\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message),\r\n        });\r\n        // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else{\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        });\r\n        // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  openEditPartyGrpModal(groupId: string): void {\r\n    const dialogRef = this.dialog.open(AddGroupMultiplePartyComponent, {\r\n      width: '900px', // Adjust the width as per your requirement\r\n      height: '100vh', // Adjust the height as per your requirement\r\n      data: { groupId: groupId },\r\n      panelClass: 'custom-dialog-edit-PartyGrp',\r\n      disableClose:true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      \r\n    });\r\n  }\r\n\r\n  onSearchInputChange(searchKey: string) {\r\n    // Emit the search key to the searchSubject\r\n    this.searchSubject.next(searchKey);\r\n  }\r\n\r\n\r\n  searchByGroupName(searchKey: string) {\r\n    if (searchKey.trim() === '') {\r\n      this.getGroupDetails();\r\n    } else {\r\n      this.partyGroupservice.getPartiGroupsDetailsByName({}, this.currentUser.id, { groupName: searchKey })\r\n        .then((res) => {\r\n          this.partyGroupData = res.data.pageData.map((item) => item.group);\r\n          this.partyGroupData = this.partyGroupData.filter(group => {\r\n            return group.groupName.toLowerCase().includes(searchKey.toLowerCase()) || group.groupDescription.toLowerCase().includes(searchKey.toLowerCase())});\r\n          if(this.partyGroupData.length === 0){\r\n            this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: searchKey + \" Is Not Found\"\r\n            });\r\n            // this.toastService.openErrorSnackBar(searchKey + \" is not found\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"error\",\r\n          });\r\n          // this.toastService.openErrorSnackBar(error);\r\n          console.log('Error:', error);\r\n        });\r\n    }\r\n    this.isLoading = false; \r\n  }\r\n\r\n  openDialogAddGrp(): void {\r\n    const dialogRef: MatDialogRef<PartyGroupAddComponent> = this.dialog.open(PartyGroupAddComponent, {\r\n      width: '650px',\r\n     // height : '100vh',\r\n      data: { },\r\n      panelClass: 'custom-dialog-PartyGrp-class',\r\n      disableClose:true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n  \r\n  handleInputChange(e){\r\n    this.excelFileUpload= e.target.files[0];\r\n    if(this.excelFileUpload){\r\n      let formdata = new FormData();\r\n      formdata.set(\"file\", this.excelFileUpload)\r\n      this.partyservice.postBulkParty(formdata, this.currentUser.id).then((res) => {\r\n        // this.toastService.openSnackBar(\"Excel Uploaded Successfully\")\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Excel Uploaded Successfully!!!\"\r\n        });\r\n        // this.getAllParties();\r\n        this.getGroupDetails()\r\n      },(err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"err.error.error_message)\",\r\n          });\r\n          // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n        }\r\n        else if(err.error.status == \"409\" && err.error.expose == false){\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"List Of Parties Already Exists\"\r\n          });\r\n          // this.toastService.openErrorSnackBar(\"List Of Parties Already Exists\");\r\n        }\r\n        else{\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Something Went Wrong.\",\r\n          });\r\n          // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  startUpload(){\r\n    document.getElementById('uploadFile').click();\r\n  }\r\n\r\n  // for pagination\r\n  handlePage(e) {\r\n    this.currentPageNo = e.pageIndex;\r\n    this.pagesize = e.pageSize;\r\n    if (this.partyGroupData.length > 0) {\r\n      this.partyGrpPageSize = e.pageSize;\r\n      \r\n    const searchInput = document.getElementById('searchInput') as HTMLInputElement;\r\n    if (searchInput.value !== '') {\r\n      this.searchByGroupName(searchInput.value);\r\n    } else {\r\n      this.getGroupDetails();\r\n    }\r\n    }\r\n  }\r\n\r\n  viewModal(itemId): void {\r\n    const dialogRef: MatDialogRef<ViewPartyGroupComponent> = this.dialog.open(ViewPartyGroupComponent, {\r\n      width: '700px',\r\n      height : '100vh',\r\n      data: { itemId: itemId ,\r\n        totalrow : this.totalrow ,\r\n        currentPageNo : this.currentPageNo\r\n      },\r\n      panelClass: 'custom-dialog-view-partyGrp',\r\n      disableClose:true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  onChekedsingleCheck(e, grpId){\r\n    if (e.target.checked) {\r\n      this.selectedPartyGrpIds.push(grpId);\r\n      this.checkSingleArray.push(e.target.value);\r\n    } else {\r\n      const index = this.selectedPartyGrpIds.indexOf(grpId);\r\n      if (index !== -1) {\r\n        this.selectedPartyGrpIds.splice(index, 1);\r\n        this.checkSingleArray.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    // const checkArray: FormArray = this.form.get('checkArray') as FormArray;\r\n    // if (e.target.checked) {\r\n    //   this.checkSingleArray.push(e.target.value);\r\n    // }\r\n    // else {\r\n    //   this.checkSingleArray = [];\r\n    // }\r\n    // console.log(\"checkSingleArray\",this.checkSingleArray)\r\n  }\r\n\r\n  \r\n  getSingleCheckedId(groupIdId){\r\n    this.groupId = groupIdId;\r\n\r\n  }\r\n  onChekMultiple($event){\r\n    const isChecked = $event.target.checked;\r\n      if (isChecked) {\r\n        this.selectedPartyGrpIds = this.partyGroupData.map(item => item.id);\r\n      } else {\r\n        this.selectedPartyGrpIds = [];\r\n      }\r\n      this.checkSelect = isChecked; // Update the checkbox state in the header\r\n\r\n    let id = $event.target.value;\r\n    this.isChecked = $event.target.checked;\r\n    this.upiCheckedId = this.partyGroupData.map((item) => {\r\n      if (id == -1) {\r\n        if (this.isChecked == true) {\r\n          this.checkSelectsingle = true;\r\n          return item.id;\r\n        }\r\n        else {\r\n          this.checkSelectsingle = false;\r\n          this.upiCheckedId = [];\r\n        }\r\n      }\r\n    })\r\n\r\n  }\r\n  getUPIcheckId(groupIdId){\r\n    this.groupId = groupIdId;\r\n\r\n  }\r\n  showDeleteButton(): boolean {\r\n    return this.selectedPartyGrpIds.length > 0;\r\n  }\r\n\r\n  deletMultipleGroupId(){\r\n    let request = {\r\n      \"deleteGroups\": this.groupId\r\n\r\n    }\r\n    this.partyGroupservice.multipleGroupDelete(request, this.currentUser.id).then((res:any)=>{\r\n      // this.toastService.openSnackBar(\"Group Deleted Successfully!!!\");\r\n      this.toastService.toastMsg({\r\n        title: \"Success\",\r\n        content: \"Group Deleted Successfully!!!\"\r\n      });\r\n      this.checkSelectsingle = false;\r\n      this.upiCheckedId = [];\r\n      this.checkSelect=false;\r\n      this.allSelect=false;\r\n      this.isChecked=false;\r\n      this.checkSingleArray= [];\r\n      this.getGroupDetails() \r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message),\r\n        });\r\n        // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        });\r\n        // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","\r\n\r\n<div *ngIf=\"isLoading\" class=\"loader-container\">\r\n    <div class=\"loader\">\r\n        <div class=\"spinner-border\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row headerButtons mb-3\" id=\"showoptionHide\">\r\n    <div class=\"flex-item searchBar\" *ngIf=\"!isArabic\">\r\n        <input type=\"search\" id=\"searchInput\" class=\"form-control pe-5 my-2\" placeholder=\"Name/GSTIN\"\r\n            (input)=\"onSearchInputChange($event.target.value)\">\r\n    </div>\r\n      <div class=\"flex-item searchBar\" *ngIf=\"isArabic\">\r\n        <input type=\"search\" id=\"searchInput\" class=\"form-control pe-5 my-2\" placeholder=\"Name/{{ lang.GSTIN }}\"\r\n            (input)=\"onSearchInputChange($event.target.value)\">\r\n    </div>\r\n    <div class=\"navOption-btns flex-item formButtons mx-0\">\r\n        <button id=\"saleButtonPrint1\" class=\"btn text-nowrap my-2\" type=\"button\" (click)=\"openDialog()\">\r\n            <i class=\"fas fa-plus\"></i> Add {{isVendor?\"Vendor\" : \"Customer\"}}\r\n        </button>\r\n        <button id=\"saleButtonPrint1\" class=\"btn text-nowrap my-2\" type=\"button\" (click)=\"startUpload()\">\r\n            <i class=\"fas fa-upload\"></i> Import\r\n        </button>\r\n\r\n        <button id=\"saleButtonPrint1\" class=\"btn text-nowrap my-2\" type=\"button\"\r\n            (click)=\"downloadParties(isVendor)\"><i\r\n                class=\"fas fa-download\"></i>\r\n        </button>\r\n        <input type=\"file\" name=\"file\" id=\"uploadFile\" accept=\".xls,.xlsx\" class=\"hidden-input\"\r\n            (change)=\"handleInputChange($event)\" #uploadFileInput/>\r\n    </div>\r\n</div>\r\n\r\n\r\n<!-- <hr class=\"mb-1\"> -->\r\n\r\n<div class=\"table-container overflow-visible\">\r\n\r\n    <div class=\"table-div\" style=\"overflow-x: auto;\">\r\n        <table class=\"table table-responsive\" *ngIf=\"!isArabic\">\r\n            <!-- <thead>\r\n                <tr class=\"row \">\r\n                    <div class=\"col-sm-10 col-lg-10\">\r\n                        <div class=\"row\">\r\n                            <th class=\"col-1 text-nowrap d-flex justify-content-center\">\r\n                                <input type=\"checkbox\" class=\"form-check-input\" class=\"mt-2\"\r\n                                    (change)=\"onChekMultiple($event)\" [value]=\"-1\"\r\n                                    [checked]=\"selectedPartyIds.length === partyList.length\" [(ngModel)]=\"allSelect\" />\r\n                                <div class=\"col d-flex align-items-center\">\r\n                                    <span *ngIf=\"showDeleteButton\">\r\n                                        <button *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn pt-4\"\r\n                                            data-bs-toggle=\"modal\" data-bs-target=\"#errorArchiveSelect-modal\">\r\n                                            <span *ngIf=\"checkSingleArray.length > 0 || isChecked\"\r\n                                                class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                                style=\"color : #FC7643;\" data-bs-toggle=\"tooltip\"\r\n                                                data-bs-placement=\"top\" title=\"Archive\"\r\n                                                (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">archive\r\n                                            </span>\r\n                                        </button>\r\n                                    </span>\r\n                                    <span *ngIf=\"showUnarchiveButton\">\r\n                                        <button *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn pt-4\"\r\n                                            data-bs-toggle=\"modal\" data-bs-target=\"#errorUnarchiveSelect-modal\">\r\n                                            <span *ngIf=\"checkSingleArray.length > 0 || isChecked\"\r\n                                                class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                                style=\"color : #FC7643;\" data-bs-toggle=\"tooltip\"\r\n                                                data-bs-placement=\"top\" title=\"Unrchive\"\r\n                                                (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">unarchive\r\n                                            </span>\r\n                                        </button>\r\n                                    </span>\r\n                                </div>\r\n                            </th>\r\n                            <th class=\"col-4 text-nowrap d-flex align-items-center\"\r\n                                style=\"justify-content: flex-start;\">{{isVendor?\"Vendor\" : \"Customer\"}} Name</th>\r\n                            <th class=\"col-4 text-nowrap d-flex align-items-center\"\r\n                                style=\"justify-content: flex-start;\">GSTIN</th>\r\n                            <th class=\"col-4 text-nowrap d-flex align-items-center\"\r\n                                style=\"justify-content: flex-start;\">GST Type</th>\r\n                            <th class=\"col-4 text-nowrap d-flex align-items-center\"\r\n                                style=\"justify-content: flex-start;\">Payment</th>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-2 col-lg-2\">\r\n                        <th class=\"col text-nowrap\"></th>\r\n                    </div>\r\n                </tr>\r\n                <hr style=\"margin-top: 0px; margin-bottom: 0px;\">\r\n            </thead> -->\r\n\r\n            <thead>\r\n              <tr>\r\n                <th class = \"text-nowrap\" style=\"vertical-align: middle;width:100px;height:50px;display:flex;align-items: center;\">\r\n                  <input type=\"checkbox\" class=\"form-check-input\"\r\n                  (change)=\"onChekMultiple($event)\" [value]=\"-1\"\r\n                  [checked]=\"selectedPartyIds.length === partyList.length\" [(ngModel)]=\"allSelect\" />\r\n                  <div class=\"d-flex align-items-center\">\r\n                      <span *ngIf=\"showDeleteButton\">\r\n                          <button *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn\"\r\n                              data-bs-toggle=\"modal\" data-bs-target=\"#errorArchiveSelect-modal\"\r\n                              style = \"padding-top: 15px;\">\r\n                              <span *ngIf=\"checkSingleArray.length > 0 || isChecked\"\r\n                                  class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                  style=\"color : #FC7643;\" data-bs-toggle=\"tooltip\"\r\n                                  data-bs-placement=\"top\" title=\"Archive\"\r\n                                  (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">archive\r\n                              </span>\r\n                          </button>\r\n                      </span>\r\n                      <span *ngIf=\"showUnarchiveButton\">\r\n                          <button *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn\"\r\n                              data-bs-toggle=\"modal\" data-bs-target=\"#errorUnarchiveSelect-modal\"\r\n                              style = \"padding-top: 15px;\">\r\n                              <span *ngIf=\"checkSingleArray.length > 0 || isChecked\"\r\n                                  class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                  style=\"color : #FC7643;\" data-bs-toggle=\"tooltip\"\r\n                                  data-bs-placement=\"top\" title=\"Unrchive\"\r\n                                  (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">unarchive\r\n                              </span>\r\n                          </button>\r\n                      </span>\r\n                  </div>\r\n                </th>\r\n                <th class = \"text-nowrap\" style = \"vertical-align: middle;width:25%;\">{{isVendor?\"Vendor\" : \"Customer\"}} Name</th>\r\n                <th class = \"text-nowrap\" style = \"vertical-align: middle;\">GSTIN</th>\r\n                <th class = \"text-nowrap\" style = \"vertical-align: middle;\">GST Type</th>\r\n                <th class = \"text-nowrap\" style = \"vertical-align: middle;\">Payment</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <!-- <tbody>\r\n                <tr class=\"row\" *ngFor=\"let item of partyList;let i = index\" style=\"color: #676398!important;\"\r\n                    [ngStyle]=\"{'background-color': item.isDeleted ? '#c7c2de' : (i % 2 === 0 ? '#ffffff' : '#f2f2f2')}\">\r\n                    <div class=\"col-sm-10 col-lg-10\">\r\n                        <div class=\"row\">\r\n                            <td class=\"col-1 text-nowrap d-flex justify-content-center\">\r\n                                <input class=\"form-check-input\" type=\"checkbox\"\r\n                                    [checked]=\"selectedPartyIds.includes(item.id)\"\r\n                                    (change)=\"onChekedsingleCheck($event, item.id)\" [value]=\"item.id\" />\r\n                                <div class=\"col\"></div>\r\n                            </td>\r\n                            <td class=\"col-4 text-nowrap\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"party-info col-2 d-flex justify-content-start p-0\">\r\n                                        <img src=\"assets/img/dashboard-party-profiles/party-profile-1.png\" alt=\"Profile\"\r\n                                            class=\"rounded-circle\">\r\n                                    </div>\r\n                                    <div class=\"party-name col-10 text-align-center\">\r\n                                        <div>{{ item.partyName }}</div>\r\n                                        <div class=\"mobile\">{{ item.mobile }}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td class=\"col-4 d-flex align-items-center text-nowrap\"\r\n                                style=\"justify-content: flex-start;\">{{ item.gstIn }}</td>\r\n                            <td class=\"col-4 d-flex align-items-center text-nowrap\"\r\n                                style=\"justify-content: flex-start;\">{{item.gstType}}</td>\r\n                            <td class=\"col-4 d-flex align-items-center text-nowrap\"\r\n                                style=\"justify-content: flex-start;\">{{ item.payment }}</td>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-1 col-lg-2 text-nowrap\">\r\n\r\n                        <td class=\"row\">\r\n                            <button class=\"btn col-4\" [disabled]=\"item.isDeleted\">\r\n                                <span class=\"bi bi-eye icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    (click)=\"viewModal(item.id)\" data-bs-placement=\"top\" title=\"View\"></span>\r\n                            </button>\r\n\r\n                            <button class=\"btn col-4\" (click)=\"openEditPartyModal(item.id)\" routerLinkActive=\"active\"\r\n                                [disabled]=\"item.isDeleted\">\r\n                                <span class=\"bi-pencil-square icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    data-bs-placement=\"top\" title=\"Edit\"></span>\r\n                            </button>\r\n\r\n                            <button class=\"btn col-4 mt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\">\r\n                                <span class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    style=\"color : #FC7643;\" (click)=\"GetPartyById(item.id, item.isDeleted)\"\r\n                                    data-bs-placement=\"top\" [title]=\"item.isDeleted ? 'Unarchive' : 'Archive'\">{{\r\n                                    item.isDeleted ? 'unarchive' : 'archive' }}</span>\r\n                            </button>\r\n                        </td>\r\n                    </div>\r\n                </tr>\r\n            </tbody> -->\r\n\r\n            <tbody>\r\n              <tr *ngFor=\"let item of partyList;let i = index\" style=\"color: #676398!important;\"\r\n                  [ngStyle]=\"{'background-color': item.isDeleted ? '#c7c2de' : (i % 2 === 0 ? '#ffffff' : '#f2f2f2')}\">\r\n                <td class = \"text-nowrap\" style = \"vertical-align: middle;width:100px;\">\r\n                  <input class=\"form-check-input\" type=\"checkbox\" [ngClass]=\"{'custom-checkbox': !item.isDeleted, 'custom-checkbox deleted': item.isDeleted}\"\r\n                  [checked]=\"selectedPartyIds.includes(item.id)\"\r\n                  (change)=\"onChekedsingleCheck($event, item.id)\" [value]=\"item.id\" />\r\n                </td>\r\n                <td class = \"long-address\" style = \"vertical-align: middle;width:25%;\">\r\n                  <div class=\"row\" style = \"display: flex;flex-direction:row;justify-content:flex-start;align-items: center;flex-wrap:nowrap;padding-left: 8px;padding-right: 8px;\">\r\n                    <div class = \"flex-item\" style = \"flex-basis: 55px;\">\r\n                        <img src=\"assets/img/dashboard-party-profiles/party-profile-1.png\" alt=\"Profile\" width=\"50\" height=\"50\"\r\n                            class=\"rounded-circle\">\r\n                    </div>\r\n                    <div class=\"flex-item party-name\" style = \"display: flex;flex-direction: column;align-items: flex-start;flex-basis: 150px;\">\r\n                        <div>{{ item.partyName }}</div>\r\n                        <div class=\"mobile\">{{ item.mobile }}</div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td class = \"text-nowrap\" style = \"vertical-align: middle;\">{{ item.gstIn }}</td>\r\n                <td class = \"text-nowrap\" style = \"vertical-align: middle;\">{{item.gstType}}</td>\r\n                <td class = \"text-nowrap\" style = \"vertical-align: middle;\">{{ item.payment }}</td>\r\n                <td class = \"text-nowrap\" style = \"vertical-align: middle;text-align: center;width:15%;\">\r\n                  <button class=\"btn\" [disabled]=\"item.isDeleted\">\r\n                    <span class=\"bi bi-eye icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                        (click)=\"viewModal(item.id)\" data-bs-placement=\"top\" title=\"View\"></span>\r\n                  </button>\r\n\r\n                  <button class=\"btn\" (click)=\"openEditPartyModal(item.id)\" routerLinkActive=\"active\"\r\n                      [disabled]=\"item.isDeleted\">\r\n                      <span class=\"bi-pencil-square icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                          data-bs-placement=\"top\" title=\"Edit\"></span>\r\n                  </button>\r\n\r\n                  <button class=\"btn mt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\" [disabled]=\"selectedPartyIds.length != 0\">\r\n                      <span class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                          style=\"color : #FC7643;\" (click)=\"GetPartyById(item.id, item.isDeleted)\"\r\n                          data-bs-placement=\"top\" [title]=\"item.isDeleted ? 'Unarchive' : 'Archive'\">{{\r\n                          item.isDeleted ? 'unarchive' : 'archive' }}</span>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n\r\n            <tbody *ngIf=\"partyList.length == 0\">\r\n                <tr class=\"text-center\">\r\n                  <td style=\"width:100px;\">&nbsp;</td>\r\n                  <td colspan=\"4\">\r\n                      <img class=\"image-responsive\" src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\"\r\n                          alt=\"notfound1\" width=\"200\" height=\"150\" />\r\n                  </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <!-- For UAE -->\r\n\r\n        <table class=\"table table-responsive\" *ngIf=\"isArabic\">\r\n            <thead>\r\n                <tr class=\"row \">\r\n                    <div class=\"col-sm-10 col-lg-10\">\r\n                        <div class=\"row\">\r\n                            <th class=\"col-1 text-nowrap d-flex justify-content-center\">\r\n                                <input type=\"checkbox\" class=\"form-check-input\" class=\"mt-2\"\r\n                                    (change)=\"onChekMultiple($event)\" [value]=\"-1\"\r\n                                    [checked]=\"selectedPartyIds.length === partyList.length\" [(ngModel)]=\"allSelect\" />\r\n                                <div class=\"col d-flex align-items-center\">\r\n                                    <span *ngIf=\"showDeleteButton\">\r\n                                        <button *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn pt-4\"\r\n                                            data-bs-toggle=\"modal\" data-bs-target=\"#errorArchiveSelect-modal\">\r\n                                            <span *ngIf=\"checkSingleArray.length > 0 || isChecked\"\r\n                                                class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                                style=\"color : #FC7643;\" data-bs-toggle=\"tooltip\"\r\n                                                data-bs-placement=\"top\" title=\"Archive\"\r\n                                                (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">archive\r\n                                            </span>\r\n                                        </button>\r\n                                    </span>\r\n                                    <span *ngIf=\"showUnarchiveButton\">\r\n                                        <button *ngIf=\"checkSingleArray.length > 0 || isChecked\" class=\"btn pt-4\"\r\n                                            data-bs-toggle=\"modal\" data-bs-target=\"#errorUnarchiveSelect-modal\">\r\n                                            <span *ngIf=\"checkSingleArray.length > 0 || isChecked\"\r\n                                                class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                                style=\"color : #FC7643;\" data-bs-toggle=\"tooltip\"\r\n                                                data-bs-placement=\"top\" title=\"Unrchive\"\r\n                                                (click)=\" upiCheckedId.length > 0? getUPIcheckId(upiCheckedId):getSingleCheckedId(checkSingleArray)\">unarchive\r\n                                            </span>\r\n                                        </button>\r\n                                    </span>\r\n                                </div>\r\n                            </th>\r\n                            <th class=\"col-4 text-nowrap d-flex align-items-center\"\r\n                                style=\"justify-content: flex-start;\">{{isVendor?\"Vendor\" : \"Customer\"}} Name</th>\r\n                            <th class=\"col-4 text-nowrap d-flex align-items-center\"\r\n                                style=\"justify-content: flex-start;\">{{ lang.GSTIN }}</th>\r\n\r\n                            <th class=\"col-3 text-nowrap d-flex align-items-center\"\r\n                                style=\"justify-content: flex-start;\">Payment</th>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-2 col-lg-2\">\r\n                        <th class=\"col text-nowrap\"></th>\r\n                    </div>\r\n                </tr>\r\n                <hr style=\"margin-top: 0px; margin-bottom: 0px;\">\r\n            </thead>\r\n            <tbody>\r\n                <tr class=\"row\" *ngFor=\"let item of partyList;let i = index\" style=\"color: #676398!important;\"\r\n                    [ngStyle]=\"{'background-color': item.isDeleted ? '#c7c2de' : (i % 2 === 0 ? '#ffffff' : '#f2f2f2')}\">\r\n                    <div class=\"col-sm-10 col-lg-10\">\r\n                        <div class=\"row\">\r\n                            <td class=\"col-1 text-nowrap d-flex justify-content-center\">\r\n                                <input class=\"form-check-input\" type=\"checkbox\" [ngClass]=\"{'custom-checkbox': !item.isDeleted, 'custom-checkbox deleted': item.isDeleted}\"\r\n                                    [checked]=\"selectedPartyIds.includes(item.id)\"\r\n                                    (change)=\"onChekedsingleCheck($event, item.id)\" [value]=\"item.id\" />\r\n                                <div class=\"col\"></div>\r\n                            </td>\r\n                            <td class=\"col-4 text-nowrap\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"party-info col-2 d-flex justify-content-start p-0\">\r\n                                        <img src=\"assets/img/dashboard-party-profiles/party-profile-1.png\" alt=\"Profile\"\r\n                                            class=\"rounded-circle\">\r\n                                    </div>\r\n                                    <div class=\"party-name col-10 text-align-center\">\r\n                                        <div>{{ item.partyName }}</div>\r\n                                        <div class=\"mobile\">{{ item.mobile }}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </td>\r\n                            <td class=\"col-4 d-flex align-items-center text-nowrap\"\r\n                                style=\"justify-content: flex-start;\">{{ item.gstIn }}</td>\r\n\r\n                            <td class=\"col-3 d-flex align-items-center text-nowrap\"\r\n                                style=\"justify-content: flex-start;\">{{ item.payment }}</td>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-1 col-lg-2 text-nowrap\">\r\n\r\n                        <td class=\"row\">\r\n                            <button class=\"btn col-4\" [disabled]=\"item.isDeleted\">\r\n                                <span class=\"bi bi-eye icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    (click)=\"viewModal(item.id)\" data-bs-placement=\"top\" title=\"View\"></span>\r\n                            </button>\r\n\r\n                            <button class=\"btn col-4\" (click)=\"openEditPartyModal(item.id)\" routerLinkActive=\"active\"\r\n                                [disabled]=\"item.isDeleted\">\r\n                                <span class=\"bi-pencil-square icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    data-bs-placement=\"top\" title=\"Edit\"></span>\r\n                            </button>\r\n\r\n                            <!-- <span class=\"m-1 text-center\"></span> -->\r\n                            <button class=\"btn col-4 mt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\">\r\n                                <span class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                    style=\"color : #FC7643;\" (click)=\"GetPartyById(item.id, item.isDeleted)\"\r\n                                    data-bs-placement=\"top\" [title]=\"item.isDeleted ? 'Unarchive' : 'Archive'\">{{\r\n                                    item.isDeleted ? 'unarchive' : 'archive' }}</span>\r\n                            </button>\r\n                        </td>\r\n                    </div>\r\n                </tr>\r\n            </tbody>\r\n            <tbody *ngIf=\"partyList.length == 0\">\r\n                <tr class=\"text-center\">\r\n                    <td colspan=\"10\">\r\n                        <img class=\"image-responsive\" src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\"\r\n                            alt=\"notfound1\" width=\"200\" height=\"150\" />\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <mat-paginator sticky class=\"float-right mt-2\" *ngIf=\"partyList.length > 0\" [pageSize]=\"partyPageSize\"\r\n            [pageSizeOptions]=\"[5, 10, 20,30]\" [length]=\"totalrow\" [pageIndex]=\"currentPageNo\" showFirstLastButtons\r\n            (page)=\"handlePage($event)\" aria-label=\"Select page\">\r\n        </mat-paginator>\r\n    </div>\r\n\r\n    <!-- ultiple Unarchive -->\r\n    <div class=\"modal fade\" id=\"errorUnarchiveSelect-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n            <div class=\"modal-content position-relative\">\r\n                <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                    <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\"\r\n                        data-bs-dismiss=\"modal\" aria-label=\"Close\"></a>\r\n                </div>\r\n                <div class=\"modal-body p-0\">\r\n                    <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                        <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 500;font-family: 'Poppins'; \"\r\n                            id=\"modalExampleDemoLabel\">\r\n                            <i class=\"fa fa-unlock-alt\" aria-hidden=\"true\"></i> Unarchive {{isVendor?\"Vendor\" :\r\n                            \"Customer\"}}?\r\n                        </h2>\r\n                    </div>\r\n\r\n                    <div class=\"p-2\">\r\n                        <h4 *ngIf=\"isChecked \" class=\"text-center \" style = \"font-family: 'Poppins';\">Are you sure to unarchive all {{isVendor?\"Vendor\" :\r\n                            \"Customer\"}}?</h4>\r\n                            <h4 *ngIf=\"!isChecked \" class=\"text-center \" style = \"font-family: 'Poppins';\">Are you sure to unarchive all selected\r\n                                {{isVendor?\"Vendor\" : \"Customer\"}}?</h4>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"modal-footer justify-content-center\">\r\n                    <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                    <a *ngIf=\"isChecked \" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                        (click)=\"unArchiveMultipleParties()\">Unarchive</a>\r\n                    <a *ngIf=\"!isChecked \" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                        (click)=\"unArchiveMultipleParties()\">Unarchive</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- ultiple Archive -->\r\n    <div class=\"modal fade\" id=\"errorArchiveSelect-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n            <div class=\"modal-content position-relative\">\r\n                <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                    <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\"\r\n                        data-bs-dismiss=\"modal\" aria-label=\"Close\"></a>\r\n                </div>\r\n                <div class=\"modal-body p-0\">\r\n                    <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                        <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 500;font-family: 'Poppins'; \"\r\n                            id=\"modalExampleDemoLabel\">\r\n                            <i class=\"fa fa-lock-alt\" aria-hidden=\"true\"></i> Archive {{isVendor?\"Vendor\" :\r\n                            \"Customer\"}}?\r\n                        </h2>\r\n                    </div>\r\n\r\n                    <div class=\"p-2\">\r\n                        <h4 *ngIf=\"isChecked \" class=\"text-center \" style = \"font-family: 'Poppins';\">Are you sure to archive all {{isVendor?\"Vendor\" :\r\n                            \"Customer\"}}?</h4>\r\n                            <h4 *ngIf=\"!isChecked \" class=\"text-center \" style = \"font-family: 'Poppins';\">Are you sure to archive all selected\r\n                                {{isVendor?\"Vendor\" : \"Customer\"}}?</h4>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"modal-footer justify-content-center\">\r\n                    <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                    <a *ngIf=\"isChecked \" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                        (click)=\"deletedParty()\">Archive</a>\r\n                    <a *ngIf=\"!isChecked \" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                        (click)=\"deletedParty()\">Archive</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Signle archive  -->\r\n    <div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n            <div class=\"modal-content position-relative\">\r\n                <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                    <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\"\r\n                        data-bs-dismiss=\"modal\" aria-label=\"Close\"></a>\r\n                </div>\r\n                <div class=\"modal-body p-0\">\r\n                    <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                        <h2 *ngIf=\"!isdeletedParty\" class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 500;font-family: 'Poppins'; \"\r\n                            id=\"modalExampleDemoLabel\">\r\n                            Archive Vendor? </h2>\r\n                        <h2 *ngIf=\"isdeletedParty\" class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 500;font-family: 'Poppins'; \"\r\n                            id=\"modalExampleDemoLabel\">\r\n                            Unarchive Vendor? </h2>\r\n                    </div>\r\n                    <h4 class=\"text-center\" *ngIf=\"!isdeletedParty\" style = \"font-family: 'Poppins';\">Are You Sure To Archive Vendor?</h4>\r\n                    <h4 class=\"text-center\" *ngIf=\"isdeletedParty\" style = \"font-family: 'Poppins';\">Are You Sure To Unarchive Vendor?</h4>\r\n\r\n                </div>\r\n                <div class=\"modal-footer justify-content-center\">\r\n                    <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                    <a class=\"btn btn-outline-danger\" *ngIf=\"!isdeletedParty\" (click)=\"deletePartyById()\"\r\n                        data-bs-dismiss=\"modal\">Archive\r\n                    </a>\r\n                    <a *ngIf=\"isdeletedParty\" class=\"btn btn-outline-warning\" (click)=\"deletePartyById()\"\r\n                        data-bs-dismiss=\"modal\">Unarchive\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormArray } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { List } from 'choices.js/public/types/src/scripts/components';\r\nimport { PartyService } from 'src/app/core/services/party.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { Workbook } from 'exceljs';\r\nimport * as fs from 'file-saver';\r\nimport { TitleCasePipe } from '@angular/common';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { EditPartyComponent } from '../edit-party/edit-party.component';\r\nimport { AddPartyComponent } from '../add-party/add-party.component';\r\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\r\nimport { ViewPartyComponent } from '../view-party/view-party.component';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, tap } from 'rxjs/operators';\r\nimport lang from \"src/assets/langTranslation/language_translation\"\r\nimport { CommonService } from 'src/app/core/services/common.service';\r\n\r\n@Component({\r\n  selector: 'app-party-list',\r\n  templateUrl: './party-list.component.html',\r\n  styleUrls: ['./party-list.component.scss']\r\n})\r\nexport class PartyListComponent implements OnInit {\r\n  public lang = lang.UAE;\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  public PartyForm: FormGroup;\r\n  public isShippingAddress: boolean;\r\n  public partyNumber: any;\r\n  data: any;\r\n  partyLength: any;\r\n  public excelFileUpload: any;\r\n  @Input()\r\n  partyList: any[] = [];\r\n  partyId: string = \"\";\r\n  // public partyList: any = []\r\n\r\n  public p = 1;\r\n  public currentpage: any;\r\n  public totalrow: any;\r\n  public toatlPages: any;\r\n  public currentPageNo: number = 0;\r\n  public partyPageSize: number = 5;\r\n  public pagesize: number = 1;\r\n  public count: number = 0;\r\n  totalItems: number;\r\n  public searchKey: string;\r\n  public isdeletedParty: boolean = false;\r\n  pageNumberDisplay: number[] = [];\r\n  private searchSubject = new Subject<string>();\r\n  private searchSubscription: Subscription;\r\n  isLoading: boolean = false;\r\n  isVendor: boolean = false;\r\n\r\n  public checkSingleArray: any[] = [];\r\n  public selectedPartyIds: any[] = [];\r\n  public isChecked: boolean = false;\r\n  public upiCheckedId = [];\r\n  public allSelect: boolean = false;\r\n  public checkSelect: boolean = false;\r\n  public checkSelectsingle: boolean = false;\r\n  form: FormGroup;\r\n  currentTab: string;\r\n  archivedPartyIds: any[] = [];\r\n  unarchivedPartyIds: any[] = [];\r\n  showDeleteButton: boolean = false;\r\n  showUnarchiveButton: boolean = false;\r\n    isArabic: boolean;\r\n  public flag:number=0;\r\n  @ViewChild('uploadFileInput') uploadFileInput: ElementRef;\r\n\r\n  // public isAllSelected: boolean = false;\r\n  // public selectedParties: any[] = [];\r\n  // public multipleSelectParties: any[] = [];\r\n  // public isChecked: boolean;\r\n  // public isCheckedArr: any[] = [];\r\n  // public checkSelectsingle: boolean;\r\n  // public checkSelect: boolean = false;\r\n  // arrayForm: FormGroup;\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n    public router: Router, public dialog: MatDialog,\r\n    public partyService: PartyService,\r\n    public route: ActivatedRoute,\r\n    public toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe,private commonService:CommonService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.commonService.isArabic$.subscribe((isArabic) => {\r\n      this.isArabic = isArabic;\r\n    });\r\n        // this.route.queryParams.subscribe(params => {\r\n    //   this.partyList = params['partyList'];\r\n    // });\r\n    const currentRoute2 = this.route.snapshot.url[this.route.snapshot.url.length - 1]?.path;\r\n    console.log('Last Route Segment in partylist:', currentRoute2);\r\n    this.currentTab = currentRoute2;\r\n    console.log('abcd', this.currentTab);\r\n    if (currentRoute2 == 'customer-list') {\r\n      this.isVendor = false;\r\n      this.flag = 1;\r\n    } else {\r\n      this.isVendor = true;\r\n      this.flag = 0;\r\n    }\r\n    this.getAllParties();\r\n    this.partyService.partyAdded$.subscribe(() => {\r\n      // Fetch the updated list of users\r\n      this.getAllParties();\r\n    });\r\n    this.searchSubscription = this.searchSubject\r\n      .pipe(debounceTime(800),\r\n        distinctUntilChanged(),\r\n        tap(() => {\r\n          this.isLoading = true; // Show the loader when the API call is initiated\r\n        })).subscribe(searchKey => {\r\n          // Call the API with the search key\r\n          if (searchKey.length >= 3) {\r\n            this.getPartyBySearch(searchKey);\r\n          } else if (searchKey === '') {\r\n            // this.isLoading = true; // Hide the loader if the search key is less than the threshold\r\n            this.getPartyBySearch(searchKey);\r\n          } else {\r\n            this.isLoading = false; // Hide the loader if the search key is less than the threshold\r\n          }\r\n        });\r\n    this.form = this.formBuilder.group({\r\n      checkArray: this.formBuilder.array([]),\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // Unsubscribe from the searchSubscription to avoid memory leaks\r\n    this.searchSubscription.unsubscribe();\r\n  }\r\n\r\n  getAllParties() {\r\n    this.partyService.getAllPartiesDetails({}, this.currentUser.id, this.partyPageSize, (this.currentPageNo + 1), this.currentTab).then((res) => {\r\n      this.p = res.data.currentPage;\r\n      this.partyList = res.data.pageData;\r\n      console.log(this.partyList);\r\n      this.totalrow = res.data.totalrows\r\n      this.toatlPages = res.data.totalPages\r\n    }, (err) => {\r\n      if (err.error.status == 404) {\r\n        this.partyList = [];\r\n      }\r\n    })\r\n    // const startIndex = this.p;\r\n    // const endIndex = startIndex + this.pagesize;\r\n    // const partiesToDisplay = this.partyList.slice(startIndex, endIndex);\r\n  }\r\n\r\n  openEditPartyModal(partyId: string): void {\r\n    const dialogRef = this.dialog.open(EditPartyComponent, {\r\n      width: '700px', // Adjust the width as per your requirement\r\n      height: '730px', // Adjust the height as per your requirement\r\n      data: { partyId: partyId },\r\n      panelClass: 'custom-dialog-edit-party',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n\r\n    });\r\n  }\r\n\r\n  getPartyBySearch(searchKey: string) {\r\n    // console.log(this.partyPageSize)\r\n    setTimeout(() => {\r\n      this.partyService.getAllPartiesDetailsSearch({}, this.currentUser.id, this.partyPageSize, (this.currentPageNo + 1), searchKey.toLowerCase(),this.currentTab).then((res) => {\r\n        this.p = res.data.currentpage;\r\n        this.partyList = res.data.pageData;\r\n        this.totalrow = res.data.totalrows;\r\n        this.toatlPages = res.data.totalPages;\r\n        if (this.totalrow === 0 && !(searchKey === \"\")) {\r\n          if(this.flag == 0){\r\n            this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: \"Vendor Not Found!!!\",\r\n            });\r\n          }\r\n          else{\r\n            this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: \"Customer Not Found!!!\",\r\n            });\r\n          }\r\n\r\n        }\r\n      }, (err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: this.titleCasePipe.transform(err.error.error_message),\r\n          });\r\n        }\r\n        else {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Something Went Wrong.\",\r\n          });\r\n        }\r\n      })\r\n      this.isLoading = false; // Hide the loader after the API call is completed\r\n    }, 500);\r\n  }\r\n\r\n  onSearchInputChange(searchKey: string) {\r\n    // Emit the search key to the searchSubject\r\n    this.searchSubject.next(searchKey);\r\n  }\r\n\r\n  openDialog(): void {\r\n    const dialogRef: MatDialogRef<AddPartyComponent> = this.dialog.open(AddPartyComponent, {\r\n      width: '700px', // Adjust the width as per your requirement\r\n      height: '730px',\r\n      data: { isVendor: this.isVendor },\r\n      panelClass: 'custom-dialog-Party-class',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  deletePartyById() { // this function is called for achive party\r\n    if (this.isdeletedParty) {\r\n      this.partyService.UnarchivedParty({}, this.partyId).then((res) => {\r\n        // this.toastService.toastMsg({\r\n        //   title: \"Success\",\r\n        //   content: \"Vendor Unarchived Successfully!!!\",\r\n        // });\r\n        if(this.flag == 0){\r\n          this.toastService.toastMsg({\r\n            title: \"Success\",\r\n            content: \"Vendors Unarchived Successfully!!!\",\r\n          });\r\n        }\r\n        else{\r\n          this.toastService.toastMsg({\r\n            title: \"Success\",\r\n            content: \"Customers Unarchived Successfully!!!\",\r\n          });\r\n        }\r\n        this.getAllParties();\r\n      })\r\n    }\r\n    else {\r\n      this.partyService.deletePartyById({}, this.partyId).then((res) => {\r\n        if(this.flag == 0){\r\n          this.toastService.toastMsg({\r\n            title: \"Success\",\r\n            content: \"Vendors Archived Successfully!!!\",\r\n          });\r\n        }\r\n        else{\r\n          this.toastService.toastMsg({\r\n            title: \"Success\",\r\n            content: \"Customers Archived Successfully!!!\",\r\n          });\r\n        }\r\n        this.getAllParties();\r\n      })\r\n    }\r\n  }\r\n\r\n  GetPartyById(partyId: string, isdeleted: boolean) {\r\n    this.partyId = partyId;\r\n    this.isdeletedParty = isdeleted;\r\n  }\r\n\r\n  // for pagination\r\n  handlePage(e) {\r\n    this.currentPageNo = e.pageIndex;\r\n    this.pagesize = e.pageSize;\r\n    if (this.partyList.length > 0) {\r\n      this.partyPageSize = e.pageSize;\r\n      \r\n    const searchInput = document.getElementById('searchInput') as HTMLInputElement;\r\n    if (searchInput.value !== '') {\r\n      this.getPartyBySearch(searchInput.value);\r\n    } else {\r\n      this.getAllParties();\r\n    }\r\n    }\r\n  }\r\n\r\n  // getPages(): number[] {\r\n  //   return Array.from({ length: this.toatlPages }, (_, i) => i + 1);\r\n  // }\r\n\r\n  getPages(): number[] {\r\n    const totalPages = Math.ceil(this.totalItems / this.partyPageSize);\r\n    return Array.from({ length: totalPages }, (_, index) => index + 1);\r\n  }\r\n\r\n  goToPage(page: number): void {\r\n    this.currentPageNo = page;\r\n    this.getAllParties();\r\n    // Perform the necessary data fetching or navigation logic based on the selected page\r\n  }\r\n\r\n  onPageButtonClick(page: MatPaginator) {\r\n    this.currentPageNo = page.pageIndex;\r\n  }\r\n  // getPages(): number[] {\r\n  //   const totalPages = this.getTotalPages();\r\n  //   return Array.from({ length: totalPages }, (_, index) => index + 1);\r\n  // }\r\n\r\n  // getTotalPages(): number {\r\n  //   return Math.ceil(this.totalrow / this.partyPageSize);\r\n  // }\r\n\r\n  // handlePageChange(pageNumber: number): void {\r\n  //   this.partyPageSize = this.partyPageSize\r\n  //   this.currentPageNo = pageNumber;\r\n  //   this.p = pageNumber;\r\n  //   this.getAllParties();\r\n  // }\r\n\r\n\r\n\r\n  updateTotalItems(): void {\r\n    this.totalItems = this.partyList.length;\r\n    this.p = 1;\r\n    this.getAllParties();\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    console.log(\"in here import file\")\r\n    this.excelFileUpload = e.target.files[0];\r\n    const pattern = /\\.(xlsx|xls)$/i; // Pattern to match \".xlsx\" or \".xls\" extension\r\n    if (!pattern.test(this.excelFileUpload.name)) {\r\n      this.toastService.toastMsg({\r\n        title: \"Error\",\r\n        content: \"Invalid Format. Please Select An Excel File.\",\r\n      });\r\n      // this.toastService.openErrorSnackBar(\"Invalid format. Please select an Excel file.\");\r\n      return;\r\n    }\r\n    if (this.excelFileUpload) {\r\n      let formdata = new FormData();\r\n      formdata.set(\"file\", this.excelFileUpload)\r\n      this.partyService.postBulkParty(formdata, this.currentUser.id).then((res) => {\r\n        // this.toastService.openSnackBar(\"Excel Uploaded Successfully\")\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Excel Uploaded Successfully!!!\",\r\n        });\r\n        this.getAllParties();\r\n        // window.location.reload()\r\n      }, (err) => {\r\n        // Reset the value of the file input element to allow selecting the same file again\r\n        this.uploadFileInput.nativeElement.value = '';\r\n        if (err.error.status === \"409\") {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"List Of Contact Already Exists\",\r\n          });\r\n        }\r\n        else if (err.error.expose) {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: this.titleCasePipe.transform(err.error.error_message),\r\n          });\r\n        }\r\n        else{\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Something Went Wrong.\",\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n  startUpload() {\r\n    console.log(\"Upload excel file\");\r\n    document.getElementById('uploadFile').click();\r\n  }\r\n\r\n  viewModal(itemId): void {\r\n    const dialogRef: MatDialogRef<ViewPartyComponent> = this.dialog.open(ViewPartyComponent, {\r\n      width: '700px',\r\n      height: '100%',\r\n      data: { itemId: itemId },\r\n      panelClass: 'custom-dialog-view-party',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  onChekedsingleCheck(e, partyId) {\r\n    if (e.target.checked) {\r\n      this.selectedPartyIds.push(partyId);\r\n      this.checkSingleArray.push(e.target.value);\r\n    } else {\r\n      const index = this.selectedPartyIds.indexOf(partyId);\r\n      if (index !== -1) {\r\n        this.selectedPartyIds.splice(index, 1);\r\n        this.checkSingleArray.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    // Clear the archived and unarchived party IDs\r\n    this.archivedPartyIds = [];\r\n    this.unarchivedPartyIds = [];\r\n\r\n    // Update the archived and unarchived party IDs based on the selected parties\r\n    this.selectedPartyIds.forEach(partyId => {\r\n      const party = this.partyList.find(item => item.id === partyId);\r\n      if (party) {\r\n        if (party.isDeleted) {\r\n          this.archivedPartyIds.push(partyId);\r\n        } else {\r\n          this.unarchivedPartyIds.push(partyId);\r\n        }\r\n      }\r\n    })\r\n\r\n    // Check if all the selected parties are archived\r\n    const allArchived = this.selectedPartyIds.every(partyId => {\r\n      const party = this.partyList.find(item => item.id === partyId);\r\n      return party && party.isDeleted;\r\n    });\r\n\r\n    // Check if all the selected parties are unarchived\r\n    const allUnarchived = this.selectedPartyIds.every(partyId => {\r\n      const party = this.partyList.find(item => item.id === partyId);\r\n      return party && !party.isDeleted;\r\n    });\r\n\r\n    // if (allArchived && allUnarchived) {\r\n    if (this.archivedPartyIds.length > 0 && this.unarchivedPartyIds.length > 0) {\r\n      // Show an alert error message to the user\r\n      if (this.isVendor) {\r\n        alert(\"Please select either archived or unarchived Vendors.\");\r\n      } else {\r\n        alert(\"Please select either archived or unarchived Customers.\");\r\n      }\r\n      // Uncheck all the selected parties and header checkbox\r\n      this.selectedPartyIds = [];\r\n      this.checkSingleArray = [];\r\n      this.checkSelectsingle = false;\r\n      this.upiCheckedId = [];\r\n      this.isChecked = false;\r\n      this.allSelect = false;\r\n      this.checkSelect = false;\r\n      this.checkSelectsingle = false;\r\n\r\n      // Uncheck all the checkboxes in the template\r\n      const checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\r\n      checkboxes.forEach((checkbox) => {\r\n        const inputElement = checkbox as HTMLInputElement;\r\n        inputElement.checked = false;\r\n      });\r\n    } else if (allArchived) {\r\n      console.log('Archived');\r\n      // Show unarchive button\r\n      this.showUnarchiveButton = true;\r\n      this.showDeleteButton = false;\r\n    } else if (allUnarchived) {\r\n      console.log('Unarchived');\r\n      // Show archive button\r\n      this.showDeleteButton = true;\r\n      this.showUnarchiveButton = false;\r\n    } else {\r\n      // Show error message or handle the case when there are both archived and unarchived parties selected\r\n      if (this.isVendor) {\r\n        alert(\"Please select either archived or unarchived Vendors.\");\r\n      } else {\r\n        alert(\"Please select either archived or unarchived Customers.\");\r\n      }\r\n      // Uncheck all the selected parties and header checkbox\r\n      this.selectedPartyIds = [];\r\n      this.checkSingleArray = [];\r\n      this.checkSelectsingle = false;\r\n      this.upiCheckedId = [];\r\n      this.isChecked = false;\r\n      this.allSelect = false;\r\n      this.checkSelect = false;\r\n      this.checkSelectsingle = false;\r\n      this.showDeleteButton = false;\r\n      this.showUnarchiveButton = false;\r\n\r\n      // Uncheck all the checkboxes in the template\r\n      const checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\r\n      checkboxes.forEach((checkbox) => {\r\n        const inputElement = checkbox as HTMLInputElement;\r\n        inputElement.checked = false;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  getSingleCheckedId(partyId) {\r\n    this.partyId = partyId;\r\n  }\r\n\r\n  onChekMultiple($event) {\r\n    const isChecked = $event.target.checked;\r\n    if (isChecked) {\r\n      this.selectedPartyIds = this.partyList.map(item => item.id);\r\n    } else {\r\n      this.selectedPartyIds = [];\r\n      this.showDeleteButton = false;\r\n      this.showUnarchiveButton = false\r\n    }\r\n    this.checkSelect = isChecked; // Update the checkbox state in the header\r\n\r\n    let id = $event.target.value;\r\n    this.isChecked = $event.target.checked;\r\n    this.upiCheckedId = this.partyList.map((item) => {\r\n      if (id == -1) {\r\n        if (this.isChecked == true) {\r\n          this.checkSelectsingle = true;\r\n          return item.id;\r\n        }\r\n        else {\r\n          this.checkSelectsingle = false;\r\n          this.upiCheckedId = [];\r\n        }\r\n      }\r\n    })\r\n    // Clear the archived and unarchived party IDs\r\n    this.archivedPartyIds = [];\r\n    this.unarchivedPartyIds = [];\r\n\r\n    // Update the archived and unarchived party IDs based on the selected parties\r\n    this.selectedPartyIds.forEach(partyId => {\r\n      const party = this.partyList.find(item => item.id === partyId);\r\n      if (party) {\r\n        if (party.isDeleted) {\r\n          this.archivedPartyIds.push(partyId);\r\n        } else {\r\n          this.unarchivedPartyIds.push(partyId);\r\n        }\r\n      }\r\n\r\n      console.log(this.selectedPartyIds)\r\n      // Check if all the selected parties are archived\r\n      const allArchived = this.selectedPartyIds.every(partyId => {\r\n        const party = this.partyList.find(item => item.id === partyId);\r\n        return party && party.isDeleted;\r\n      });\r\n      console.log(allArchived);\r\n      // Check if all the selected parties are unarchived\r\n      const allUnarchived = this.selectedPartyIds.every(partyId => {\r\n        const party = this.partyList.find(item => item.id === partyId);\r\n        return party && !party.isDeleted;\r\n      });\r\n      console.log(allUnarchived);\r\n\r\n      if (allArchived) {\r\n        console.log('Archived');\r\n        // Show unarchive button\r\n        this.showUnarchiveButton = true\r\n        this.showDeleteButton = false;\r\n      } else if (allUnarchived) {\r\n        console.log('Unarchived');\r\n        // Show archive button\r\n        this.showDeleteButton = true;\r\n        this.showUnarchiveButton = false\r\n      } else {\r\n        console.log('In else ');\r\n        // Show error message or handle the case when there are both archived and unarchived parties selected\r\n      }\r\n    });\r\n\r\n    if (this.archivedPartyIds.length > 0 && this.unarchivedPartyIds.length > 0) {\r\n      if (this.isVendor) {\r\n        alert(\"Please select either archived or unarchived Vendors.\");\r\n      } else {\r\n        alert(\"Please select either archived or unarchived Customers.\");\r\n      }\r\n      // Uncheck all the selected parties and header checkbox\r\n      this.selectedPartyIds = [];\r\n      this.checkSingleArray = [];\r\n      this.checkSelectsingle = false;\r\n      this.upiCheckedId = [];\r\n      this.isChecked = false;\r\n      this.allSelect = false;\r\n      this.checkSelect = false;\r\n      this.checkSelectsingle = false;\r\n\r\n      // Uncheck all the checkboxes in the template\r\n      const checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\r\n      checkboxes.forEach((checkbox) => {\r\n        const inputElement = checkbox as HTMLInputElement;\r\n        inputElement.checked = false;\r\n      });\r\n      // Throw an error to prevent further processing\r\n      if (this.isVendor) {\r\n        throw new Error(\"Please select either archived or unarchived Vendors\");\r\n      } else {\r\n        throw new Error(\"Please select either archived or unarchived Customers\");\r\n      }\r\n    }\r\n  }\r\n\r\n  getUPIcheckId(partyId) {\r\n    this.partyId = partyId;\r\n  }\r\n\r\n  deletedParty() {\r\n    if(this.p == 1){\r\n      this.currentPageNo = this.currentPageNo;\r\n    }\r\n    else{\r\n      if(this.toatlPages > this.currentPageNo){\r\n        this.currentPageNo = this.currentPageNo -1;\r\n        console.log(this.currentPageNo)\r\n      }\r\n    }\r\n    const requestBody = {\r\n      archiveParties: this.selectedPartyIds\r\n    };\r\n    console.log(requestBody);\r\n    this.partyService.multiplePartyDel(requestBody, this.currentUser.id).then((result) => {\r\n      this.getAllParties();\r\n      if(this.flag == 0){\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Vendors Archived Successfully!!!\",\r\n        });\r\n      }\r\n      else{\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Customers Archived Successfully!!!\",\r\n        });\r\n      }\r\n      this.isChecked = false;\r\n      this.showDeleteButton = false;\r\n      this.showUnarchiveButton = false\r\n      this.selectedPartyIds = []; // Clear the selected party IDs after deletion\r\n      this.checkSelect = false // Reset the checkbox state in the header\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message),\r\n        });\r\n        // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      } else {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        });\r\n        // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    });\r\n  }\r\n\r\n  showDeleteButtonFunc(): boolean {\r\n    return this.unarchivedPartyIds.length > 0;\r\n  }\r\n\r\n  unArchiveMultipleParties() {\r\n    const requestBody = {\r\n      archiveParties: this.selectedPartyIds\r\n    };\r\n    console.log(requestBody);\r\n    this.partyService.unArchiveMultipleParties(requestBody, this.currentUser.id).then((result) => {\r\n      this.getAllParties();\r\n      if(this.flag == 0){\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Vendors Unarchived Successfully!!!\",\r\n        });\r\n      }\r\n      else{\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Customers Unarchived Successfully!!!\",\r\n        });\r\n      }\r\n      this.isChecked = false;\r\n      this.showDeleteButton = false;\r\n      this.showUnarchiveButton = false\r\n      this.selectedPartyIds = []; // Clear the selected party IDs after unarchiving\r\n      this.checkSelect = false; // Reset the checkbox state in the header\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message),\r\n        });\r\n        // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      } else {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        });\r\n        // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    });\r\n  }\r\n  // showUnarchiveButton(): boolean {\r\n  //   // Check if any of the selected parties are archived\r\n  //   return this.selectedPartyIds.some(partyId => {\r\n  //     const party = this.partyList.find(item => item.id === partyId);\r\n  //     return party && party.isDeleted;\r\n  //   });\r\n\r\n  // }\r\n  downloadParties(name){\r\n    this.partyService.downloadParties({}).subscribe(res => {\r\n      const blob = new Blob([res], { type: 'application/octet-stream' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      if(name === true){\r\n        a.download = 'Sample Vendor.xlsx'; // You can specify the filename here\r\n      }\r\n      else{\r\n        a.download = 'Sample Customer.xlsx'; // You can specify the filename here\r\n      }\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    })\r\n\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { PartyListComponent } from './party-list/party-list.component';\r\nimport { PartyGroupListComponent } from './party-group-list/party-group-list.component';\r\nimport { PartyComponent } from './party/party.component';\r\nimport { CustomerListComponent } from './customer-list/customer-list.component';\r\n// import { PartyComponent } from './party-party.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PartyComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirectTo: 'party-list',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path: 'customer-list',\r\n        component: CustomerListComponent\r\n\r\n      },\r\n\r\n      {\r\n        path: 'party-list',\r\n        component: PartyListComponent\r\n      },\r\n      {\r\n        path: 'party-group-list',\r\n        component: PartyGroupListComponent\r\n      },\r\n    ],\r\n    pathMatch: 'prefix',\r\n    data: {\r\n      routerLinkActiveOptions: { exact: true, pathMatch: 'full' }\r\n    }\r\n  },\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PartyRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PartyRoutingModule } from './party-routing.module';\r\nimport { PartyListComponent } from './party-list/party-list.component';\r\nimport { PartyGroupListComponent } from './party-group-list/party-group-list.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { DeleteModalComponent } from './delete-modal/delete-modal.component';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ViewPartyComponent } from './view-party/view-party.component';\r\nimport { ViewPartyGroupComponent } from './view-party-group/view-party-group.component';\r\nimport { MaterialExampleModule } from 'src/app/material.module';\r\nimport { ContinuePopupModalComponent } from './continue-popup-modal/continue-popup-modal.component';\r\nimport { CustomerListComponent } from './customer-list/customer-list.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PartyListComponent,\r\n    PartyGroupListComponent,\r\n    DeleteModalComponent,\r\n    ViewPartyComponent,\r\n    ViewPartyGroupComponent,\r\n    ContinuePopupModalComponent,\r\n    CustomerListComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MatIconModule,\r\n    PartyRoutingModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatPaginatorModule,\r\n    MatFormFieldModule,\r\n    MaterialExampleModule,\r\n  \r\n  ]\r\n})\r\nexport class PartyModule { }\r\n","<div class=\"modal-header row\">\r\n    <div class=\"col-sm-6\">\r\n      <h1 style=\"color: #EB8B3F; font-weight: bolder;margin-left: 3px;\" class=\"modal-title mb-0\">Vendors Group</h1>\r\n    </div>\r\n    <div class=\"col-sm-2\"></div>\r\n\r\n    <div class=\"col-sm-2\">\r\n      <button type=\"button\" class=\"btn btn-cancel\" (click)=\"cancel()\">Close</button>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n  <div class=\"modal-body\">\r\n    <div class=\"container-fluid px-2\">\r\n\r\n            <div class=\"row\">\r\n\r\n                <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"groupName\">\r\n                        <label class=\"example-full-width form-label\"><b>Group Name</b></label>\r\n                        <h4>{{groupName}}</h4>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6 col-sm-12 col-lg-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"partyGroup\">\r\n                        <label class=\"example-full-width form-label\"><b>Vendors in the Group</b></label>\r\n                        <ul>\r\n                            <li *ngFor=\"let parties of partyGroup\"><h4 style=\"margin-bottom: 0px;\">{{parties}}</h4></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n\r\n                <div class=\"col-sm-12 col-lg-12 col-md-12\">\r\n                  <div class=\"mb-3\"  *ngIf=\"groupDescription\">\r\n                      <label class=\"example-full-width form-label\"><b>Group Description</b></label>\r\n                      <h4 style = \"word-wrap: break-word;max-height: 500px;overflow:auto\">{{groupDescription}}</h4>\r\n                  </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n       </div>\r\n","import { TitleCasePipe } from '@angular/common';\r\nimport { Component, Inject, OnInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { PartGroupServiceService } from 'src/app/core/services/part-group-service.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\n\r\n@Component({\r\n  selector: 'app-view-party-group',\r\n  templateUrl: './view-party-group.component.html',\r\n  styleUrls: ['./view-party-group.component.scss']\r\n})\r\nexport class ViewPartyGroupComponent implements OnInit {\r\n  groupId: any;\r\n  partyDataDetails: any;\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  public currentpage: any;\r\n  public totalrow: number = 10;\r\n  public toatlPages: any;\r\n  public currentPageNo: number = 0;\r\n  public partyGrpPageSize: number = 5;\r\n  public pagesize: number = 1;\r\n  groupDescription: any;\r\n  groupName: any;\r\n  partyGroup: any[];\r\n\r\n  constructor(public dialogRef: MatDialogRef<ViewPartyGroupComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public partyData: any, private partyGroupservice: PartGroupServiceService, private toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe,) { }\r\n\r\n  ngOnInit(): void {\r\n    this.groupId = this.partyData.itemId\r\n    this.currentPageNo = this.partyData.currentPageNo\r\n    this.totalrow = this.partyData.totalrow\r\n    this.getGroupData()\r\n  }\r\n\r\n  getGroupData(){\r\n    this.partyGroupservice.getPartiGroupsDetails({}, this.currentUser.id, this.totalrow, (this.currentPageNo + 1)).then((res) => {\r\n      console.log(res.data);\r\n      this.partyDataDetails = res.data.pageData.filter((data) => data.group.id === this.groupId).map((data) => data.group);\r\n      console.log(this.partyDataDetails)\r\n      this.groupDescription = this.partyDataDetails[0].groupDescription\r\n      this.groupName = this.partyDataDetails[0].groupName\r\n      this.partyGroup = this.partyDataDetails[0].parties.map(data => data.partyName);\r\n    },(err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message),\r\n        });\r\n        // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        });\r\n        // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n  }\r\n\r\n  cancel() {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","<div class=\"modal-header row\">\r\n    <div class=\"col-sm-6\">\r\n        <h1 style=\"color: #EB8B3F; font-weight: bolder;margin-left: 6px;\" class=\"modal-title mb-0\">{{ isCustomer ? \"Customer\" : \"Vendor\"}}</h1>\r\n    </div>\r\n    <div class=\"col-sm-2\"></div>\r\n\r\n    <div class=\"col-sm-2\">\r\n        <button type=\"button\" class=\"btn btn-cancel\" (click)=\"cancel()\">Close</button>\r\n    </div>\r\n\r\n</div>\r\n<div class=\"modal-body\" *ngIf=\"!isArabic\">\r\n    <div class=\"container-fluid px-2\">\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"partyName\">\r\n                    <label class=\"example-full-width form-label\"><b>{{ isCustomer ? \"Customer\" : \"Vendor\"}} Name</b></label>\r\n                    <h4>{{partyName }}</h4>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"email\">\r\n                    <label class=\"example-full-width form-label\"><b>E-Mail</b></label>\r\n                    <h4>{{email}}</h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"mobile\">\r\n                    <label class=\"example-full-width form-label\"><b>Mobile No</b></label>\r\n                    <h4>{{mobile}}</h4>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"payment\">\r\n                    <label class=\"example-full-width form-label\"><b>Payment Terms</b></label>\r\n                    <h4>{{payment}}</h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"gstIn\">\r\n                    <label class=\"example-full-width form-label\"><b>GSTIN</b></label>\r\n                    <h4>{{gstIn}}</h4>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"gstType\">\r\n                    <label class=\"example-full-width form-label\"><b>GST Type</b></label>\r\n                    <h4>{{gstType}}</h4>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-6 col-lg-6 col-md-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"openingBalance\">\r\n                        <label class=\"example-full-width form-label\"><b>Opening Balance</b></label>\r\n                        <h4>&nbsp;{{openingBalance | number:'1.2-2'}}</h4>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-6 col-lg-6 col-md-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"asOfDate\" style=\"margin-left: 10px;\">\r\n                        <label class=\"example-full-width form-label\"><b>As Of Date</b></label>\r\n                        <h4>{{asOfDate | date: 'dd MMM yyyy'}}</h4>\r\n                        <!-- {{valueDate | date: 'dd/MM/yyyy'}} -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6 col-sm-12 col-lg-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"groupNames && groupNames.length > 0\">\r\n                        <label class=\"example-full-width form-label\"><b>Group</b></label>\r\n                        <ul>\r\n                            <li *ngFor=\"let groupName of groupNames\">\r\n                                <h4>{{groupName}}</h4>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div *ngIf=\"!groupNames || groupNames.length === 0\">\r\n                        <label class=\"example-full-width form-label\"><b>Group</b></label>\r\n                        <p>NA</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6 col-sm-12 col-lg-6\">\r\n                    <div class=\"mb-3\" style=\"margin-left: 10px;\">\r\n                        <label class=\"example-full-width form-label\"><b>Billing Address</b></label>\r\n                        <h4>{{billingAddress}}</h4>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- For Uae -->\r\n<div class=\"modal-body\" *ngIf=\"isArabic\">\r\n    <div class=\"container-fluid px-4\">\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"partyName\">\r\n                    <label class=\"example-full-width form-label\"><b>{{ isCustomer ? \"Customer\" : \"Vendor\"}} Name</b></label>\r\n                    <h4>{{partyName }}</h4>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"email\">\r\n                    <label class=\"example-full-width form-label\"><b>E-Mail</b></label>\r\n                    <h4>{{email}}</h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"mobile\">\r\n                    <label class=\"example-full-width form-label\"><b>Mobile No</b></label>\r\n                    <h4>{{mobile}}</h4>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"payment\">\r\n                    <label class=\"example-full-width form-label\"><b>Payment Terms</b></label>\r\n                    <h4>{{payment}}</h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <div class=\"mb-3\" *ngIf=\"gstIn\">\r\n                    <label class=\"example-full-width form-label\"><b>{{ lang.GSTIN }}</b></label>\r\n                    <h4>{{gstIn}}</h4>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-sm-12 col-lg-6 col-md-6\">\r\n                <!-- <div class=\"mb-3\" *ngIf=\"gstType\">\r\n                    <label class=\"example-full-width form-label\"><b>GST Type</b></label>\r\n                    <h4>{{gstType}}</h4>\r\n                </div> -->\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-6 col-lg-6 col-md-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"openingBalance\">\r\n                        <label class=\"example-full-width form-label\"><b>Opening Balance</b></label>\r\n                        <h4>{{openingBalance}}</h4>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-6 col-lg-6 col-md-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"asOfDate\" style=\"margin-left: 10px;\">\r\n                        <label class=\"example-full-width form-label\"><b>As Of Date</b></label>\r\n                        <h4>{{asOfDate | date: 'dd MMM yyyy'}}</h4>\r\n                        <!-- {{valueDate | date: 'dd/MM/yyyy'}} -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6 col-sm-12 col-lg-6\">\r\n                    <div class=\"mb-3\" *ngIf=\"groupNames\">\r\n                        <label class=\"example-full-width form-label\"><b>Group</b></label>\r\n                        <ul>\r\n                            <li *ngFor=\"let groupName of groupNames\">\r\n                                <h4>{{groupName}}</h4>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6 col-sm-12 col-lg-6\">\r\n                    <div class=\"mb-3\" style=\"margin-left: 10px;\">\r\n                        <label class=\"example-full-width form-label\"><b>Billing Address</b></label>\r\n                        <h4>{{billingAddress}}</h4>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { CommonService } from 'src/app/core/services/common.service';\r\nimport { PartyService } from 'src/app/core/services/party.service';\r\nimport lang from \"src/assets/langTranslation/language_translation\"\r\n\r\n\r\n@Component({\r\n  selector: 'app-view-party',\r\n  templateUrl: './view-party.component.html',\r\n  styleUrls: ['./view-party.component.scss']\r\n})\r\nexport class ViewPartyComponent implements OnInit {\r\n    partyId: any;\r\n  gstIn: any;\r\n  gstType: any;\r\n  partyName: any;\r\n  mobile: any;\r\n  email: any;\r\n  billingAddress: any;\r\n  shippingAddress: any;\r\n  openingBalance: any;\r\n  asOfDate: any;\r\n  balanceStatus: any;\r\n  relationSince: any;\r\n  payment: any;\r\n  creditPeriodDay: any;\r\n  creditLimit: any;\r\n  UpdatedCreditLimit: any;\r\n  noOfCredits: any;\r\n  creditCount: any;\r\n  distance: any;\r\n  transporation: any;\r\n  isCustomer: boolean;\r\n  totalDebt: any;\r\n  totalCredit: any;\r\n  groupNames: any[];\r\n  isArabic: boolean;\r\n  public lang = lang.UAE;\r\n\r\n  constructor(public dialogRef: MatDialogRef<ViewPartyComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public partyData: any, private partyService : PartyService,private commonService:CommonService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.commonService.isArabic$.subscribe((isArabic) => {\r\n      this.isArabic = isArabic;\r\n    });\r\n        this.partyId = this.partyData.itemId\r\n    console.log(this.partyId)\r\n    this.getPartyDetails()\r\n\r\n  }\r\n\r\n  getPartyDetails(){\r\n    this.partyService.getPartyDetails({}, this.partyId).then((party) => {\r\n      this.gstType = party.data.a.gstType\r\n      this.gstIn = party.data.a.gstIn\r\n      this.partyName = party.data.a.partyName\r\n      this.mobile = party.data.a.mobile\r\n      this.email = party.data.a.email\r\n      this.billingAddress = party.data.a.billingAddress\r\n      this.shippingAddress = party.data.a.shippingAddress\r\n      this.openingBalance = party.data.a.openingBalance\r\n      this.asOfDate = party.data.a.asOfDate\r\n      this.balanceStatus = party.data.a.balanceStatus\r\n      this.relationSince = party.data.a.relationSince\r\n      this.payment = party.data.a.payment\r\n      this.creditPeriodDay = party.data.a.creditPeriodDay\r\n      this.creditLimit = party.data.a.creditLimit\r\n      this.UpdatedCreditLimit = party.data.a.UpdatedCreditLimit\r\n      this.noOfCredits = party.data.a.noOfCredits\r\n      this.creditCount = party.data.a.creditCount\r\n      this.distance = party.data.a.distance\r\n      this.transporation = party.data.a.transporation\r\n      this.isCustomer = party.data.a.isCustomer\r\n      this.totalDebt = party.data.a.totalDebt\r\n      this.totalCredit = party.data.totalCredit\r\n      \r\n      this.groupNames = party.data.group.map((item) => item.groupName);\r\n      \r\n    })\r\n  }\r\n\r\n  cancel() {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n"]}