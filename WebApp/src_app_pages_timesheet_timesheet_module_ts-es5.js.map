{"version":3,"mappings":"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","names":["_angular_core__WEBPACK_IMPORTED_MODULE_4__","ApprovalsComponent","dialog","timesheetService","toastService","titleCasePipe","JSON","parse","localStorage","getItem","getleaveApprovalList","getleaveapprovalList","currentUser","id","then","res","leaveApprovallist","data","err","error","expose","openErrorSnackBar","transform","error_message","searchKey","getleaveapprovalSearch","success","dialogRef","open","_add_time_add_time_component__WEBPACK_IMPORTED_MODULE_0__","width","height","panelClass","disableClose","position","right","afterClosed","subscribe","result","console","log","leavid","body","approvalstatusById","approved","denied","openSnackBar","leavid1","body1","approvalId","deleteapprovalDeleteById","imagelink","DataLink","pdfName","file_saver__WEBPACK_IMPORTED_MODULE_1___default","selectors","decls","vars","consts","template","ctx","ctx_r9","item_r11","DailyComponent","getDailyTimeSheet","timeAdded$","getDailyTime","dailyTimeSheet","getDailyTimesearch","edittimeId","_edit_time_edit_time_component__WEBPACK_IMPORTED_MODULE_1__","timeId","e","productId","$event","target","value","isChecked","checked","upiCheckedId1","map","item","checkSingleArray","archiveIconfalse","checkSelectsinglefalse","upiCheckedId","i","length","push","index1","indexOf","splice","checkSelect","index","deleteTimeDeleteById","request","multideleteTimeDeleteById","allSelect","EditTimeComponent","editDatatime","formBuilder","rolesPermissionsService","today","Date","todaysDate","gettimeById","getUsersList","EditTimeForm","group","employeeName","startDate","start_time","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","end_time","period","isBillable","clientName","projectName","task","description","reason","getUsers","employeeList","firstName","getcollectimeById","patchValue","selectEmployee","moment__WEBPACK_IMPORTED_MODULE_0__","date","format","startTime","endTime","selectClient","selectProject","enterTask","controls","submitted","invalid","editTime","notifytimeAdded","close","startTimeValue","endTimeValue","split","startHour","startMinute","endHour","endMinute","setHours","parseInt","setMinutes","endDate","timeDifferenceInMilliseconds","getTime","hoursDifference","Math","floor","minutesDifference","secondsDifference","timeDifferenceFormatted","formatTimeUnit","unit","isSwitchOn","selectedDate","get","isNaN","setValue","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__","_angular_core__WEBPACK_IMPORTED_MODULE_2__","SettingTimesheetComponent","getleaveDaysDetails","settingLeaveForm","slday","_angular_forms__WEBPACK_IMPORTED_MODULE_3__","plday","clday","complday","getAllLeaveDaysDetails","listdata","leave","isShowButtonsetting","type","clid","leaveAllocated","sid","comid","pid","event","charCode","which","keyCode","content","total","body2","body3","Body","getleavesetting","getleavesettingupdate","routes","path","component","_timesheet_component__WEBPACK_IMPORTED_MODULE_0__","children","redirectTo","pathMatch","_daily_daily_component__WEBPACK_IMPORTED_MODULE_1__","_add_time_add_time_component__WEBPACK_IMPORTED_MODULE_5__","_edit_time_edit_time_component__WEBPACK_IMPORTED_MODULE_6__","_weekly_weekly_component__WEBPACK_IMPORTED_MODULE_2__","_approvals_approvals_component__WEBPACK_IMPORTED_MODULE_3__","_setting_timesheet_setting_timesheet_component__WEBPACK_IMPORTED_MODULE_4__","routerLinkActiveOptions","exact","TimesheetRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_8__","imports","exports","TimesheetComponent","_angular_core__WEBPACK_IMPORTED_MODULE_0__","TimesheetModule","_angular_common__WEBPACK_IMPORTED_MODULE_10__","_timesheet_routing_module__WEBPACK_IMPORTED_MODULE_1__","_angular_forms__WEBPACK_IMPORTED_MODULE_11__","src_app_material_module__WEBPACK_IMPORTED_MODULE_0__","_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_12__","ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_13__","declarations","_timesheet_component__WEBPACK_IMPORTED_MODULE_2__","_daily_daily_component__WEBPACK_IMPORTED_MODULE_3__","_weekly_weekly_component__WEBPACK_IMPORTED_MODULE_4__","_approvals_approvals_component__WEBPACK_IMPORTED_MODULE_5__","_add_time_add_time_component__WEBPACK_IMPORTED_MODULE_7__","_setting_timesheet_setting_timesheet_component__WEBPACK_IMPORTED_MODULE_6__","_edit_time_edit_time_component__WEBPACK_IMPORTED_MODULE_8__","_angular_core__WEBPACK_IMPORTED_MODULE_3__","_r7","WeeklyComponent","weekDates","Array","from","_","setDate","getDate","getDay","toISOString","date2","date3","date4","date5","date6","date7","getweeklyTimeSheet","getDailyweeksearch","weeklydatalist","date1","entries","entry","find","includes","dayName","getDayName","days","dayIndex","getWeeklyTime","datakeys","Object","keys"],"sources":["webpack:///src/app/pages/timesheet/approvals/approvals.component.html","webpack:///src/app/pages/timesheet/approvals/approvals.component.ts","webpack:///src/app/pages/timesheet/daily/daily.component.html","webpack:///src/app/pages/timesheet/daily/daily.component.ts","webpack:///src/app/pages/timesheet/edit-time/edit-time.component.html","webpack:///src/app/pages/timesheet/edit-time/edit-time.component.ts","webpack:///src/app/pages/timesheet/setting-timesheet/setting-timesheet.component.html","webpack:///src/app/pages/timesheet/setting-timesheet/setting-timesheet.component.ts","webpack:///src/app/pages/timesheet/timesheet-routing.module.ts","webpack:///src/app/pages/timesheet/timesheet.component.ts","webpack:///src/app/pages/timesheet/timesheet.component.html","webpack:///src/app/pages/timesheet/timesheet.module.ts","webpack:///src/app/pages/timesheet/weekly/weekly.component.html","webpack:///src/app/pages/timesheet/weekly/weekly.component.ts"],"sourcesContent":["<div class=\"container-fluid bg-white p-0\">\r\n  <div class=\"row headerButtons mb-3 me-4\" id=\"showoptionHide\">\r\n    <div class=\"flex-item searchBar\">\r\n      <input type=\"search\" id=\"searchInput\" class=\"form-control pe-5 my-2\" placeholder=\"Employee Name\"\r\n      [(ngModel)]=\"searchKey\" (change)=\"getexpenseSearch(searchKey)\">\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <hr class=\"my-0 py-0\" /> -->\r\n\r\n  <div style=\"width:100% ; overflow-x: auto;\">\r\n    <table class=\"table table-responsive fs--1 mb-0\">\r\n      <thead class=\"text-600\">\r\n        <tr>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;width:40px;\">\r\n            <input type=\"checkbox\" class=\"form-check-input\" />\r\n          </th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Employee</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Description</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Start</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">End</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Request Date</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Status</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;width:15%;\"></th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        <tr style=\"color: #676398\" *ngFor=\"let item of leaveApprovallist; let i = index\"\r\n        [ngStyle]=\"{'background-color': (i % 2 === 0 ? '#f2f2f2' : '#fff')}\">\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">\r\n            <input type=\"checkbox\" class=\"form-check-input\" />\r\n          </td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{item.l3.firstName}}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{item.reason}}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{item.startDate | date:\"EEEE, MMM d yyyy\"}}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{item.endDate | date:\"EEEE, MMM d yyyy\"}}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{item.createdAt | date:\"EEEE, MMM d yyyy\"}}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">\r\n            <div style=\"display: flex;justify-content:space-between;align-items: center;\">\r\n              <span *ngIf=\"(item.id == this.leavid && this.approved == true) || item.status ==  'ACCEPTED'\">\r\n                <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">APPROVED</a>\r\n              </span>\r\n              <span><mat-icon style=\"color: green;font-weight: 600;\" *ngIf=\"item.status !==  'ACCEPTED'\"\r\n                  (click)=\"ontrueclick(item.id)\">check</mat-icon>\r\n              </span>\r\n\r\n              <span><mat-icon style=\"color: red;font-weight: 600;\" *ngIf=\"item.status ==  'ACCEPTED'\"\r\n                 (click)=\"onfalseclick(item.id)\">close</mat-icon>\r\n              </span>\r\n              <span *ngIf=\"(item.id == this.leavid1 && this.approved == false) || item.status !==  'ACCEPTED'\">\r\n                <a  class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\">DENIED</a>\r\n              </span>\r\n            </div>\r\n          </td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;text-align: center;\">\r\n            <button class=\"btn btnp\" *ngIf=\"item.leaveApplication !== null\"  (click)=\"GotoImageOrPDF(item.leaveApplication)\">\r\n              <i class=\"fas fa-receipt icon-color iconFontSize\"></i>\r\n            </button>\r\n            <!-- <button class=\"btn\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\">\r\n              <span class=\"bi-trash icon-color iconFontSize ps-2\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                title=\"Delete\" style=\"color: red;\" (click)=\" getApprovaldeleteId(item.id)\"></span>\r\n            </button> -->\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <!-- Change \"approvalTimeSheet.length\" to \"approvalTimeSheet\"  -->\r\n      <tbody *ngIf=\"leaveApprovallist == 0\">\r\n        <tr class=\"text-center\">\r\n          <td colspan=\"12\">\r\n            <img class=\"image-responsive\" src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\" alt=\"notfound1\" width=\"200\" height=\"150\" />\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n</div>\r\n\r\n<!-- Delete Confirmation Modal -->\r\n<div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n    <div class=\"modal-content position-relative\">\r\n      <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n        <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n          aria-label=\"Close\"></a>\r\n      </div>\r\n      <div class=\"modal-body p-0\">\r\n        <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n          <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800; \" id=\"modalExampleDemoLabel\">\r\n            Delete Approvals? </h2>\r\n        </div>\r\n        <h4 class=\"text-center \">Are You Sure To Delete Approvals?</h4>\r\n\r\n      </div>\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n        <a class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\" (click)=\"deleteapprovalById()\">Delete\r\n        </a>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { AddTimeComponent } from '../add-time/add-time.component';\r\nimport { TimesheetService } from 'src/app/core/services/timesheet.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { TitleCasePipe } from '@angular/common';\r\nimport FileSaver from \"file-saver\";\r\nimport { saveAs } from \"file-saver/dist/FileSaver\";\r\n@Component({\r\n  selector: 'app-approvals',\r\n  templateUrl: './approvals.component.html',\r\n  styleUrls: ['./approvals.component.scss']\r\n})\r\nexport class ApprovalsComponent implements OnInit {\r\n\r\n  // Array of approvals\r\n  // approvalTimeSheet = [\r\n  //   {\r\n  //     id: 1,\r\n  //     employee: 'Employee1',\r\n  //     description: 'Description',\r\n  //     startDate: 'Friday, June 9 2023',\r\n  //     endDate: 'Friday, June 9 2023',\r\n  //     requestDate: 'Friday, June 9 2023',\r\n  //   },\r\n  //   {\r\n  //     id: 2,\r\n  //     employee: 'Employee2',\r\n  //     description: 'Description',\r\n  //     startDate: 'Friday, June 9 2023',\r\n  //     endDate: 'Friday, June 9 2023',\r\n  //     requestDate: 'Friday, June 9 2023',\r\n  //   },\r\n  //   {\r\n  //     id: 3,\r\n  //     employee: 'Employee3',\r\n  //     description: 'Description',\r\n  //     startDate: 'Friday, June 9 2023',\r\n  //     endDate: 'Friday, June 9 2023',\r\n  //     requestDate: 'Friday, June 9 2023',\r\n  //   },\r\n  //   {\r\n  //     id: 4,\r\n  //     employee: 'Employee4',\r\n  //     description: 'Description',\r\n  //     startDate: 'Friday, June 9 2023',\r\n  //     endDate: 'Friday, June 9 2023',\r\n  //     requestDate: 'Friday, June 9 2023',\r\n  //   },\r\n  // ]\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  public approved: boolean = false;\r\n  public denied: boolean = false;\r\n  public approvalId: any;\r\n  public leaveApprovallist: any;\r\n  public leavid: any;\r\n  public leavid1: any;\r\n  DataLink: any;\r\n  public searchKey: any;\r\n\r\n  constructor(private dialog: MatDialog,\r\n    public timesheetService: TimesheetService,\r\n    private toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.getleaveApprovalList();\r\n  }\r\n\r\n  getleaveApprovalList() {\r\n    this.timesheetService.getleaveapprovalList({}, this.currentUser.id).then((res) => {\r\n      if (res) {\r\n        this.leaveApprovallist = res.data;\r\n      }\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  getexpenseSearch(searchKey) {\r\n    if (this.searchKey == \"\") {\r\n      this.toastService.openErrorSnackBar(\"Please Enter Valid Employee Name!!!\");\r\n      this.timesheetService.getleaveapprovalSearch({}, this.currentUser.id,searchKey).then((res) => {\r\n        if (res.success == true) {\r\n          this.leaveApprovallist = res.data;\r\n        }\r\n      });\r\n      \r\n\r\n    }\r\n    else{\r\n      this.timesheetService.getleaveapprovalSearch({}, this.currentUser.id,searchKey).then((res) => {\r\n        if (res.success == true) {\r\n          this.leaveApprovallist = res.data;\r\n        }\r\n      }, (err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n        }\r\n        else {\r\n          this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n        }\r\n  \r\n      });\r\n      \r\n      \r\n    }\r\n    \r\n  }\r\n\r\n  // To open dialig box of Add TIme form.\r\n  onAddTime(): void {\r\n    const dialogRef: MatDialogRef<AddTimeComponent> = this.dialog.open(AddTimeComponent, {\r\n      width: '40%',\r\n      height: '730px',\r\n      data: {},\r\n      panelClass: 'custom-dialog-add-time',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  ontrueclick(leavid) {\r\n    this.leavid = leavid;\r\n    console.log(\" this.leavid\", this.leavid);\r\n    //  this.approved = true;\r\n    // this.denied = false;\r\n    let body =\r\n    {\r\n      \"status\": \"ACCEPTED\"\r\n    }\r\n\r\n    this.timesheetService.approvalstatusById(body, this.currentUser.id, this.leavid).then((res) => {\r\n      if (res) {\r\n        this.approved = true;\r\n        this.denied = false;\r\n        this.toastService.openSnackBar(\"Leave Approval Successfully!!!\");\r\n        this.getleaveApprovalList();\r\n      }\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  onfalseclick(leavid) {\r\n    this.leavid1 = leavid;\r\n    console.log(\" this.leavid\", this.leavid1);\r\n    // this.approved = false;\r\n    // this.denied = true;\r\n    let body1 =\r\n    {\r\n      \"status\": \"REJECTED\"\r\n    }\r\n\r\n    this.timesheetService.approvalstatusById(body1, this.currentUser.id, this.leavid1).then((res) => {\r\n      if (res) {\r\n        this.approved = false;\r\n        this.denied = true;\r\n        this.toastService.openSnackBar(\"Leave Denied Successfully!!!\");\r\n        this.getleaveApprovalList();\r\n      }\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  getApprovaldeleteId(approvalId: any) {\r\n    this.approvalId = approvalId;\r\n  }\r\n\r\n  deleteapprovalById() {\r\n    this.timesheetService.deleteapprovalDeleteById({}, this.approvalId).then((res) => {\r\n      if (res) {\r\n        this.toastService.openSnackBar(\"Leave Approval Deleted Successfully!!!\");\r\n        this.getleaveApprovalList();\r\n      }\r\n\r\n    } , (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  \r\n  GotoImageOrPDF(imagelink){\r\n    this.DataLink=imagelink\r\n    const pdfName = \"document.pdf\";\r\n    FileSaver.saveAs(this.DataLink, pdfName);\r\n\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid bg-white p-0\">\r\n\r\n  <div class=\"row headerButtons mb-3\" id=\"showoptionHide\">\r\n    <div class=\"flex-item searchBar\">\r\n      <input type=\"search\" id=\"searchInput\" class=\"form-control pe-5 my-2\" placeholder=\"Employee Name / Project Name\"\r\n        [(ngModel)]=\"searchKey\" (change)=\"getdailyPESearch(searchKey)\">\r\n    </div>\r\n    <div class=\"navOption-btns flex-item formButtons mx-0\">\r\n      <button id=\"saleButtonPrint1\" class=\"btn text-nowrap my-2\" type=\"button\" (click)=\"onAddTime()\">\r\n        <i class=\"fas fa-plus\"></i> Add Time\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <hr class=\"my-0 py-0\" /> -->\r\n\r\n  <div style=\"width:100% ; overflow-x: auto;\">\r\n    <table class=\"table table-responsive fs--1 mb-0\">\r\n      <thead class=\"text-600\">\r\n        <tr>\r\n          <th class=\"text-nowrap col-1\" style=\"vertical-align:middle;\">\r\n            <input type=\"checkbox\" class=\"form-check-input\" class=\"mt-2\" (change)=\"onChekMultiple($event)\" [value]=\"-1\"\r\n              [checked]=\"checkSelect\" [(ngModel)]=\"allSelect\" />\r\n\r\n            <span *ngIf=\"archiveIconfalse\">\r\n              <button style=\"padding: 0px!important;\" *ngIf=\"checkSingleArray.length > 0 || upiCheckedId.length > 0\"\r\n                class=\"btn ms-3\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDeleteSelect-modal\">\r\n                <span *ngIf=\"checkSingleArray.length > 0 || upiCheckedId.length > 0\" class=\"bi-trash icon-color fs-1\"\r\n                  style=\"color: red;\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Archive\"\r\n                  (click)=\" upiCheckedId.length > 0? getUPIcheckId($event,upiCheckedId):getSingleCheckedId($event,checkSingleArray)\"></span>\r\n              </button>\r\n            </span>\r\n          </th>\r\n          <!-- <th style=\"width:50px !important;\"></th> -->\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Project/To-do</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Employee Name</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Duration</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">Time Span</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;width:15%;\"></th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        <tr *ngFor=\"let item of dailyTimeSheet; let i = index\" style=\"color: #676398\"\r\n          [ngStyle]=\"{'background-color': (i % 2 === 0 ? '#f2f2f2' : '#fff')}\">\r\n          <td scope=\"row\" style=\"vertical-align:middle;\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" [checked]=\"checkSelectsinglefalse\"\r\n              (change)=\"onChekedsingleCheckfalse($event,item.id)\" [value]=\"item.id\" />\r\n          </td>\r\n          <!-- <td>\r\n            <div class=\"party-info p-0\" style=\"vertical-align:middle;text-align:end;\">\r\n              <img src=\"assets/img/dashboard-party-profiles/party-profile-1.png\" alt=\"Profile\" class=\"rounded-circle\">\r\n            </div>\r\n            <div>\r\n              <div>{{ item.selectProject }}</div>\r\n            </div>\r\n          </td> -->\r\n          <td class = \"text-nowraap\">\r\n            <div class=\"row\" style = \"display: flex;flex-direction:row;justify-content:flex-start;align-items: center;flex-wrap:nowrap;padding-left: 8px;padding-right: 8px;\">\r\n              <div class = \"flex-item\" style = \"flex-basis: 55px;\">\r\n                <img  [src]=\"item.profileImage\" alt=\"Profile\"  onerror=\"this.src='assets/img/dashboard-party-profiles/party-profile-1.png'\"\r\n                  alt=\"Profile\" width=\"50\" height=\"50\" class=\"rounded-circle\">\r\n              </div>\r\n              <div class=\"flex-item party-name\" style = \"display: flex;flex-direction: column;align-items: flex-start;flex-basis: 70px;\">\r\n                <div>{{ item.selectProject }}</div>\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{ item.selectEmployee }}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{ item.period}}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{ item.startTime}} - {{ item.endTime}}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;text-align: center;\">\r\n            <button class=\"btn btnp me-2\" (click)=\"onEditTime(item.id)\">\r\n              <span class=\"bi-pencil-square icon-color iconFontSize\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                title=\"Edit\"></span>\r\n            </button>\r\n\r\n            <button class=\"btn\" (click)=\"getTimeDeleteId(item.id)\" data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#errorDelete-modal\">\r\n              <span class=\"bi-trash icon-color iconFontSize ps-2\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                title=\"Delete\" style=\"color: red;\"></span>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <!-- Change \"dailyTimeSheet.length\" to \"dailyTimeSheet\"  -->\r\n      <tbody *ngIf=\"dailyTimeSheet == 0\">\r\n        <tr class=\"text-center\">\r\n          <td colspan=\"12\">\r\n            <img class=\"image-responsive\" src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\"\r\n              alt=\"notfound1\" width=\"200\" height=\"150\" />\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n</div>\r\n\r\n<!-- Delete Confirmation Modal -->\r\n<div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n    <div class=\"modal-content position-relative\">\r\n      <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n        <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n          aria-label=\"Close\"></a>\r\n      </div>\r\n      <div class=\"modal-body p-0\">\r\n        <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n          <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800; \" id=\"modalExampleDemoLabel\">\r\n            Delete Daily ? </h2>\r\n        </div>\r\n        <h4 class=\"text-center \">Are You Sure To Delete ?</h4>\r\n\r\n      </div>\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n        <a class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\" (click)=\"onDeleteDailyTime()\">Delete\r\n        </a>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"errorDeleteSelect-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n    <div class=\"modal-content position-relative\">\r\n      <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n        <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n          aria-label=\"Close\"></a>\r\n      </div>\r\n      <div class=\"modal-body p-0\">\r\n        <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n          <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800; \" id=\"modalExampleDemoLabel\">\r\n            Delete Daily? </h2>\r\n        </div>\r\n        <!-- <h4   *ngIf=\"!isChecked  && !checkSingleArray \"class=\"text-center \">Are you sure to delete this UPI?</h4> -->\r\n        <h4 *ngIf=\"isChecked \" class=\"text-center \">Are you sure to Delete All Daily?</h4>\r\n        <h4 *ngIf=\"!isChecked \" class=\"text-center \">Are you sure to Delete selected Daily?</h4>\r\n\r\n      </div>\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n        <!-- <a   *ngIf=\"!isChecked  && !checkSingleArray \" class=\"btn btn-outline-primary\" data-bs-dismiss=\"modal\" (click)=\"deletExpenseById()\">Delete\r\n              </a> -->\r\n        <a *ngIf=\"isChecked \" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n          (click)=\"deleteProductById()\">Delete All\r\n        </a>\r\n        <a *ngIf=\"!isChecked\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n          (click)=\"deleteProductById()\">Delete Selected\r\n        </a>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { AddTimeComponent } from '../add-time/add-time.component';\r\nimport { EditTimeComponent } from '../edit-time/edit-time.component';\r\nimport { TimesheetService } from 'src/app/core/services/timesheet.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { TitleCasePipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-daily',\r\n  templateUrl: './daily.component.html',\r\n  styleUrls: ['./daily.component.scss']\r\n})\r\nexport class DailyComponent implements OnInit {\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  public edittimeId: any;\r\n  // Array of daily sheet\r\n  // dailyTimeSheet = [\r\n  //   {\r\n  //     id: 1,\r\n  //     project: 'name1',\r\n  //     todo: 'Fix Bug',\r\n  //     employeeName: 'Employee1',\r\n  //     duration: '08:12:12',\r\n  //     startTime: '10:12:12 AM',\r\n  //     endTime: '18:00:00 PM',\r\n  //   },\r\n  //   {\r\n  //     id: 2,\r\n  //     project: 'name2',\r\n  //     todo: 'Fix Bug',\r\n  //     employeeName: 'Employee2',\r\n  //     duration: '08:12:12',\r\n  //     startTime: '10:12:12 AM',\r\n  //     endTime: '18:00:00 PM',\r\n  //   },\r\n  //   {\r\n  //     id: 3,\r\n  //     project: 'name3',\r\n  //     todo: 'Fix Bug',\r\n  //     employeeName: 'Employee3',\r\n  //     duration: '08:12:12',\r\n  //     startTime: '10:12:12 AM',\r\n  //     endTime: '18:00:00 PM',\r\n  //   },\r\n  //   {\r\n  //     id: 4,\r\n  //     project: 'name4',\r\n  //     todo: 'Fix Bug',\r\n  //     employeeName: 'Employee4',\r\n  //     duration: '08:12:12',\r\n  //     startTime: '10:12:12 AM',\r\n  //     endTime: '18:00:00 PM',\r\n  //   },\r\n  // ]\r\n\r\n  public dailyTimeSheet: any;\r\n  public timeId: any;\r\n  public searchKey: any;\r\n\r\n  public checkSelect: boolean = false;\r\n  public allSelect: boolean = false;\r\n  public archiveIconfalse: boolean = false;\r\n  public checkSingleArray: any = [];\r\n  public upiCheckedId = [];\r\n  public upiCheckedId1 = [];\r\n  public productId: any;\r\n  public isChecked: boolean = false;\r\n  public checkSelectsinglefalse: boolean = false;\r\n\r\n  constructor(private dialog: MatDialog,private titleCasePipe: TitleCasePipe,\r\n    private timesheetService: TimesheetService, private toastService: ToastNotificationService,) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.getDailyTimeSheet();\r\n\r\n    this.timesheetService.timeAdded$.subscribe(() => {\r\n      // Fetch the updated list of users\r\n      this.getDailyTimeSheet();\r\n    });\r\n  }\r\n\r\n  getDailyTimeSheet() {\r\n    this.timesheetService.getDailyTime({}, this.currentUser.id).then((res) => {\r\n      console.log(res);\r\n      this.dailyTimeSheet = res.data\r\n    })\r\n  }\r\n  getdailyPESearch(searchKey) {\r\n    if (this.searchKey == \"\") {\r\n      this.toastService.openErrorSnackBar(\"Please Enter Valid Employee Name or Project Name!!!\");\r\n      this.timesheetService.getDailyTimesearch({}, this.currentUser.id,searchKey).then((res) => {\r\n      if(res.success == true){\r\n        this.dailyTimeSheet = res.data;\r\n      }\r\n        \r\n      })\r\n\r\n\r\n    }\r\n    else {\r\n      this.timesheetService.getDailyTimesearch({}, this.currentUser.id,searchKey).then((res) => {\r\n        if(res.success == true){\r\n          this.dailyTimeSheet = res.data;\r\n        }\r\n        \r\n      }, (err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n        }\r\n        else {\r\n          this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  // To open dialig box of Add Time form.\r\n  onAddTime(): void {\r\n    const dialogRef: MatDialogRef<AddTimeComponent> = this.dialog.open(AddTimeComponent, {\r\n      width: '40%',\r\n      height: '730px',\r\n      data: {},\r\n      panelClass: 'custom-dialog-add-time',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  // To open dialig box of Edit Time form.\r\n  onEditTime(edittimeId: string): void {\r\n    const dialogRef: MatDialogRef<EditTimeComponent> = this.dialog.open(EditTimeComponent, {\r\n      width: '40%',\r\n      height: '730px',\r\n      data: { edittimeId: edittimeId },\r\n      panelClass: 'custom-dialog-edit-time',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  getTimeDeleteId(timeId: any) {\r\n    this.timeId = timeId;\r\n  }\r\n\r\n  getUPIcheckId(e, productId) {\r\n    this.productId = productId;\r\n    console.log(\"this.productId\",this.productId)\r\n  }\r\n\r\n  getSingleCheckedId(e, productId) {\r\n    this.productId = productId;\r\n  }\r\n\r\n  onChekMultiple($event) {\r\n    let id = $event.target.value;\r\n    this.isChecked = $event.target.checked;\r\n    console.log(\"this.isChecked\", this.isChecked)\r\n    this.upiCheckedId1 = this.dailyTimeSheet.map((item) => {\r\n      if (id == -1) {\r\n        if (this.isChecked == true) {\r\n          this.checkSingleArray = [];\r\n          this.archiveIconfalse = true;\r\n          this.checkSelectsinglefalse = true;\r\n          return item;\r\n        }\r\n        else {\r\n          this.archiveIconfalse = false;\r\n          this.checkSelectsinglefalse = false;\r\n          this.upiCheckedId = [];\r\n          this.upiCheckedId1=[];\r\n          this.checkSingleArray = [];\r\n        }\r\n      }\r\n    })\r\n    console.log(\"multiple click\", this.upiCheckedId1)\r\n    for (var i = 0; i < this.upiCheckedId1.length; i++) {\r\n        this.upiCheckedId.push(this.upiCheckedId1[i].id);\r\n    }\r\n    console.log(\"multiple click\", this.upiCheckedId)\r\n\r\n  }\r\n\r\n  onChekedsingleCheckfalse(e, id) {\r\n    console.log(\"checked\", e.target.checked)\r\n\r\n    if (e.target.checked == true) {\r\n      \r\n      for(var i = 0 ; i < this.upiCheckedId.length;i++){\r\n        this.checkSingleArray.push(this.upiCheckedId[i]);\r\n      }\r\n      this.upiCheckedId = [];\r\n      this.archiveIconfalse = true;\r\n      this.checkSingleArray.push(e.target.value);\r\n      console.log(\"after single click checkSingleArray\", this.checkSingleArray)\r\n\r\n    }\r\n    else {\r\n      if (this.upiCheckedId.length > this.checkSingleArray.length) {\r\n\r\n        var index1 = this.upiCheckedId.indexOf(id);\r\n        console.log(index1)\r\n        this.upiCheckedId.splice(index1, 1);\r\n        console.log(\"after single click upiCheckedId\", this.upiCheckedId)\r\n\r\n        if (this.upiCheckedId.length > 0) {\r\n          this.archiveIconfalse = true;\r\n          this.checkSelect = false;\r\n          this.isChecked=false;\r\n        }\r\n        else {\r\n          this.archiveIconfalse = false;\r\n          this.upiCheckedId = [];\r\n        }\r\n\r\n      }\r\n      else {\r\n        var index = this.checkSingleArray.indexOf(id);\r\n        console.log(index)\r\n        this.checkSingleArray.splice(index, 1);\r\n        console.log(\"this.checkSingleArray\", this.checkSingleArray)\r\n\r\n        if (this.checkSingleArray.length > 0) {\r\n          this.archiveIconfalse = true;\r\n        }\r\n        else {\r\n          this.archiveIconfalse = false;\r\n          this.checkSingleArray = [];\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  onDeleteDailyTime() {\r\n    this.timesheetService.deleteTimeDeleteById({}, this.timeId).then((res) => {\r\n      console.log(res);\r\n      this.toastService.openSnackBar(\"TimeSheet Deleted Successfully!!!\");\r\n      this.getDailyTimeSheet();\r\n    })\r\n  }\r\n\r\n  deleteProductById() {\r\n    console.log(\"this.productId-->\",this.productId)\r\n    let request = {\r\n      \"taskIds\": this.productId\r\n\r\n    }\r\n\r\n    this.timesheetService.multideleteTimeDeleteById(request, this.currentUser.id).then((res) => {\r\n      console.log(res);\r\n      this.toastService.openSnackBar(\"TimeSheet Deleted Successfully!!!\");\r\n      this.getDailyTimeSheet();\r\n      this.archiveIconfalse = false;\r\n      this.allSelect = false;\r\n      this.checkSelectsinglefalse = false;\r\n      this.isChecked=false;\r\n      this.upiCheckedId = [];\r\n      this.checkSingleArray = [];\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header flex d-flex flex-row pt-0\" style=\"justify-content:center; align-items: center;\">\r\n\r\n  <h1 style=\"color: #EB8B3F; font-weight: bolder;margin-left: 4px;\" class=\"modal-title mb-0\">Edit Time</h1>\r\n\r\n  <div class=\"payrollButtons\">\r\n\r\n      <button style=\"margin-right: 10px !important;\" type=\"button\"\r\n          class=\"btn btn-cancel\" (click) = \"clearAddTimeForm()\">Cancel</button>\r\n      <button type=\"button\" class=\"btn btn-save\" (click)=\"postAddTimeForm()\">Save</button>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"modal-body\">\r\n\r\n  <form [formGroup]=\"EditTimeForm\">\r\n\r\n    <div class=\"row mb-3\">\r\n\r\n      <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n        <label class=\"form-label\">Select Employee <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <mat-select matNativeControl required disableOptionCentering formControlName=\"employeeName\"\r\n                placeholder=\"Employees\">\r\n                <mat-option *ngFor=\"let item of employeeList\"\r\n                    [value]=\"item\">{{item}}\r\n                </mat-option>\r\n            </mat-select>\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.employeeName.touched)\">\r\n            <mat-error *ngIf=\"f.employeeName.errors?.required\">\r\n                Employee Name is required!\r\n            </mat-error>\r\n        </mat-error>\r\n      </div>\r\n\r\n      <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n        <label class=\"form-label\">Date <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n          <input matInput required ngModel bsDatepicker placeholder=\"DD MMM YYYY\" [minDate]=\"today\"\r\n            style=\"text-transform:uppercase!important;\" id=\"datePicker\" bsDatepicker [bsConfig]=\"{\r\n                containerClass: 'theme-dark-blue',\r\n                dateInputFormat: 'DD MMM YYYY',\r\n                 showWeekNumbers:false\r\n                }\" formControlName=\"startDate\" autocomplete=\"off\" (click)=\"openDatepicker()\">\r\n          <span>\r\n            <mat-icon class=\"iconcalender p-0\">date_range</mat-icon>\r\n          </span>\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.startDate.touched) && f.startDate.errors?.required\">\r\n          Date is required!\r\n        </mat-error>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row mb-3\">\r\n\r\n      <div class=\"col-xs-12 col-sm-6 col-md-6 col-lg-4\">\r\n        <label class=\"form-label\">Start Time <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n          <input type=\"time\" matInput placeholder=\"Start Time\" formControlName=\"start_time\"\r\n          (blur)=\"calculateTimeDifference()\"\r\n            [ngClass]=\"{ 'is-invalid': f.start_time.invalid && f.start_time.touched && submitted }\"\r\n            [value]=\"EditTimeForm.controls.start_time.value || null\">\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger mb-1\" *ngIf=\"(submitted || f.start_time.touched) && f.start_time.errors?.required\">\r\n           Start Time Is Required!\r\n        </mat-error>\r\n\r\n      </div>\r\n\r\n      <div class=\"col-xs-12 col-sm-6 col-md-6 col-lg-4\">\r\n        <label class=\"form-label\">End Time <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n          <input type=\"time\" matInput placeholder=\"End Time\" formControlName=\"end_time\"   (blur)=\"calculateTimeDifference()\"\r\n            [ngClass]=\"{ 'is-invalid': f.end_time.invalid && f.end_time.touched && submitted }\"\r\n            [value]=\"EditTimeForm.controls.end_time.value || null\">\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger mb-1\" *ngIf=\"(submitted || f.end_time.touched) && f.end_time.errors?.required\">\r\n           End Time Is Required!\r\n        </mat-error>\r\n\r\n      </div>\r\n\r\n      <div class=\"col-xs-12 col-sm-6 col-md-6 col-lg-4\">\r\n        <label class=\"form-label\">Period <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n          <input matNativeControl required matInput placeholder=\"Period\" autocomplete=\"off\" formControlName=\"period\"\r\n            readonly>\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.period.touched) && f.period.errors?.required\">\r\n          Period is required!\r\n        </mat-error>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row mb-3\">\r\n      <div class=\"col-12 form-check form-switch\">\r\n        <input class=\"form-check-input mr-1\" type=\"checkbox\"\r\n            id=\"flexSwitchCheckDefault\" formControlName=\"isBillable\"\r\n            style=\"float: inherit;margin-right: 10px;margin-left: -20px;cursor: pointer;\" />\r\n        <label class=\"text-nowrap form-label\" style = \"font-size: 14px;\">Is Billable</label>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mb-3\">\r\n\r\n      <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n        <label class=\"form-label\">Select Client <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n          <mat-select formControlName=\"clientName\" matNativeControl disableOptionCentering placeholder=\"Select Client\"\r\n            autocomplete=\"off\">\r\n            <mat-option value=\"client1\">client1</mat-option>\r\n            <mat-option value=\"client2\">client2</mat-option>\r\n            <mat-option value=\"client3\">client3</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.clientName.touched) && f.clientName.errors?.required\">\r\n          Select Client is required!\r\n        </mat-error>\r\n      </div>\r\n\r\n      <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6\">\r\n        <label class=\"form-label\">Select Project <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n          <mat-select formControlName=\"projectName\" matNativeControl disableOptionCentering placeholder=\"Select Project\"\r\n            autocomplete=\"off\">\r\n            <mat-option value=\"Iceipts\">Iceipts</mat-option>\r\n            <mat-option value=\"FIFM\">FIFM</mat-option>\r\n            <mat-option value=\"FIGO\">FIGO</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.projectName.touched) && f.projectName.errors?.required\">\r\n          Select Project is required!\r\n        </mat-error>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row mb-3\">\r\n\r\n      <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n        <label class=\"form-label\">Enter Task <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <input matNativeControl required matInput placeholder=\"Enter Your Task\"\r\n                autocomplete=\"off\" formControlName=\"task\">\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.task.touched) && f.task.errors?.required\">\r\n          Task is required!\r\n        </mat-error>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row mb-3\">\r\n\r\n      <div class=\"col-sm-12 col-md-12 col-lg-12\">\r\n        <label class=\"form-label\">Description <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <textarea matInput rows=\"3\" placeholder=\"Enter The Description\" required\r\n                autocomplete=\"off\" formControlName=\"description\"></textarea>\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.description.touched)\" >\r\n            <mat-error *ngIf=\"f.description.errors?.required\">\r\n                Description is required!\r\n            </mat-error>\r\n        </mat-error>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-sm-12 col-md-12 col-lg-12\">\r\n        <label class=\"form-label\">Reasons <span class=\"error-asterisk\">*</span></label>\r\n        <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <textarea matInput rows=\"3\" placeholder=\"Enter Your Reason\" required\r\n                autocomplete=\"off\" formControlName=\"reason\"></textarea>\r\n        </mat-form-field>\r\n        <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.reason.touched)\" >\r\n            <mat-error *ngIf=\"f.reason.errors?.required\">\r\n                Reason is required!\r\n            </mat-error>\r\n        </mat-error>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </form>\r\n\r\n</div>\r\n\r\n\r\n","import { TitleCasePipe } from '@angular/common';\r\nimport { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport * as moment from 'moment';\r\nimport { RolesPermissionsService } from 'src/app/core/services/roles-permissions.service';\r\nimport { TimesheetService } from 'src/app/core/services/timesheet.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-time',\r\n  templateUrl: './edit-time.component.html',\r\n  styleUrls: ['./edit-time.component.scss']\r\n})\r\nexport class EditTimeComponent implements OnInit {\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n\r\n  public EditTimeForm: FormGroup;\r\n  public isSwitchOn: boolean = false;\r\n  public todaysDate;\r\n  public employeeList: [];\r\n  public submitted: boolean = false;\r\n  timeDifferenceFormatted: string = '';\r\n  timeId: any;\r\n  public today: Date;\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<EditTimeComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public editDatatime: any,\r\n    private formBuilder: FormBuilder,\r\n    private toastService: ToastNotificationService,\r\n    private timesheetService: TimesheetService,\r\n    public rolesPermissionsService: RolesPermissionsService,\r\n    private titleCasePipe: TitleCasePipe,\r\n  ) {\r\n    this.today = new Date();\r\n    this.todaysDate = new Date();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.timeId = this.editDatatime.edittimeId;\r\n    console.log(\"this.timeId\", this.timeId);\r\n    this.gettimeById();\r\n    this.getUsersList();\r\n    this.EditTimeForm = this.formBuilder.group({\r\n      employeeName: [''],\r\n      startDate: [''],\r\n      start_time: ['', [Validators.required]],\r\n      end_time: ['', [Validators.required]],\r\n      period: ['00:00:00', Validators.required], // Default duration\r\n      isBillable: [false],\r\n      clientName: ['',[Validators.required]],\r\n      projectName: ['',[Validators.required]],\r\n      task: [''],\r\n      description: [''],\r\n      reason: [''],\r\n    })\r\n\r\n  }\r\n\r\n  getUsersList() {\r\n    this.rolesPermissionsService.getUsers({}, this.currentUser.id).then((res) => {\r\n      this.employeeList = res.data.map((item) => { return item.firstName });\r\n      console.log(\"employee\", this.employeeList)\r\n    })\r\n  }\r\n  gettimeById() {\r\n    this.timesheetService.getcollectimeById({}, this.timeId).then((res) => {\r\n      console.log(\"res edit click data\", res)\r\n\r\n      this.EditTimeForm.patchValue({\r\n        employeeName: res.data.selectEmployee,\r\n        startDate: moment(res.data.date).format(\"DD-MMM-YYYY\"),\r\n        start_time: res.data.startTime,\r\n        end_time: res.data.endTime,\r\n        period: res.data.period,\r\n        isBillable: res.data.isBillable === true ? 'true' : 'false',\r\n        clientName: res.data.selectClient,\r\n        projectName: res.data.selectProject,\r\n        task: res.data.enterTask,\r\n        description: res.data.description,\r\n        reason: res.data.reason,\r\n      });\r\n\r\n\r\n\r\n    })\r\n  }\r\n\r\n  // Short-cut used in mat errors.\r\n  get f() {\r\n    return this.EditTimeForm.controls;\r\n  }\r\n\r\n  // To save the add time form\r\n  postAddTimeForm() {\r\n    this.submitted = true;\r\n    if (this.EditTimeForm.invalid) {\r\n      this.toastService.openErrorSnackBar(\"Please Fill Mandatory Fields!!!\");\r\n      return false;\r\n    } else {\r\n      if (this.EditTimeForm.controls.start_time.value < this.EditTimeForm.controls.end_time.value) {\r\n        let body = {\r\n          \"timeDetails\": {\r\n            \"date\": moment(this.EditTimeForm.controls.startDate.value, 'DD-MMM-YYYY').format('YYYY-MM-DD'),\r\n            \"startTime\": this.EditTimeForm.controls.start_time.value,\r\n            \"endTime\": this.EditTimeForm.controls.end_time.value,\r\n            \"period\": this.EditTimeForm.controls.period.value,\r\n            \"isBillable\": this.EditTimeForm.controls.isBillable.value,\r\n            \"selectProject\": this.EditTimeForm.controls.projectName.value,\r\n            \"enterTask\": this.EditTimeForm.controls.task.value,\r\n            \"description\": this.EditTimeForm.controls.description.value,\r\n            \"reason\": this.EditTimeForm.controls.reason.value,\r\n            \"selectClient\": this.EditTimeForm.controls.clientName.value,\r\n            \"selectEmployee\": this.EditTimeForm.controls.employeeName.value,\r\n            //\"employeeId\": this.timeId\r\n          }\r\n        }\r\n        this.timesheetService.editTime(body, this.timeId).then((res) => {\r\n  \r\n          console.log(\"time\", res);\r\n          this.toastService.openSnackBar(\"Time Updated Successfully!!!\");\r\n          this.timesheetService.notifytimeAdded();\r\n          this.dialogRef.close();\r\n        },\r\n          (err) => {\r\n  \r\n            if (err.error.expose) {\r\n              this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n            }\r\n            else {\r\n              this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n            }\r\n  \r\n          })\r\n      }\r\n      else{\r\n        this.toastService.openErrorSnackBar(\"Start time must be less than end time!!!\");\r\n      }\r\n      \r\n    }\r\n\r\n  }\r\n\r\n  calculateTimeDifference() {\r\n    const startTimeValue = this.EditTimeForm.controls['start_time'].value;\r\n    const endTimeValue = this.EditTimeForm.controls['end_time'].value;\r\n    // console.log(\"startTimeValue\",startTimeValue);\r\n    // console.log(\"endTimeValue\",endTimeValue);\r\n    if (startTimeValue && endTimeValue) {\r\n      const [startHour, startMinute] = startTimeValue.split(':');\r\n      const [endHour, endMinute] = endTimeValue.split(':');\r\n\r\n      const startDate = new Date();\r\n      startDate.setHours(parseInt(startHour, 10));\r\n      startDate.setMinutes(parseInt(startMinute, 10));\r\n\r\n      const endDate = new Date();\r\n      endDate.setHours(parseInt(endHour, 10));\r\n      endDate.setMinutes(parseInt(endMinute, 10));\r\n\r\n      if (startDate < endDate) {\r\n        const timeDifferenceInMilliseconds = endDate.getTime() - startDate.getTime();\r\n        const hoursDifference = Math.floor(timeDifferenceInMilliseconds / (1000 * 60 * 60));\r\n        const minutesDifference = Math.floor((timeDifferenceInMilliseconds % (1000 * 60 * 60)) / (1000 * 60));\r\n        const secondsDifference = Math.floor((timeDifferenceInMilliseconds % (1000 * 60)) / 1000);\r\n\r\n        this.timeDifferenceFormatted = `${this.formatTimeUnit(hoursDifference)}:${this.formatTimeUnit(minutesDifference)}:${this.formatTimeUnit(secondsDifference)}`;\r\n        console.log(\"  this.timeDifferenceFormatted\", this.timeDifferenceFormatted);\r\n\r\n        this.EditTimeForm.patchValue({\r\n          period: this.timeDifferenceFormatted\r\n        });\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Start time must be less than end time!!!\");\r\n        //this.timeDifferenceFormatted = '';\r\n        this.EditTimeForm.patchValue({\r\n         // period: this.timeDifferenceFormatted,\r\n          start_time: [null, [Validators.required]],\r\n          end_time: [null, [Validators.required]],\r\n        });\r\n      }\r\n    }\r\n    else {\r\n      this.timeDifferenceFormatted = '';\r\n      this.EditTimeForm.patchValue({\r\n        period: this.timeDifferenceFormatted,\r\n      });\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  private formatTimeUnit(unit: number): string {\r\n    return unit < 10 ? `0${unit}` : `${unit}`;\r\n  }\r\n  // For isBillable input.\r\n  toggleSwitch(): void {\r\n    this.isSwitchOn = !this.isSwitchOn;\r\n  }\r\n\r\n  // To close the dialog.\r\n  clearAddTimeForm() {\r\n    this.dialogRef.close();\r\n  }\r\n  openDatepicker() {\r\n    // Check if the current value of taskdate is an \"Invalid Date\"\r\n    const selectedDate = this.EditTimeForm.get('startDate').value;\r\n    if (isNaN(selectedDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.EditTimeForm.get('startDate').setValue(new Date());\r\n    }\r\n  }\r\n}\r\n","<div class=\"container-fluid bg-white p-0\">\r\n\r\n  <div class = \"row\">\r\n\r\n    <div class=\"col-sm-12 col-md-11 col-lg-10 col-xl-9 col-xxl-8 ps-5 mt-3\">\r\n\r\n      <div class=\"card\">\r\n\r\n        <form [formGroup]=\"settingLeaveForm\">\r\n\r\n          <!-- <hr class=\"my-0 py-0\" /> -->\r\n\r\n          <div class=\"row my-3 px-3 py-2\">\r\n            <div class = \"col-12 ps-5\" style = \"font-size: 20px;font-weight: 500;color:black;font-family: Poppins;\">\r\n              Leave Setting\r\n            </div>\r\n          </div>\r\n\r\n          <!-- <hr class=\"my-0 py-0\" style = \"border-color: #D9D9D9;\" /> -->\r\n\r\n          <div class = \"tableSize\">\r\n            <table class = \"table table-responsive mb-0 pb-0\">\r\n              <thead>\r\n                <tr style = \"border-bottom: 1px solid #D9D9D9;border-top: 1px solid #D9D9D9;\">\r\n                  <th style = \"width:15%;border-right: none !important;\"></th>\r\n                  <th style = \"font-size: 18px;font-weight:500;width:35%;padding-left:30px;border-right: 1px solid #D9D9D9;\"><span style = \"color:black;font-family: Poppins;\">Leave Type</span></th>\r\n                  <th style = \"font-size: 18px;font-weight:500;text-align: center;\"><span style = \"color:black;font-family: Poppins;\">Leave Allocated</span></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td style = \"border-right: none !important;\"></td>\r\n                  <td class = \"leave\" style=\"border-right: 1px solid #D9D9D9;\"><span  class = \"textColor\">Sick Leave</span></td>\r\n                  <td style = \"text-align: center;\">\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <input matNativeControl placeholder=\"Sick Leave\" style = \"text-align: center;\"\r\n                      formControlName=\"slday\"  autocomplete=\"off\" (keypress)=\"numberOnly($event)\">\r\n                    </mat-form-field>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td style = \"border-right: none !important;\"></td>\r\n                  <td class = \"leave\" style=\"border-right: 1px solid #D9D9D9;\"><span class = \"textColor\">Casual Leave</span></td>\r\n                  <td style = \"text-align: center;\">\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <input matNativeControl matInput placeholder=\"Casual Leave\" style = \"text-align: center;\"\r\n                      formControlName=\"clday\"  autocomplete=\"off\" (keypress)=\"numberOnly($event)\">\r\n                    </mat-form-field>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td style = \"border-right: none !important;\"></td>\r\n                  <td class = \"leave\" style=\"border-right: 1px solid #D9D9D9;\"><span class = \"textColor\">Privilege Leave</span></td>\r\n                  <td style = \"text-align: center;\">\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <input matNativeControl matInput placeholder=\"Privilege Leave\" style = \"text-align: center;\"\r\n                      formControlName=\"plday\"  autocomplete=\"off\" (keypress)=\"numberOnly($event)\">\r\n                    </mat-form-field>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td style = \"border-right: none !important;\"></td>\r\n                  <td class = \"leave\" style=\"border-right: 1px solid #D9D9D9;\"><span class = \"textColor\">Compensatory Leave</span></td>\r\n                  <td style = \"text-align: center;\">\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <input matNativeControl matInput placeholder=\"Compensatory Leave\" style = \"text-align: center;\"\r\n                      formControlName=\"complday\"  autocomplete=\"off\" (keypress)=\"numberOnly($event)\" >\r\n                    </mat-form-field>\r\n                  </td>\r\n                </tr>\r\n                <tr style = \"border-top: 1px solid #D9D9D9 !important;\">\r\n                  <td style = \"border-right: none !important;\"></td>\r\n                  <td style = \"font-size: 18px;font-weight:500;padding-left:25px;font-family: Poppins;\"><span class = \"textColor\">Total Leave</span></td>\r\n                  <td style = \"text-align: center;\" #myParagraph>\r\n                    {{(+settingLeaveForm.get('slday').value || 0) + (+settingLeaveForm.get('clday').value || 0) + (+settingLeaveForm.get('plday').value || 0)\r\n                  + (+settingLeaveForm.get('complday').value || 0)}}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr style = \"border-top: 1px solid #D9D9D9;\">\r\n                  <td style = \"border-right: none !important;\"></td>\r\n                  <td style = \"border-right: none !important;\"></td>\r\n                  <td>\r\n                    <div class = \"row px-3\" style = \"float:right\">\r\n\r\n                     <button type=\"button\" *ngIf=\"this.isShowButtonsetting == false\" class=\"btn btn-save\" style = \"width:100px;padding-left: 32px;\" (click)=\"onsubmit(myParagraph.textContent)\">Save</button>\r\n                     <button type=\"button\" *ngIf=\"this.isShowButtonsetting == true\" class=\"btn btn-save\" style = \"width:100px;padding-left: 24px;\" (click)=\"onupdate(myParagraph.textContent)\">update</button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n\r\n\r\n        </form>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n","import { TitleCasePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { TimesheetService } from 'src/app/core/services/timesheet.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\n\r\n@Component({\r\n  selector: 'app-setting-timesheet',\r\n  templateUrl: './setting-timesheet.component.html',\r\n  styleUrls: ['./setting-timesheet.component.scss']\r\n})\r\nexport class SettingTimesheetComponent implements OnInit {\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  public settingLeaveForm: FormGroup;\r\n  total: number = 0;\r\n  public sid: number;\r\n  public pid: number;\r\n  public clid: number;\r\n  public comid: number;\r\n  shouldCallBlur: boolean = true;\r\n  public body: any;\r\n  public body1: any;\r\n  public body2: any;\r\n  public body3: any;\r\n  public isShowButtonsetting: boolean = false;\r\n  listdata: any;\r\n\r\n  constructor(private formBuilder: FormBuilder, public timesheetService: TimesheetService,\r\n    private toastService: ToastNotificationService, private titleCasePipe: TitleCasePipe,) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.getleaveDaysDetails();\r\n\r\n    this.settingLeaveForm = this.formBuilder.group({\r\n      slday: [null, [Validators.pattern(\"^[0-9]*$\")]],\r\n      plday: [null, [Validators.pattern(\"^[0-9]*$\")]],\r\n      clday: [null, [Validators.pattern(\"^[0-9]*$\")]],\r\n      complday: [null, [Validators.pattern(\"^[0-9]*$\")]],\r\n\r\n    });\r\n\r\n  }\r\n\r\n  getleaveDaysDetails() {\r\n    this.timesheetService.getAllLeaveDaysDetails({}, this.currentUser.id).then((res) => {\r\n      console.log(\"res LEAVE Days\", res);\r\n      if (res) {\r\n        this.listdata = res.data.leave;\r\n        if (this.listdata.length > 0) {\r\n          this.isShowButtonsetting = true;\r\n          console.log(\"res LEAVE\", this.listdata);\r\n          for (var i = 0; i < this.listdata.length; i++) {\r\n            if (this.listdata[i].type == \"Casual Leave\") {\r\n              this.clid = res.data.leave[i].id;\r\n              this.settingLeaveForm.patchValue({\r\n                clday: res.data.leave[i].leaveAllocated,\r\n              })\r\n            }\r\n            if (this.listdata[i].type == \"Sick Leave\") {\r\n              this.sid = res.data.leave[i].id;\r\n              this.settingLeaveForm.patchValue({\r\n                slday: res.data.leave[i].leaveAllocated,\r\n              })\r\n            }\r\n            if (this.listdata[i].type == \"Compensatory Leave\") {\r\n              this.comid = res.data.leave[i].id;\r\n              this.settingLeaveForm.patchValue({\r\n                complday: res.data.leave[i].leaveAllocated,\r\n              })\r\n            }\r\n            if (this.listdata[i].type == \"Privilage Leave\") {\r\n              this.pid = res.data.leave[i].id;\r\n              this.settingLeaveForm.patchValue({\r\n                plday: res.data.leave[i].leaveAllocated,\r\n              })\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          this.isShowButtonsetting = false\r\n        }\r\n      }\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n  }\r\n\r\n  numberOnly(event): boolean {\r\n    const charCode = (event.which) ? event.which : event.keyCode;\r\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  get f() {\r\n    return this.settingLeaveForm.controls;\r\n  }\r\n\r\n\r\n\r\n  onsubmit(content: any) {\r\n\r\n    this.total = content;\r\n    // console.log('null:', this.settingLeaveForm.controls.slday.value);\r\n    if (this.settingLeaveForm.controls.slday.value == null) {\r\n      this.body = 0;\r\n      // console.log('SN:', this.body );\r\n    }\r\n    else {\r\n      this.body = this.settingLeaveForm.controls.slday.value\r\n      // console.log('SA:', this.body );\r\n    }\r\n\r\n    if (this.settingLeaveForm.controls.clday.value == null) {\r\n      this.body1 = 0;\r\n      // console.log('CN', this.body1 );\r\n    }\r\n    else {\r\n      this.body1 = this.settingLeaveForm.controls.clday.value\r\n      // console.log('CA:', this.body1 );\r\n    }\r\n\r\n    if (this.settingLeaveForm.controls.plday.value == null) {\r\n      this.body2 = 0;\r\n      // console.log('PN', this.body2 );\r\n    }\r\n    else {\r\n      this.body2 = this.settingLeaveForm.controls.plday.value\r\n      // console.log('PA', this.body2 );\r\n    }\r\n\r\n\r\n    if (this.settingLeaveForm.controls.complday.value == null) {\r\n      this.body3 = 0;\r\n      // console.log('CON', this.body3 );\r\n    }\r\n    else {\r\n      this.body3 = this.settingLeaveForm.controls.complday.value\r\n      // console.log('COA', this.body3 );\r\n    }\r\n\r\n\r\n    let Body = {\r\n      \"assignLeave\": [\r\n        {\r\n          \"type\": \"Sick Leave\",\r\n          \"leaveAllocated\": this.body\r\n        },\r\n        {\r\n          \"type\": \"Casual Leave\",\r\n          \"leaveAllocated\": this.body1\r\n        },\r\n        {\r\n          \"type\": \"Privilage Leave\",\r\n          \"leaveAllocated\": this.body2\r\n        },\r\n        {\r\n          \"type\": \"Compensatory Leave\",\r\n          \"leaveAllocated\": this.body3\r\n        }\r\n      ]\r\n    }\r\n\r\n    this.timesheetService.getleavesetting(Body, this.currentUser.id).then((res) => {\r\n      if (res) {\r\n        this.getleaveDaysDetails();\r\n        this.toastService.openSnackBar(\"All Leave Added Successfully!!!\");\r\n        this.body = 0;\r\n        this.body1 = 0;\r\n        this.body2 = 0;\r\n        this.body3 = 0;\r\n\r\n      }\r\n\r\n    })\r\n\r\n\r\n  }\r\n\r\n  onupdate(content: any) {\r\n\r\n    this.total = content;\r\n    // console.log('null:', this.settingLeaveForm.controls.slday.value);\r\n    if (this.settingLeaveForm.controls.slday.value == null) {\r\n      this.body = 0;\r\n      // console.log('SN:', this.body );\r\n    }\r\n    else {\r\n      this.body = this.settingLeaveForm.controls.slday.value\r\n      // console.log('SA:', this.body );\r\n    }\r\n\r\n    if (this.settingLeaveForm.controls.clday.value == null) {\r\n      this.body1 = 0;\r\n      // console.log('CN', this.body1 );\r\n    }\r\n    else {\r\n      this.body1 = this.settingLeaveForm.controls.clday.value\r\n      // console.log('CA:', this.body1 );\r\n    }\r\n\r\n    if (this.settingLeaveForm.controls.plday.value == null) {\r\n      this.body2 = 0;\r\n      // console.log('PN', this.body2 );\r\n    }\r\n    else {\r\n      this.body2 = this.settingLeaveForm.controls.plday.value\r\n      // console.log('PA', this.body2 );\r\n    }\r\n\r\n\r\n    if (this.settingLeaveForm.controls.complday.value == null) {\r\n      this.body3 = 0;\r\n      // console.log('CON', this.body3 );\r\n    }\r\n    else {\r\n      this.body3 = this.settingLeaveForm.controls.complday.value\r\n      // console.log('COA', this.body3 );\r\n    }\r\n\r\n\r\n    let body = [\r\n\r\n      {\r\n        \"id\": this.sid,\r\n        \"leaveAllocated\": this.body\r\n      },\r\n      {\r\n        \"id\": this.clid,\r\n        \"leaveAllocated\": this.body1\r\n      },\r\n      {\r\n        \"id\": this.pid,\r\n        \"leaveAllocated\": this.body2\r\n      },\r\n      {\r\n        \"id\": this.comid,\r\n        \"leaveAllocated\": this.body3\r\n      }\r\n    ]\r\n\r\n    this.timesheetService.getleavesettingupdate(body, this.currentUser.id).then((res) => {\r\n      if (res) {\r\n        this.getleaveDaysDetails();\r\n        this.toastService.openSnackBar(\"All Leave Update Successfully!!!\");\r\n        this.body = 0;\r\n        this.body1 = 0;\r\n        this.body2 = 0;\r\n        this.body3 = 0;\r\n\r\n      }\r\n\r\n    })\r\n\r\n\r\n  }\r\n\r\n  // getsickleave(event: any) {\r\n  //   if (event.target.value !== '') {\r\n  //     this.body =\r\n  //     {\r\n  //       \"type\": \"Sick Leave\",\r\n  //       \"leaveAllocated\": this.settingLeaveForm.controls.slday.value\r\n  //     }\r\n\r\n  //     this.timesheetService.getleavesetting(this.body, this.currentUser.id).then((res) => {\r\n  //       if (res) {\r\n\r\n  //         this.toastService.openSnackBar(\"Sick Leave Added Successfully!!!\");\r\n  //       }\r\n\r\n  //     })\r\n  //   }\r\n\r\n\r\n  // }\r\n\r\n  // getCasualleave(event: any) {\r\n  //   if (event.target.value !== '') {\r\n  //      this.body1 =\r\n  //     {\r\n  //       \"type\": \"Casual Leave\",\r\n  //       \"leaveAllocated\": this.settingLeaveForm.controls.clday.value\r\n  //     }\r\n\r\n  //     this.timesheetService.getleavesetting(this.body1, this.currentUser.id).then((res) => {\r\n  //       if (res) {\r\n\r\n  //         this.toastService.openSnackBar(\"Casual Leave Added Successfully!!!\");\r\n  //       }\r\n\r\n  //     })\r\n  //   }\r\n\r\n\r\n  // }\r\n\r\n  // getPrivillageleave(event: any) {\r\n  //   if (event.target.value !== '') {\r\n  //     this.body3 =\r\n  //     {\r\n  //       \"type\": \"Privilage Leave\",\r\n  //       \"leaveAllocated\": this.settingLeaveForm.controls.plday.value\r\n  //     }\r\n\r\n  //     this.timesheetService.getleavesetting(this.body3, this.currentUser.id).then((res) => {\r\n  //       if (res) {\r\n\r\n  //         this.toastService.openSnackBar(\"Privilage Leave Added Successfully!!!\");\r\n  //       }\r\n\r\n  //     })\r\n\r\n  //   }\r\n\r\n\r\n  // }\r\n\r\n  // getCompensatoryleave(event: any) {\r\n  //   if (event.target.value !== '') {\r\n  //     this.body4 =\r\n  //     {\r\n  //       \"type\": \"Compensatory Leave\",\r\n  //       \"leaveAllocated\": this.settingLeaveForm.controls.complday.value\r\n  //     }\r\n\r\n  //     this.timesheetService.getleavesetting(this.body4, this.currentUser.id).then((res) => {\r\n  //       if (res) {\r\n\r\n  //         this.toastService.openSnackBar(\"Compensatory Leave Added Successfully!!!\");\r\n  //       }\r\n\r\n  //     })\r\n  //   }\r\n\r\n  // }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\n// Main component\r\nimport { TimesheetComponent } from './timesheet.component';\r\n\r\n// Sub-components\r\nimport { DailyComponent } from './daily/daily.component';\r\nimport { WeeklyComponent } from './weekly/weekly.component';\r\nimport { ApprovalsComponent } from './approvals/approvals.component';\r\nimport { SettingTimesheetComponent } from './setting-timesheet/setting-timesheet.component';\r\n\r\n// Child components of daily\r\nimport { AddTimeComponent } from './add-time/add-time.component';\r\nimport { EditTimeComponent } from './edit-time/edit-time.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component: TimesheetComponent,\r\n    children: [\r\n      {\r\n        path:'',\r\n        redirectTo: 'daily',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path:'daily',\r\n        component:DailyComponent,\r\n      },\r\n      {\r\n        path:'add-time',\r\n        component:AddTimeComponent,\r\n      },\r\n      {\r\n        path:'edit-time',\r\n        component:EditTimeComponent,\r\n      },\r\n\r\n      {\r\n        path:'weekly',\r\n        component:WeeklyComponent,\r\n      },\r\n      {\r\n        path:'approvals',\r\n        component:ApprovalsComponent,\r\n      },\r\n      {\r\n        path:'setting',\r\n        component:SettingTimesheetComponent,\r\n      },\r\n    ],\r\n    pathMatch: 'prefix',\r\n    data: {\r\n      routerLinkActiveOptions: { exact: true, pathMatch: 'full' }\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TimesheetRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-timesheet',\r\n  templateUrl: './timesheet.component.html',\r\n  styleUrls: ['./timesheet.component.scss']\r\n})\r\nexport class TimesheetComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid bg-white p-4\">\r\n  <div class=\"row mt-2\">\r\n    <div class=\"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n        <div class=\"row mt-3 page-nav-link\">\r\n           <div class=\"links col-xxl-1 col-xl-1 col-lg-2 col-md-3 col-sm-3 col-xs-3\" id=\"productlistLink\">\r\n                <a class=\"mt-3 pb-1 text-nowrap productLink\" routerLink=\"./daily\" routerLinkActive='active'>Daily</a>\r\n            </div>\r\n            <div class=\"links col-xxl-1 col-xl-1 col-lg-2 col-md-3 col-sm-3 col-xs-3\">\r\n                <a class=\"mt-3 pb-1 text-nowrap productLink\" routerLink=\"./weekly\" routerLinkActive='active'>Weekly</a>\r\n            </div>\r\n           <div class=\"links col-xxl-1 col-xl-1 col-lg-2 col-md-3 col-sm-3 col-xs-3\">\r\n                <a class=\"mt-3 pb-1 text-nowrap productLink\" routerLink=\"./approvals\" routerLinkActive='active'>Approvals</a>\r\n            </div>\r\n            <div class=\"links col-xxl-1 col-xl-1 col-lg-2 col-md-3 col-sm-3 col-xs-3\">\r\n              <a class=\"mt-3 pb-1 text-nowrap productLink\" routerLink=\"./setting\" routerLinkActive='active'>Setting</a>\r\n            </div>\r\n            <div class=\"col-xxl-8 col-xl-8 col-lg-4 col-md-3 col-sm-0 col-xs-0\"></div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <hr  class = \"mt-1\" />\r\n  <div>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MaterialExampleModule } from 'src/app/material.module';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\n\r\nimport { TimesheetRoutingModule } from './timesheet-routing.module';\r\nimport { TimesheetComponent } from './timesheet.component';\r\nimport { DailyComponent } from './daily/daily.component';\r\nimport { WeeklyComponent } from './weekly/weekly.component';\r\nimport { ApprovalsComponent } from './approvals/approvals.component';\r\nimport { SettingTimesheetComponent } from './setting-timesheet/setting-timesheet.component';\r\nimport { AddTimeComponent } from './add-time/add-time.component';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { EditTimeComponent } from './edit-time/edit-time.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TimesheetComponent,\r\n    DailyComponent,\r\n    WeeklyComponent,\r\n    ApprovalsComponent,\r\n    AddTimeComponent,\r\n    SettingTimesheetComponent,\r\n    EditTimeComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    TimesheetRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MaterialExampleModule,\r\n    MatDatepickerModule,\r\n    BsDatepickerModule.forRoot(),\r\n  ]\r\n})\r\nexport class TimesheetModule { }\r\n","<div class=\"container-fluid bg-white p-0\">\r\n\r\n  <div class=\"row headerButtons mb-3 me-4\" id=\"showoptionHide\">\r\n    <div class=\"flex-item searchBar\">\r\n      <input type=\"search\" id=\"searchInput\" class=\"form-control pe-5 my-2\" placeholder=\"Project Name\"\r\n        [(ngModel)]=\"searchKey\" (change)=\"getweeklyProjectSearch(searchKey)\">\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <hr class=\"my-0 py-0\" /> -->\r\n\r\n  <div style=\"width:100% ; overflow-x: auto;\">\r\n    <table class=\"table table-responsive fs--1 mb-0\">\r\n      <thead class=\"text-600\">\r\n        <tr>\r\n          <!-- <th class=\"text-nowrap\" style=\"vertical-align:middle;width:40px;\">\r\n            <input type=\"checkbox\" class=\"form-check-input\" />\r\n          </th> -->\r\n          <!-- <th style=\"width:50px !important;\"></th> -->\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;font-weight: 600;font-size: 13px;\">Project/To-Do</th>\r\n          <!-- <th class=\"text-nowrap\" style=\"vertical-align:middle;\">{{date1 | date:'fullDate' | uppercase}}</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">{{date2 | date:'fullDate' | uppercase}}</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">{{date3 | date:'fullDate' | uppercase}}</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">{{date4 | date:'fullDate' | uppercase}}</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">{{date5 | date:'fullDate' | uppercase}}</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">{{date6 | date:'fullDate' | uppercase}}</th>\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;\">{{date7 | date:'fullDate' | uppercase}}</th> -->\r\n          <th class=\"text-nowrap\" style=\"vertical-align:middle;font-weight: 600;font-size: 13px;\"\r\n            *ngFor=\"let day of weekDates\">{{ day | date:'fullDate'}}</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        <!-- <tr *ngFor=\"let item of datakeys; let i=index;\" style=\"color: #676398\">\r\n\r\n          <td >\r\n            <div class=\"party-info p-0\" style=\"vertical-align:middle;text-align:end;\">\r\n              <img src=\"assets/img/dashboard-party-profiles/party-profile-1.png\" alt=\"Profile\" class=\"rounded-circle\">\r\n            </div>\r\n          </td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;\">{{item}}</td>\r\n\r\n          <div *ngFor=\"let weekitem of weeklydatalist[item]\">\r\n            <td *ngIf=\"(date1 |  date:'MMMM dd, yyyy') !== (weekitem.date |  date:'MMMM dd, yyyy')\" class=\"text-nowrap\" style=\"vertical-align:middle;text-align: center;\">\r\n              <div>\r\n\r\n\r\n                <span>\r\n                  <a routerLink=\"/pages/time-sheet\" class=\"btn btn-light\">{{weekitem.period}}</a>\r\n                </span>\r\n              </div>\r\n\r\n              <div *ngIf=\"(date1 |  date:'MMMM dd, yyyy') !== (weekitem.date |  date:'MMMM dd, yyyy')\">\r\n                <a class=\"fas fa-plus p-1 addSign\" style=\"text-decoration: none;\"  (click)=\"onAddTime()\"> </a>\r\n              </div>\r\n            </td>\r\n            <td *ngIf=\"(date2 |  date:'MMMM dd, yyyy') !== (weekitem.date |  date:'MMMM dd, yyyy')\" class=\"text-nowrap\" style=\"vertical-align:middle;text-align: center;\">\r\n              <div>\r\n\r\n\r\n                <span>\r\n                  <a routerLink=\"/pages/time-sheet\" class=\"btn btn-light\">{{weekitem.period}}</a>\r\n                </span>\r\n              </div>\r\n\r\n              <div *ngIf=\"(date2 |  date:'MMMM dd, yyyy') !== (weekitem.date |  date:'MMMM dd, yyyy')\">\r\n                <a class=\"fas fa-plus p-1 addSign\" style=\"text-decoration: none;\"  (click)=\"onAddTime()\"> </a>\r\n              </div>\r\n            </td>\r\n          </div>\r\n        </tr> -->\r\n        <tr *ngFor=\"let project of weeklydatalist | keyvalue\">\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;text-align: center;font-weight: 500;font-size: 13px;\">{{\r\n            project.key }}</td>\r\n          <td class=\"text-nowrap\" style=\"vertical-align:middle;text-align: center;\" *ngFor=\"let day of weekDates\">\r\n            <ng-container\r\n              *ngIf=\"getFormattedPeriod(getEntryForDate(project.value, day).period) === '0:00:00'; else notZero\">\r\n              <a class=\"fas fa-plus p-1 addSign\" style=\"text-decoration: none;\" (click)=\"onAddTime()\"> </a>\r\n              <!-- <a class=\"fas fa-plus p-1 addSignlastdate\" style=\"text-decoration: none;\" *ngIf=\"getFormattedPeriod(getEntryForDate(project.value, day).period) === '0:00:00' && (getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') < (date | date:'dd MMM yyyy')\"></a> -->\r\n            </ng-container>\r\n            <ng-template #notZero>\r\n              <a routerLink=\"/pages/time-sheet\" class=\"btn btn-light\"\r\n                *ngIf=\"(getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') === (date | date:'dd MMM yyyy')\">{{\r\n                getFormattedPeriod(getEntryForDate(project.value, day).period) }}</a>\r\n              <a class=\"btn btn-light\"\r\n                *ngIf=\"(getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') > (date | date:'dd MMM yyyy')\">{{\r\n                getFormattedPeriod(getEntryForDate(project.value, day).period) }}</a>\r\n              <a class=\"btn btn-light\"\r\n                *ngIf=\"(getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') < (date | date:'dd MMM yyyy')\">{{\r\n                getFormattedPeriod(getEntryForDate(project.value, day).period) }}</a>\r\n            </ng-template>\r\n\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- <div *ngFor=\"let project of weeklydatalist | keyvalue\">\r\n      <h2>{{ project.key }}</h2>\r\n      <ul>\r\n        <li *ngFor=\"let entry of project.value\">\r\n          <p>{{ entry.dayName }} - {{ entry.date | date:'medium' }} - {{ entry.period }}</p>\r\n        </li>\r\n      </ul>\r\n    </div> -->\r\n  </div>\r\n\r\n</div>\r\n\r\n<!-- Delete Confirmation Modal -->\r\n<div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n    <div class=\"modal-content position-relative\">\r\n      <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n        <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n          aria-label=\"Close\"></a>\r\n      </div>\r\n      <div class=\"modal-body p-0\">\r\n        <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n          <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800; \" id=\"modalExampleDemoLabel\">\r\n            Delete Daily ? </h2>\r\n        </div>\r\n        <h4 class=\"text-center \">Are You Sure To Delete ?</h4>\r\n\r\n      </div>\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n        <a class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\">Delete\r\n        </a>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!--IMP <ng-container\r\n              *ngIf=\"getFormattedPeriod(getEntryForDate(project.value, day).period) === '0:00:00'; else notZero\">\r\n              <a class=\"fas fa-plus p-1 addSign\" style=\"text-decoration: none;\" (click)=\"onAddTime()\" *ngIf=\"getFormattedPeriod(getEntryForDate(project.value, day).period) === '0:00:00' && (getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') >= (date | date:'dd MMM yyyy')\"> </a>\r\n              <a class=\"fas fa-plus p-1 addSignlastdate\" style=\"text-decoration: none;\" *ngIf=\"getFormattedPeriod(getEntryForDate(project.value, day).period) === '0:00:00' && (getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') < (date | date:'dd MMM yyyy')\"></a>\r\n            </ng-container>\r\n            <ng-template #notZero>\r\n              <a routerLink=\"/pages/time-sheet\" class=\"btn btn-light\" *ngIf=\"(getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') === (date | date:'dd MMM yyyy')\">{{\r\n                getFormattedPeriod(getEntryForDate(project.value, day).period) }}</a>\r\n                <a class=\"btn btn-light\" *ngIf=\"(getFormattedPeriod(getEntryForDate(project.value, day).date) | date:'dd MMM yyyy') > (date | date:'dd MMM yyyy')\">{{\r\n                  getFormattedPeriod(getEntryForDate(project.value, day).period) }}</a>\r\n            </ng-template> -->\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { AddTimeComponent } from '../add-time/add-time.component';\r\nimport { TimesheetService } from 'src/app/core/services/timesheet.service';\r\nimport { TitleCasePipe } from '@angular/common';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\n@Component({\r\n  selector: 'app-weekly',\r\n  templateUrl: './weekly.component.html',\r\n  styleUrls: ['./weekly.component.scss']\r\n})\r\nexport class WeeklyComponent implements OnInit {\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  public weeklydatalist: any;\r\n\r\n  public datakeys:any;\r\n\r\n  public date: any;\r\n\r\n  public date2: any;\r\n\r\n  public date3: any;\r\n\r\n  public date4: any;\r\n\r\n  public date5: any;\r\n\r\n  public date6: any;\r\n\r\n  public date7: any;\r\n  v\r\n  // Array of week sheet\r\n  // weeklyTimeSheet = [\r\n  //   {\r\n  //     id: 1,\r\n  //     project: 'name1',\r\n  //   },\r\n  //   {\r\n  //     id: 2,\r\n  //     project: 'name2',\r\n  //   },\r\n  //   {\r\n  //     id: 3,\r\n  //     project: 'name3',\r\n  //   },\r\n  //   {\r\n  //     id: 4,\r\n  //     project: 'name4',\r\n  //   },\r\n  // ]\r\n  uniqueDatesArray: Date[];\r\n  responseData: any;  // Replace with the actual data you receive\r\n  weekDates: string[];  // Array to hold week dates\r\n  public searchKey: any;\r\n\r\n  constructor(private dialog: MatDialog,\r\n    private timesheetService: TimesheetService,private titleCasePipe: TitleCasePipe,\r\n    private toastService: ToastNotificationService,) {\r\n      const today = new Date();\r\n      this.weekDates = Array.from({ length: 7 }, (_, index) => {\r\n        const date = new Date(today);\r\n        date.setDate(today.getDate() - today.getDay() + index);\r\n        return date.toISOString().split('T')[0];\r\n      });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    \r\n\r\n\r\n    this.date = new Date(new Date().setDate(new Date().getDate()));\r\n    console.log(\"this.date1\",this.date)\r\n    this.date2 = new Date(new Date().setDate(new Date().getDate() + 1));\r\n    this.date3 = new Date(new Date().setDate(new Date().getDate() + 2));\r\n    this.date4 = new Date(new Date().setDate(new Date().getDate() + 3));\r\n    this.date5 = new Date(new Date().setDate(new Date().getDate() + 4));\r\n    this.date6 = new Date(new Date().setDate(new Date().getDate() + 5));\r\n    this.date7 = new Date(new Date().setDate(new Date().getDate() + 6));\r\n    this.getweeklyTimeSheet();\r\n\r\n    this.timesheetService.timeAdded$.subscribe(() => {\r\n      // Fetch the updated list of users\r\n      this.getweeklyTimeSheet();\r\n    });\r\n  }\r\n  getweeklyProjectSearch(searchKey) {\r\n    if (this.searchKey == \"\") {\r\n      this.toastService.openErrorSnackBar(\"Please Enter Valid Project Name!!!\");\r\n      this.timesheetService.getDailyweeksearch({}, this.currentUser.id,searchKey).then((res) => {\r\n      if(res.success == true){\r\n        this.weeklydatalist = res.data;\r\n      }\r\n        \r\n      })\r\n\r\n\r\n    }\r\n    else {\r\n      this.timesheetService.getDailyweeksearch({}, this.currentUser.id,searchKey).then((res) => {\r\n        if(res.success == true){\r\n         \r\n          this.weeklydatalist = res.data;\r\n        }\r\n        \r\n      }, (err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n        }\r\n        else {\r\n          this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  compareDates(date1: Date, date2: Date): boolean {\r\n    console.log(\"timecompare\")\r\n    return date1.getTime() === date2.getTime();\r\n  }\r\n\r\n  getEntryForDate(entries: any[], date: string): any {\r\n    const entry = entries.find(item => item.date.includes(date));\r\n    return entry || { dayName: this.getDayName(date), date: date, period: '0:00:00' };\r\n  }\r\n\r\n  \r\n  getDayName(date: string): string {\r\n    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n    const dayIndex = new Date(date).getDay();\r\n    return days[dayIndex];\r\n  }\r\n\r\n\r\n  getFormattedPeriod(period: string): string {\r\n    return period ? period : '0:00:00';\r\n  }\r\n\r\n  getweeklyTimeSheet() {\r\n    this.timesheetService.getWeeklyTime({}, this.currentUser.id).then((res) => {\r\n      console.log(\"Weekly time\", res);\r\n      this.datakeys = Object.keys(res.data);\r\n      this.weeklydatalist = res.data;\r\n      console.log(\"Weekly time\", this.weeklydatalist);\r\n\r\n\r\n      // const uniqueDateSet = new Set<Date>();\r\n\r\n      // for (let i = 0; i < this.weeklydatalist.length; i++) {\r\n      //   uniqueDateSet.add(this.weeklydatalist[i].date);\r\n      // }\r\n\r\n      // this.uniqueDatesArray = Array.from(uniqueDateSet);\r\n      // console.log(\"this.uniqueDatesArray\",this.uniqueDatesArray[0])\r\n\r\n\r\n      // // this.day1 = this.weeklydatalist[0].dayName;\r\n      // this.date1 = this.uniqueDatesArray[0]\r\n      // // this.day2 = this.weeklydatalist[1].dayName;\r\n      //  this.date2 = this.uniqueDatesArray[1];\r\n      // // this.day3 = this.weeklydatalist[2].dayName;\r\n      //  this.date3 = this.uniqueDatesArray[2];\r\n      // // this.day4 = this.weeklydatalist[3].dayName;\r\n      //  this.date4 = this.uniqueDatesArray[3];\r\n      // // this.day5 = this.weeklydatalist[4].dayName;\r\n      //  this.date5 = this.uniqueDatesArray[4];\r\n      // // this.day6 = this.weeklydatalist[5].dayName;\r\n      //  this.date6 = this.uniqueDatesArray[5];\r\n      // // this.day7 = this.weeklydatalist[6].dayName;\r\n      //  this.date7 = this.uniqueDatesArray[6];\r\n    })\r\n  }\r\n\r\n\r\n\r\n  // To open dialig box of Add TIme form.\r\n  onAddTime(): void {\r\n    const dialogRef: MatDialogRef<AddTimeComponent> = this.dialog.open(AddTimeComponent, {\r\n      width: '40%',\r\n      height: '730px',\r\n      data: {},\r\n      panelClass: 'custom-dialog-add-time',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n}\r\n"]}