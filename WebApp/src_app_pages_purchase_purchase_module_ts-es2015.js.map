{"version":3,"file":"src_app_pages_purchase_purchase_module_ts-es2015.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAC+C;AACmB;AACA;AACnB;AACiC;AACiB;AACjG,kDAAkD;AACc;AACP;AACE;AACJ;AACM;AACK;AACC;AACI;AACL;AACJ;AACP;;;AA2BhD,MAAM,cAAc;;4EAAd,cAAc;2GAAd,cAAc;+GAnBhB;YACP,yDAAY;YACZ,2EAAqB;YACrB,yDAAY;YACZ,yDAAY;YACZ,0EAAqB;YACrB,mEAAc;YACd,qEAAe;YACf,kEAAa;YACb,wEAAmB;YACnB,6EAAkB;YAClB,8EAAmB;YACnB,kFAAmB;YACnB,wDAAW;YACX,gEAAmB;YACnB,kEAAS;YACT,iFAA0B,EAAE;SAC7B;mIAEU,cAAc,mBAxBvB,yFAAqB;QACrB,0GAA0B;QAC1B,2EAAiB,aAIjB,yDAAY;QACZ,2EAAqB;QACrB,yDAAY;QACZ,yDAAY;QACZ,0EAAqB;QACrB,mEAAc;QACd,qEAAe;QACf,kEAAa;QACb,wEAAmB;QACnB,6EAAkB;QAClB,8EAAmB;QACnB,kFAAmB;QACnB,wDAAW;QACX,gEAAmB;QACnB,kEAAS;;;;;;;;;;;;;;;;;;;;;;IEtBH,0EAAkG;IAChG,wEAAkG;IAAA,6EAAkB;IAAA,4DAAI;IAC1H,4DAAM;;ADdT,MAAM,iBAAiB;IAI5B;QAFO,gBAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IAEpD,CAAC;IAEjB,QAAQ;IACR,CAAC;;kFAPU,iBAAiB;+GAAjB,iBAAiB;QCP9B,yEAA2D;QACvD,yEAA+B;QAC7B,yEAAyE;QACvE,yEAAoE;QAClE,yEAA8C;QAC5C,uEAAqG;QAAA,gFAAqB;QAAA,4DAAI;QAChI,4DAAM;QACN,yEAA8C;QAC5C,uEAAiG;QAAA,2EAAgB;QAAA,4DAAI;QACvH,4DAAM;QACN,0EAAmD;QACjD,wEAAoG;QAAA,2EAAe;QAAA,4DAAI;QACzH,4DAAM;QACN,0EAA+C;QAC7C,yEAAmG;QAAA,+EAAmB;QAAA,4DAAI;QAC5H,4DAAM;QACN,2EAAmD;QACjD,yEAAoG;QAAA,gFAAoB;QAAA,4DAAI;QAC9H,4DAAM;QACN,gHAEM;QACR,4DAAM;QACR,4DAAM;QAEV,4DAAM;QACN,qEAAiB;QACjB,uEAAK;QACH,4EAA+B;QACjC,4DAAM;QACR,4DAAM;;QAX6D,2DAAuC;QAAvC,uGAAuC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBnD;AACW;AACgC;AACc;AACpB;AACiB;AACd;AACX;AACc;AACvB;AACc;AACT;;;AAGhF,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAG,2EAAiB;QAC7B,QAAQ,EAAG;YACT;gBACE,IAAI,EAAE,EAAE;gBACR,UAAU,EAAE,uBAAuB;gBACnC,SAAS,EAAE,MAAM;aAClB;YACD;gBACE,IAAI,EAAE,kBAAkB;gBACxB,SAAS,EAAE,0GAAwB;aACpC;YACD;gBACE,IAAI,EAAE,uBAAuB;gBAC7B,SAAS,EAAE,wHAA4B;aACxC;YACD;gBACE,IAAI,EAAE,sBAAsB;gBAC5B,SAAS,EAAE,uGAAuB;aACnC;YACD;gBACE,IAAI,EAAE,cAAc;gBACpB,SAAS,EAAE,mFAAmB;aAC/B;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,SAAS,EAAE,iGAAuB;aACnC;YACD;gBACE,IAAI,EAAE,gBAAgB;gBACtB,SAAS,EAAE,4FAAsB;aAClC;YACD;gBACE,IAAI,EAAE,qBAAqB;gBAC3B,SAAS,EAAE,0GAA0B;aACtC;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,SAAS,EAAE,oGAAsB;aAClC;YACD;gBACE,IAAI,EAAE,sBAAsB;gBAC5B,SAAS,EAAE,qHAA2B;aACvC;YACD;gBACE,IAAI,EAAE,oBAAoB;gBAC1B,SAAS,EAAE,0FAAqB;aACjC;SACF;QACD,SAAS,EAAE,QAAQ;QACnB,IAAI,EAAE;YACJ,uBAAuB,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE;SAC5D;KACF;CACF;AAOM,MAAM,qBAAqB;;0FAArB,qBAAqB;mHAArB,qBAAqB;uHAHvB,CAAC,mEAAqB,CAAC,MAAM,CAAC,CAAC;oIAG7B,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9E+C;AAGjC;AAUyB;AACP;;;;;;;;;;;;;;;;;;;;;;;;ICyDxD,gFAAsG;IACpG,kFACF;IAAA,4DAAY;;;IAMF,iFAA2E;IACvE,uDACJ;IAAA,4DAAa;;;IAFuC,mFAAsB;IACtE,0DACJ;IADI,mGACJ;;;IAIJ,4EAAgD;IAC5C,mFACJ;IAAA,4DAAY;;;IAHhB,gFAA0E;IACtE,gJAEY;IAChB,4DAAY;;;IAHI,0DAAkC;IAAlC,+IAAkC;;;IAgBpD,gFACuF;IACrF,yFACF;IAAA,4DAAY;;;IAuBZ,gFAA0G;IACxG,oFACF;IAAA,4DAAY;;;IAuBR,yEAAgG;IAC9F,oFAAwB;IAAA,2EAA0B;IAAC,6DAAC;IAAA,4DAAO;IAC7D,4DAAK;;;;IAmBK,iFACuE;IAAvE,mdAAsE;IACtE,2EAA+B;IAC/B,uDAAgC;;IAAA,oEAAG;IAAA,uDAAmB;IAAA,4DAAI;IAC1D,4DAAO;IACX,4DAAa;;;IALiD,sFAAyB;IAGnF,0DAAgC;IAAhC,gKAAgC;IAAG,0DAAmB;IAAnB,mFAAmB;;;;IA6BlE,qEAAiD;IAC/C,yEAAoC;IAAA,uDAAW;IAAA,4DAAK;IAEpD,qEAAI;IACF,uDACF;IAAA,4DAAK;IACL,qEAAI;IAAA,uDAA8B;;IAAA,4DAAK;IACvC,yEAAwB;IACtB,uEAAiG;IACnG,4DAAK;IAEL,0EAA8C;IAC5C,yEACkC;IAAhC,mXAAwB,GAAG,YAAI;IAAC,6DAAC;IAAA,4DAAI;IACvC,6EAEa;IADX,+XAAyB,KAAK,iCAAwB;IADxD,4DAEa;IACb,yEACkC;IAAhC,mXAAwB,GAAG,YAAI;IAAC,6DAAC;IAAA,4DAAI;IACzC,4DAAK;IACL,0EAAgB;IAEd,yEAAY;IACV,+DACF;IAAA,4DAAI;IACN,4DAAK;IAEL,0EAAgB;IAEd,yEAAY;IACV,gEACF;IAAA,4DAAI;IACN,4DAAK;IAEL,0EAA+D;IAC7D,yEAAgB;IAAA,qEAAS;IAAA,4DAAI;IAC7B,yEAAgB;IAAA,6DAAC;IAAA,4DAAI;IAEvB,4DAAK;IACL,sEAAI;IACF,8EACmC;IAAjC,wXAAwB,IAAI,YAAI;IAChC,uEACwB;IAC1B,4DAAS;IACX,4DAAK;IACP,4DAAK;;;;IA7CiC,0DAAW;IAAX,0EAAW;IAG7C,0DACF;IADE,4FACF;IACI,0DAA8B;IAA9B,mJAA8B;IAEK,0DAAmB;IAAnB,gFAAmB;IAM5B,0DAAuB;IAAvB,oFAAuB;;;IAmH/C,gFAAqF;IACnF,uDACF;IAAA,4DAAY;;;IADV,0DACF;IADE,2GACF;;;IACA,gFAAgG;IAC9F,uDACF;IAAA,4DAAY;;;IADV,0DACF;IADE,4HACF;;;IACA,gFAAkE;IAChE,uDACF;IAAA,4DAAY;;;IADV,0DACF;IADE,mHACF;;;IACA,gFAAkE;IAChE,uDACF;IAAA,4DAAY;;;IADV,0DACF;IADE,mHACF;;;IACA,gFAAgE;IAC9D,uDACF;IAAA,4DAAY;;;IADV,0DACF;IADE,mHACF;;;;;IAtBF,0EAAyD;IACvD,sEAAK;IAAA,4EAAW;IAAA,uDAAgB;IAAA,2EAA6B;IAAA,4DAAC;IAAA,4DAAO;IAAA,4DAAY;IAAA,4DAAM;IACvF,qFAAoF;IAClF,gFAEiG;IAD/F,2WAA+B;IADjC,4DAEiG;IACnG,4DAAiB;IAEjB,gKAEY;IACZ,kKAEY;IACZ,kKAEY;IACZ,kKAEY;IACZ,kKAEY;IACd,4DAAM;;;IAtBY,0DAAgB;IAAhB,mFAAgB;IAEsB,0DAA6B;IAA7B,sGAA6B;IAE/E,0NAAqF;IAGzD,0DAAmD;IAAnD,uKAAmD;IAGnD,0DAA8D;IAA9D,kJAA8D;IAG9D,0DAAgC;IAAhC,4IAAgC;IAGhC,0DAAgC;IAAhC,4IAAgC;IAGhC,0DAA8B;IAA9B,0IAA8B;;;IAtBlE,0EAAuE;IAErE,gJAuBM;IAER,4DAAM;;;IAzB6B,0DAAsB;IAAtB,0FAAsB;;;IAoCnD,4EAA6F;IAC3F,qFACF;IAAA,4DAAY;;;IAHd,gFAAgF;IAC9E,gKAEY;IACd,4DAAY;;;IAHE,0DAA+E;IAA/E,iNAA+E;;;IAe7F,gFAC6E;IAC3E,yFACF;IAAA,4DAAY;;;IACZ,gFAC8E;IAC5E,uFACF;IAAA,4DAAY;;;IACZ,4EAAwF;IACtF,8FACF;IAAA,4DAAY;;;IACZ,4EAAwF;IACtF,8FACF;IAAA,4DAAY;;;IASZ,gFAC2E;IACzE,oFACF;IAAA,4DAAY;;;IACZ,gFAC4E;IAC1E,kFACF;IAAA,4DAAY;;;IAaV,4EAC8F;IAC5F,yFACF;IAAA,4DAAY;;;IAJd,gFAAqF;IACnF,gKAGY;IACd,4DAAY;;;IAHP,0DAAyF;IAAzF,gOAAyF;;;IAMhG,0EAA0E;IACxE,2EAA0B;IAAA,2EAAgB;IAAA,4DAAQ;IAClD,qFAAgE;IAC9D,0EAAiG;IACnG,4DAAiB;IACnB,4DAAM;;;;IA7HhB,0EAA6C;IAC3C,0EAA+D;IAC7D,wEACqB;IADyD,yUAAwB;IACjF,4DAAI;IAC3B,4DAAM;IACN,0EAA4B;IAC1B,0EAAoD;IAClD,yEAAyF;IAAA,yEAAc;IAAA,4DAAK;IAC9G,4DAAM;IACN,0EAA8B;IAC5B,0EAAsB;IACpB,0EAAmD;IACjD,6EAEwD;IAAtD,+WAAmD;IAFrD,4DAEwD;IACxD,6EAAmC;IAAC,yEAAY;IAAA,4DAAQ;IAC1D,4DAAM;IAEN,yIA2BM;IAEN,2EAA8C;IAC5C,2EAA2E;IACzE,4EAA0B;IAAA,uEAAW;IAAA,4EAA6B;IAAA,6DAAC;IAAA,4DAAO;IAAA,4DAAQ;IAClF,sFAAgE;IAC9D,wEAEsF;IACxF,4DAAiB;IACjB,qJAIY;IAEd,4DAAM;IAEN,2EAA2E;IACzE,4EAA0B;IAAA,yEAAa;IAAA,4EAA6B;IAAA,6DAAC;IAAA,4DAAO;IAAA,4DAAQ;IACpF,sFAAgE;IAC9D,wEAEkF;IACpF,4DAAiB;IAEjB,qJAGY;IACZ,qJAGY;IACZ,qJAEY;IACZ,qJAEY;IACd,4DAAM;IAEN,2EAA2E;IACzE,4EAA0B;IAAA,kEAAM;IAAA,4EAA6B;IAAA,6DAAC;IAAA,4DAAO;IAAA,4DAAQ;IAC7E,sFAAgE;IAC9D,wEACgF;IAClF,4DAAiB;IACjB,qJAGY;IACZ,qJAGY;IACd,4DAAM;IACR,4DAAM;IAEN,2EAA8C;IAC5C,2EAAyC;IACvC,4EAA0B;IAAA,2EAAe;IAAA,4EAA6B;IAAA,6DAAC;IAAA,4DAAO;IAAA,4DAAQ;IACtF,sFAAgE;IAC9D,2EAE6G;IAC/G,4DAAiB;IACjB,qJAKY;IACd,4DAAM;IAEN,yIAKM;IACR,4DAAM;IAEN,2EAA+C;IAC7C,6EAA4D;IAAA,gFAAoB;IAAA,4DAAQ;IACxF,6EAEiE;IAA/D,yXAA4D;IAF9D,4DAEiE;IACnE,4DAAM;IACR,4DAAM;IACR,4DAAO;IACT,4DAAM;IACN,2EAA0B;IACxB,8EAAwD;IAAzB,+UAAwB;IAAC,iEAAK;IAAA,4DAAS;IACtE,8EAA6E;IAAhD,8UAAuB;IAAyB,+DAAG;IAAA,4DAAS;IAC3F,4DAAM;IACR,4DAAM;;;IApII,0DAAuB;IAAvB,wFAAuB;IAGyB,0DAA2B;IAA3B,4FAA2B;IAM9B,0DAAsB;IAAtB,0FAAsB;IAkC7D,0DACmF;IADnF,mOACmF;IAEvD,0DAA8C;IAA9C,wHAA8C;IAY7C,0DACkD;IADlD,6NACkD;IAIhF,0DAAwE;IAAxE,uMAAwE;IAIxE,0DAAyE;IAAzE,wMAAyE;IAGhE,0DAA0E;IAA1E,yMAA0E;IAG1E,0DAA0E;IAA1E,yMAA0E;IAQV,0DACK;IADL,2NACK;IAG9E,0DAAsE;IAAtE,oMAAsE;IAItE,0DAAuE;IAAvE,qMAAuE;IAWtE,0DAC+F;IAD/F,6OAC+F;IAEnE,0DAAmD;IAAnD,6HAAmD;IAQ3C,0DAA8B;IAA9B,kGAA8B;;;ADnZnF,MAAM,0BAA0B;IA2ErC,YACU,WAAwB,EAAS,WAA2B,EAAkC,IAAS,EACxG,SAAmD,EAClD,YAA0B,EAAU,aAA4B,EAChE,MAAc,EACd,YAAsC,EACtC,kBAAsC,EACtC,cAA8B,EAC9B,aAA4B,EAC5B,cAA8B,EAC9B,gBAAkC,EAClC,KAAe,EAAU,gBAAkC;QAV3D,gBAAW,GAAX,WAAW,CAAa;QAAS,gBAAW,GAAX,WAAW,CAAgB;QAAkC,SAAI,GAAJ,IAAI,CAAK;QACxG,cAAS,GAAT,SAAS,CAA0C;QAClD,iBAAY,GAAZ,YAAY,CAAc;QAAU,kBAAa,GAAb,aAAa,CAAe;QAChE,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAA0B;QACtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,UAAK,GAAL,KAAK,CAAU;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAnFrE,mCAAmC;QAC5B,cAAS,GAAG,CAAC,CAAC;QAEd,oBAAe,GAAY,KAAK,CAAC;QAEjC,YAAO,GAAY,KAAK,CAAC;QAGzB,cAAS,GAAG,IAAI,wDAAW,EAAE,CAAC;QAC9B,eAAU,GAAG,IAAI,wDAAW,EAAE,CAAC;QAQ/B,WAAM,GAAG,CAAC,CAAC;QACX,QAAG,GAAG,CAAC,CAAC;QAKR,cAAS,GAAG,CAAC;QACb,eAAU,GAAe,EAAE,CAAC;QAG5B,kBAAa,GAAY,IAAI,CAAC;QAC9B,mBAAc,GAAY,KAAK,CAAC;QAChC,kBAAa,GAAW,CAAC,CAAC;QAC1B,kBAAa,GAAW,EAAE,CAAC;QAElC,gBAAW,GAAY,KAAK,CAAC;QAEtB,aAAQ,GAAQ,EAAE,CAAC;QACnB,cAAS,GAAQ,EAAE,CAAC;QAGpB,cAAS,GAAQ,EAAE,CAAC;QAMpB,aAAQ,GAAG,CAAC,CAAC;QACb,aAAQ,GAAG,CAAC,CAAC;QACb,UAAK,GAAG,CAAC,CAAC;QACV,mBAAc,GAAW,CAAC,CAAC;QAC3B,gBAAW,GAAQ,EAAE,CAAC;QACtB,cAAS,GAAY,KAAK,CAAC;QAO3B,aAAQ,GAAY,KAAK,CAAC;QAC1B,YAAO,GAAG,CAAC,CAAC;QACZ,kBAAa,GAAY,IAAI,CAAC;QAO9B,SAAI,GAAG,wFAAQ,CAAC;QACvB,4BAA4B;QAErB,gBAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAmJpE,UAAK,GAAG;YACN,MAAM;YACN,UAAU;YACV,UAAU;YACV,aAAa;YACb,aAAa;YACb,uBAAuB;YACvB,SAAS;YACT,aAAa;YACb,aAAa;YACb,UAAU;YACV,iBAAiB;YACjB,uBAAuB;YACvB,gBAAgB;YAChB,aAAa;YACb,WAAW;YACX,UAAU;YACV,iBAAiB;YACjB,WAAW;YACX,WAAW;YACX,iBAAiB;YACjB,eAAe;YACf,eAAe;YACf,eAAe;YACf,gBAAgB;YAChB,iBAAiB;YACjB,iBAAiB;YACjB,aAAa;YACb,WAAW;YACX,YAAY;YACZ,YAAY;SACb;QAjKC,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;IAC/E,CAAC;IACD,QAAQ;QACN,iDAAiD;QACjD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,OAAO,EAAE,CAAC,IAAI,CAAC;YACf,KAAK,EAAE;gBACL,IAAI;gBACJ;oBACE,iEAAoB,CAAC,EAAE,CAAC;oBACxB,iEAAoB,CAAC,EAAE,CAAC;iBACzB;aACF;YACD,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,gEAAmB,CAAC,CAAC;YACtC,MAAM,EAAE;gBACN;gBACA;oBACE,iEAAoB,CAAC,CAAC,CAAC;oBACvB,iEAAoB,CAAC,CAAC,CAAC;oBACvB,+DAAkB,CAAC,UAAU,CAAC;oBAC9B,gEAAmB;iBACpB;aACF;YACD,KAAK,EAAE;gBACL,IAAI;gBACJ;oBACE,+DAAkB,CAAC,mDAAmD,CAAE;oBACpE,6DAAgB;oBACpB,gEAAmB;iBACpB;aACF;YACD,cAAc,EAAE,CAAC,IAAI,EAAE,CAAC,gEAAmB,CAAC,CAAC;YAC7C,eAAe,EAAE,EAAE;YACnB,aAAa,EAAE,CAAC,GAAG,CAAC;YACpB,UAAU,EAAE,CAAC,KAAK,CAAC;SACpB,CAAC,CAAC;QACH,yBAAyB;QACzB,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;QAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC7C,SAAS,EAAE,CAAC,EAAE,CAAC;YACf,SAAS,EAAE,CAAC,IAAI,EAAE,CAAC,gEAAmB,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,gEAAmB,CAAC,CAAC;YACpC,MAAM,EAAE,CAAC,EAAE,CAAC;YACZ,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,gEAAmB,CAAC,CAAC;YACtC,cAAc,EAAE,CAAC,EAAE,CAAC;SACrB,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC;QACH,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC;IACxC,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE;YACtE,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrG,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wBAAwB,CAAC,IAAI;QAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC7B,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,KAAK;gBACjC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;oBAC/B,gBAAgB,EAAE,GAAG,CAAC,cAAc;iBACrC,CAAC;gBACF,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBAC9D,IAAI,CAAC,aAAa,GAAG,IAAI;oBACzB,IAAI,CAAC,UAAU,GAAG,YAAY;iBAC/B;qBACI;oBACH,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oBAC3B,IAAI,CAAC,UAAU,GAAG,YAAY;iBAC/B;YACH,CAAC,CAAC;SAEH;aACI;YACH,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC;iBAC5E,IAAI,CAAC,CAAC,QAAa,EAAE,EAAE;gBACtB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;gBACpC,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;gBACvC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAChC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,KAAK;oBACjC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;wBAC/B,gBAAgB,EAAE,GAAG,CAAC,cAAc;qBACrC,CAAC;oBACF,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE;wBAC9D,IAAI,CAAC,aAAa,GAAG,IAAI;wBACzB,IAAI,CAAC,UAAU,GAAG,YAAY;qBAC/B;yBACI;wBACH,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wBAC3B,IAAI,CAAC,UAAU,GAAG,YAAY;qBAC/B;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;YACJ,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CACrD,0DAAS,CAAC,EAAE,CAAC,EACb,oDAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CACvE,CAAC;SAEH;IAEH,CAAC;IACO,WAAW,CAAC,IAAY;QAC9B,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAC1C,SAAS,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACzE,CAAC;IAED,aAAa;QACX,IAAI,CAAC,YAAY;aACd,oBAAoB,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;aAC3F,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACZ,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;YACtC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY;iBAC/C,IAAI,CACH,0DAAS,CAAC,EAAE,CAAC,EACb,oDAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CACvE,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IAED,IAAI,EAAE;QACJ,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;IACjC,CAAC;IAmCK,gBAAgB;;YACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,KAAK,GAAG,CAAC,CAAC;YAEd,IAAI,cAAc,GAAG,CAAC,CAAC;YACvB,IAAI,QAAQ,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBACnC,IAAI,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC;gBAE/B,cAAc,GAAG,CAAC,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC;gBAEpE,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;gBACxE,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;gBACxD,OAAO,CAAC,SAAS;oBACf,CAAC,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC;gBACjE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;gBAEhD,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,QAAQ,CAAC;gBACzD,sCAAsC;gBACtC,KAAK,GAAG,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;gBAC9B,kDAAkD;gBAClD,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAEjD,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC;gBAC3B,IAAI,IAAI,CAAC,OAAO,EAAE;oBAChB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;iBACzB;qBAAM;oBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;iBACzB;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,IAAI,CAAC,OAAO,KAAK,UAAU,EAAE;gBAC/B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;aACnB;iBAAM,IAAI,IAAI,CAAC,OAAO,KAAK,WAAW,EAAE;gBACvC,IACE,IAAI,CAAC,aAAa,IAAI,cAAc;oBACpC,IAAI,CAAC,aAAa,IAAI,QAAQ,EAC9B;oBACA,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;oBAC1C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;iBACnB;qBAAM,IAAI,IAAI,CAAC,aAAa,IAAI,YAAY,EAAE;oBAC7C,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;oBAC1C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;iBACnB;qBAAM;oBACL,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;oBAC1C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;iBACnB;aACF;iBAAM;gBACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC5B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;aAC1B;YAED,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,IAAI,IAAI,CAAC,OAAO,EAAE;gBAChB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;aACpB;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;aACpB;QACH,CAAC;KAAA;IAED,oBAAoB,CAAC,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;QACrH,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAC/E,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC3C,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC;YACpC,IAAI,EAAC,EAAE;YACP,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;YACjC,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,CAAC;YACP,MAAM,EAAC,EAAE;SACV,CAAC,CAAC,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;YACnB,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;QACzC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;YACT,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE;gBACpB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;iBAC/D,CAAC,CAAC;aACJ;iBACI;gBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,uBAAuB;iBACjC,CAAC;aACH;YAAA,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IAED,cAAc,CAAC,IAAI,EAAE,CAAC,EAAE,QAAQ,GAAG,CAAC;QAClC,QAAQ,IAAI,EAAE;YACZ,KAAK,GAAG;gBACN,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,EAAE;oBACpC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC;iBACjE;gBACD,gCAAgC;gBAChC,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,MAAM;YACR,KAAK,GAAG;gBACN,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAChE,gCAAgC;gBAChC,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,MAAM;YACR,KAAK,IAAI;gBACP,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC9B,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;oBAChC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;oBAClB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;oBAClB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;iBAChB;gBACD,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,MAAM;YACR,KAAK,KAAK;gBACR,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACxC,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,MAAM;YACR;gBACE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACpB,MAAM;SACT;IACH,CAAC;IACD,wBAAwB;IACxB,6IAA6I;IAC7I,4BAA4B;IAC5B,8DAA8D;IAC9D,iEAAiE;IACjE,iEAAiE;IACjE,WAAW;IAEX,2CAA2C;IAC3C,6CAA6C;IAC7C,gEAAgE;IAChE,iBAAiB;IACjB,oDAAoD;IACpD,sCAAsC;IACtC,gDAAgD;IAChD,UAAU;IACV,iCAAiC;IACjC,UAAU;IACV,IAAI;IAGJ,mBAAmB,CAAC,SAAiB;QACnC,IAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;YACzB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;SAC9B;IACH,CAAC;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,KAAK,KAAK,IAAI,CAAC,EAAE;YAC5D,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,EAAE,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;iBAC7S,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBACZ,IAAG,GAAG,CAAC,OAAO,EAAE;oBACd,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;oBACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY;yBACjD,IAAI,CACH,0DAAS,CAAC,EAAE,CAAC,EACb,oDAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,CACxE,CAAC;iBACH;YACL,CAAC,EACC,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE;oBACpB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACzB,KAAK,EAAE,OAAO;wBACd,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;qBAC/D,CAAC,CAAC;iBACJ;qBACI;oBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACzB,KAAK,EAAE,OAAO;wBACd,OAAO,EAAE,uBAAuB;qBACjC,CAAC,CAAC;iBACJ;YAEH,CAAC,CAAC;SACP;aAAM,GAAE;IACX,CAAC;IAGD,yBAAyB,CAAC,OAAO,EAAE,KAAK;QACtC,IAAI,KAAK,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,kBAAkB;iBACpB,iBAAiB,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;iBACrM,IAAI,CAAC,CAAO,QAAQ,EAAE,EAAE,CAAC;gBACxB,QAAQ,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAC3B,qDAAqD;gBACrD,MAAM,oBAAoB,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CACrD,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,KAAK,QAAQ,CAAC,IAAI,CAAC,OAAO,CACrD,CAAC;gBAEJ,IAAI,oBAAoB,KAAK,CAAC,CAAC,EAAE;oBAC/B,kCAAkC;oBAClC,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC;oBACrD,iDAAiD;oBACjD,oHAAoH;oBACpH,sBAAsB;iBACvB;qBAAM;oBACL,yCAAyC;oBACzC,QAAQ,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;oBAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACrC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBACxD,iDAAiD;oBACjD,kEAAkE;oBAClE,sBAAsB;iBACvB;gBAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,EAAE;YACjD,CAAC,GAAE,CAAC,GAAG,EAAE,EAAE;gBACT,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE;oBACpB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACzB,KAAK,EAAE,OAAO;wBACd,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;qBAC/D,CAAC,CAAC;iBACJ;qBACI;oBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACzB,KAAK,EAAE,OAAO;wBACd,OAAO,EAAE,uBAAuB;qBACjC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC,CAAC;SACN;IACH,CAAC;IAED,qBAAqB,CAAC,CAAC;QACrB,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,aAAa,CAAc,CAAC;QACtE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,kBAAkB,CAAC,EAAE;QACnB,OAAO,IAAI,sDAAS,CAAC;YACnB,IAAI,EAAE,IAAI,wDAAW,CAAC,KAAK,CAAC;SAC7B,CAAC,CAAC;IACL,CAAC;IAGD,0BAA0B,CAAC,OAAgB;QACzC,IAAI,CAAC,wBAAwB,GAAG,OAAO,CAAC;IAC1C,CAAC;IACD,kBAAkB,CAAC,KAAK;QACtB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;IACD,OAAO,CAAC,KAAK;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC;IAChC,CAAC;IAED,YAAY,CAAC,KAAK;IAGlB,CAAC;IACD,iBAAiB,CAAC,IAAI;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC;aAC5E,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACjB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAC/B,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB,CAAC,KAAK;QACpB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACnC,CAAC;IAED,UAAU,CAAC,KAAK;QACd,MAAM,QAAQ,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;QAC7D,IAAI,QAAQ,GAAG,EAAE,IAAI,CAAC,QAAQ,GAAG,EAAE,IAAI,QAAQ,GAAG,EAAE,CAAC,EAAE;YACrD,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,WAAW,CAAC,GAAG;QACb,IAAI,GAAG,CAAC,MAAM,KAAK,EAAE,EAAE;YACrB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC5B;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;SAC9D;IACH,CAAC;IAED,WAAW;QACT,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,KAAK,EAAE,CAAC;IAChD,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;mBACnG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC,EAAE;gBAC7F,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,2BAA2B;iBACrC,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;iBAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;mBAC1G,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC,EAAE;gBAC7F,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,2BAA2B;iBACrC,CAAC,CAAC;aACJ;iBACI;gBACH,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;SACF;aACI;YACH,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;mBACnG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;mBACvF,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC,EAAE;gBAC9F,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,2BAA2B;iBACrC,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;iBAEI;gBACH,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;SACF;IACH,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,WAAW,GAAG;YACjB,cAAc,EAAE;gBACd,YAAY,EAAE,IAAI,CAAC,eAAe;gBAClC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;gBAC/F,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;gBACzF,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK;gBACpD,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI;gBACzG,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK;gBAC5C,aAAa,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE;gBAC3D,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK;gBAC9D,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK;gBAChE,gBAAgB,EAAE,IAAI;gBACtB,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK;gBAC5D,SAAS,EAAE,IAAI;gBACf,iBAAiB,EAAE,IAAI;gBACvB,aAAa,EAAE,IAAI;gBACnB,aAAa,EAAE,IAAI;gBACnB,eAAe,EAAE,IAAI;gBACrB,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE;gBAC7B,UAAU,EAAE,IAAI;gBAChB,eAAe,EAAE,IAAI;aACtB;YACD,UAAU,EAAE,IAAI;SACjB;QAED,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACzD,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE;YAC1B,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,SAAS;oBAChB,OAAO,EAAE,6BAA6B;iBACvC,CAAC;gBACF,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;gBACvB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;gBACxB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;aAC7B;QACH,CAAC,EACC,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE;gBACpB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;iBAC/D,CAAC,CAAC;aACJ;iBACI;gBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,uBAAuB;iBACjC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC;IACN,CAAC;IAED,iBAAiB,CAAC,IAAI;QACpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;YACpB,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,QAAQ;YAClB,IAAI,EAAE,IAAI;SACX,CAAC,CAAC;IACL,CAAC;IACD,YAAY;QACV,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;IAC1B,CAAC;IACD,eAAe;QACb,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IACD,iBAAiB,CAAC,CAAC;QACjB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAE7C,MAAM,IAAI,GAAS,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACrC,MAAM,QAAQ,GAAW,IAAI,CAAC,IAAI,CAAC;QAEnC,IAAI,QAAQ,KAAK,iBAAiB,IAAI,QAAQ,KAAK,mEAAmE,EAAE;YACtH,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SAExB;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SAEvB;QACD,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;QAC9B,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACzC,MAAM,CAAC,MAAM,GAAG,GAAG,EAAE;YACnB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC;QAChC,CAAC;IACH,CAAC;IACD,WAAW;QACT,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IACD,SAAS,CAAC,CAAC;QACT,IAAI,CAAC,CAAC,KAAK,IAAI,MAAM,EAAE;YACrB,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;SAChB;aAAM;YACL,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;SACjB;QACD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,YAAY,GAAG,CAAC,CAAC,KAAK,CAAC;IACxD,CAAC;IAED,YAAY;QACV,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE;YACjC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;gBACzB,KAAK,EAAE,OAAO;gBACd,OAAO,EAAE,2BAA2B;aACrC,CAAC,CAAC;YACH,OAAO,KAAK,CAAC;SACd;aAAM;YACL,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC/B,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,+CAA+C;iBACzD,CAAC,CAAC;gBACH,OAAO,KAAK,CAAC;aACd;YACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBAC3B,IAAI,IAAI,GAAG;oBACT,QAAQ,EAAE,CAAC,CAAC,QAAQ;oBACpB,SAAS,EAAE,CAAC,CAAC,EAAE;oBACf,OAAO,EAAE,CAAC,CAAC,OAAO;oBAClB,MAAM,EAAE,CAAC,CAAC,aAAa;iBACxB;gBACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5B,CAAC,CAAC;YAEF,IAAI,IAAI,GAAG;gBACT,KAAK,EAAE;oBACL,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE;oBAChC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK;oBACxD,6DAA6D;oBAC7D,IAAI,EAAE,yBAAyB;oBAC/B,QAAQ,EAAE,2BAA2B;oBACrC,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK;oBACnE,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK;oBACrD,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK;oBACpD,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK;oBACnD,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK;iBAC7D;gBACD,QAAQ,EAAE,IAAI,CAAC,SAAS;aACzB;YAED,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC5D,IAAI,GAAG,CAAC,OAAO,EAAE;oBACf,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACzB,KAAK,EAAE,SAAS;wBAChB,OAAO,EAAE,8BAA8B;qBACxC,CAAC;oBACF,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;oBACrC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;iBACxB;YACH,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gBACT,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE;oBACpB,IAAI,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;oBAC3C,IAAI,YAAY,CAAC,QAAQ,CAAC,wBAAwB,CAAC,EAAE;wBACjD,YAAY,GAAG,oEAAoE,CAAC;qBACvF;yBAAM;wBACH,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;qBAC7D;oBACD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACvB,KAAK,EAAE,OAAO;wBACd,OAAO,EAAE,YAAY;qBACxB,CAAC,CAAC;iBACJ;qBACI;oBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACzB,KAAK,EAAE,OAAO;wBACd,OAAO,EAAE,uBAAuB;qBACjC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC;SACH;IACH,CAAC;IAED,MAAM,CAAC,KAAK,EAAE,KAAK;QACjB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;QACxC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,gBAAgB,CAAC,KAAK,EAAE,KAAK;QAC3B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;IAChC,CAAC;IAED,uBAAuB;QACrB,iEAAiE;QACjE,MAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;QAC/D,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE;YAC9B,4CAA4C;YAC5C,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;SAC7D;IACH,CAAC;IAED,qBAAqB;QACnB,iEAAiE;QACjE,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;QAC3D,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE;YAC5B,4CAA4C;YAC5C,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;SAC3D;IACH,CAAC;;oGA/xBU,0BAA0B,uUA4E2C,sEAAe;wHA5EpF,0BAA0B;;;;;;QCxBvC,yEAAoD;QAChD,wEAA2F;QAAA,wEAAa;QAAA,4DAAK;QAE7G,yEAA+B;QAE7B,4EACqB;QAAnB,kJAAS,YAAQ,IAAC;QAAC,iEAAM;QAAA,4DAAS;QAEpC,4EAAoE;QAAzB,kJAAS,kBAAc,IAAC;QAAC,+DAAI;QAAA,4DAAS;QAEnF,4DAAM;QAER,4DAAM;QAEN,yEAAwB;QACtB,0EAAqC;QACnC,0EAAsB;QAiDpB,0EAA2E;QACzE,4EAA0B;QAAA,oEAAQ;QAAA,4EAA6B;QAAA,6DAAC;QAAA,4DAAO;QAAA,4DAAQ;QAC/E,sFAAgE;QAC9D,6EAEyE;QAFZ,8JAAY,sBAAkB,IAAC;QAA5F,4DAEyE;QAC3E,4DAAiB;QACjB,qIAEY;QAGV,4EAA0B;QAAA,qEAAS;QAAA,4EAA6B;QAAA,6DAAC;QAAA,4DAAO;QAAA,4DAAQ;QAChF,sFAAqE;QACjE,kFAAiH;QAC7G,uIAEa;QACjB,4DAAa;QACjB,4DAAiB;QACjB,qIAIY;QAGhB,4DAAM;QAEN,0EAA2E;QACzE,4EAA0B;QAAA,uEAAW;QAAA,4EACV;QAAA,6DAAC;QAAA,4DAAO;QAAA,4DAAQ;QAC3C,sFAAgE;QAC9D,2EAEwG;QAC1G,4DAAiB;QACjB,qIAGY;QAEd,4DAAM;QAGN,0EAA2E;QACzE,4EAA0B;QAAA,sEAAU;QAAA,4DAAQ;QAC5C,sFAAgE;QAC9D,6EACuD;QAD3B,8JAAY,sBAAkB,IAAC;QAA3D,4DACuD;QACzD,4DAAiB;QAEjB,6EAA2C;QAAA,sEAAU;QAAA,4EAA6B;QAAA,6DAAC;QAAA,4DAAO;QAAA,4DAAQ;QAClG,sFAAgE;QAC9D,6EAI6E;QAH3E,mMAAwB,0FAAwE,6BAAyB,IAAjG;QAD1B,4DAI6E;QAC7E,wEAAM;QACJ,gFAA+B;QAAA,sEAAU;QAAA,4DAAW;QACtD,4DAAO;QACT,4DAAiB;QACjB,qIAEY;QACd,4DAAM;QACR,4DAAM;QAEN,2EAAkD;QAChD,6EAAoC;QAClC,6EAAyC;QACvC,0EAAuC;QACrC,0EAAgD;QAAA,6DAAC;QAAA,4DAAK;QACtD,0EAA2D;QACzD,gEAAG;QAAA,4EAA0B;QAAC,8DAAC;QAAA,4DAAO;QACxC,4DAAK;QACL,0EAAwD;QAAA,2EAAe;QAAA,4DAAK;QAC5E,0EAAoC;QAAA,gEAAI;QAAA,4DAAK;QAE7C,0EAAoC;QAAA,oEAAQ;QAAA,4DAAK;QAEjD,0EAAgF;QAC9E,wDAA2B;QAAA,4EAA0B;QAAC,8DAAC;QAAA,4DAAO;QAChE,4DAAK;QACL,0EAA4F;QAC1F,wDAAc;QAAA,4EAA0B;QAAC,8DAAC;QAAA,4DAAO;QACnD,4DAAK;QACL,uHAEK;QACL,0EAAqE;QACnE,2EAAc;QAAA,4EAAsC;QAAC,8DAAC;QAAA,4DAAO;QAC/D,4DAAK;QACL,0EAA6E;QAC3E,mEAAM;QAAA,4EAA0B;QAAC,8DAAC;QAAA,4DAAO;QAC3C,4DAAK;QACP,4DAAK;QACP,4DAAQ;QAER,yEAAO;QACL,sEAAI;QACF,iEAAS;QACT,sEAAI;QACA,sFAAgE;QAC9D,6EACwE;QADxB,wJAAS,4CAAwC,IAAC;QAAlG,4DACwE;QACxE,gFAAgC;QAAA,kEAAM;QAAA,4DAAW;QACjD,8FAAiD;QAC7C,uIAKS;;QACb,4DAAmB;QACvB,4DAAiB;QAEnB,4DAAK;QACL,sEAAI;QACF,wEAAqE;QACvE,4DAAK;QACL,sEAAI;QACF,wEAA0D;QAC5D,4DAAK;QACL,sEAAI;QACF,yEAAmF;QACrF,4DAAK;QACL,uEAAI;QACF,yEAAuD;QACzD,4DAAK;QAEL,uEAAI;QACF,yEAAwD;QAC1D,4DAAK;QAEL,uEAAI;QACF,yEAAqF;QACvF,4DAAK;QACL,kEAAS;QACX,4DAAK;QACL,0HA8CK;QACP,4DAAQ;QACV,4DAAQ;QACV,4DAAM;QAmDN,yNA+Ic;QAEhB,4DAAO;QACT,4DAAM;;;QArbE,0DAA8B;QAA9B,2FAA8B;QAsDmB,0DACyB;QADzB,4MACyB;QAE1C,0DAAoE;QAApE,mLAAoE;QAQxD,0DAAgB;QAAhB,sFAAgB;QAK1B,0DAAwC;QAAxC,0GAAwC;QAcxE,0DAC4F;QAD5F,0NAC4F;QAG3F,0DAAkF;QAAlF,wMAAkF;QAgBjB,2DAAqB;QAArB,8EAAqB;QASzD,0DAAwE;QAAxE,yLAAwE;QAoBlG,2DAA2B;QAA3B,oGAA2B;QAG3B,0DAAc;QAAd,uFAAc;QAEiE,0DAAa;QAAb,6EAAa;QAkB3E,2DAA0B;QAA1B,uFAA0B;QAGJ,0DAAyB;QAAzB,0JAAyB;QAgC/C,2DAAe;QAAf,oFAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1MH;AAC4B;AAIyB;;;;;;;;;;ICTlG,0EAAgD;IAC9C,0EAAoB;IAChB,0EAA0C;IACtC,2EAA8B;IAAA,qEAAU;IAAA,4DAAO;IACnD,4DAAM;IACV,4DAAM;IACR,4DAAM;;;;;IAgCgB,yEAE4E;IAQxE,yEAAqD;IACjD,uDACJ;;;IAAA,4DAAK;IACL,yEAAsD;IAClD,uDACJ;IAAA,4DAAK;IACL,yEAAsD;IAClD,uDACJ;IAAA,4DAAK;IAIL,yEAKG;IACC,wDACJ;IAAA,4DAAK;IASL,0EAA2E;IACvE,uEAAK;IACD,8EAAoB;IAChB,uEAC4C;IAChD,4DAAS;IAcb,4DAAM;IACV,4DAAK;IAGT,4DAAK;;;;;IA5DD,qNAAoG;IAUhG,0DACJ;IADI,kRACJ;IAEI,0DACJ;IADI,oIACJ;IAEI,0DACJ;IADI,8IACJ;IAKA,0DAIE;IAJF,wWAIE;IACE,0DACJ;IADI,mIACJ;;;IA9BR,wEAA+D;IAC3D,kIA6DK;IACT,qEAAe;;;;IA5DN,0DAAqE;IAArE,mJAAqE;;;IA8DlF,wEAAyC;IACrC,yEAAwB;IACpB,yEAAiB;IACb,qEAE+B;IACnC,4DAAK;IACT,4DAAK;IACT,4DAAQ;;;IAwBA,yEAA0C;IACtC,yGACJ;IAAA,4DAAK;;;IACL,yEAA2C;IACvC,kHACJ;IAAA,4DAAK;;;;IAIL,wEAC8C;IAA1C,0UAAyC;IAAC,oEAAS;IAAA,4DAAI;;;;IAC3D,wEAC8C;IAA1C,0UAAyC;IAAC,oEAAS;IAAA,4DAAI;;;IAsB3D,yEAA0C;IACtC,uGACJ;IAAA,4DAAK;;;IACL,yEAA2C;IACvC,gHACJ;IAAA,4DAAK;;;;IAIL,wEAC4C;IAAxC,wUAAuC;IAAC,kEAAO;IAAA,4DAAI;;;;IACvD,wEAC4C;IAAxC,wUAAuC;IAAC,kEAAO;IAAA,4DAAI;;;IAgBnD,yEACwD;IACpD,mFACJ;IAAA,4DAAK;;;IACL,yEACwD;IACpD,qFACJ;IAAA,4DAAK;;;IAET,yEAAgD;IAC5C,mGACJ;IAAA,4DAAK;;;IACL,yEAA+C;IAC3C,qGACJ;IAAA,4DAAK;;;;IAIL,wEAC4B;IAD8B,sUAAqC;IACnE,mEAC5B;IAAA,4DAAI;;;;IACJ,wEAC4B;IAD8B,sUAAqC;IACnE,qEAC5B;IAAA,4DAAI;;ADjN1B,gFAAgF;AAChF,mFAAmF;AAO5E,MAAM,qBAAqB;IAyChC,YAAmB,MAAc,EAAS,MAAiB,EAAU,aAA4B,EACxF,KAAqB,EAAU,gBAAkC,EACjE,YAAsC,EACrC,aAA4B;QAHnB,WAAM,GAAN,MAAM,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAW;QAAU,kBAAa,GAAb,aAAa,CAAe;QACxF,UAAK,GAAL,KAAK,CAAgB;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QACjE,iBAAY,GAAZ,YAAY,CAA0B;QACrC,kBAAa,GAAb,aAAa,CAAe;QA3C9B,kBAAa,GAAG,IAAI,yCAAO,EAAU,CAAC;QAEvC,gBAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACpE,iBAAY,GAAU,EAAE,CAAC;QAKlB,kBAAa,GAAW,CAAC,CAAC;QAC1B,kBAAa,GAAW,CAAC,CAAC;QAC1B,aAAQ,GAAW,CAAC,CAAC;QACrB,UAAK,GAAW,CAAC,CAAC;QACzB,mBAAc,GAAU,EAAE,CAAC;QAC3B,mBAAc,GAAU,EAAE,CAAC;QAEpB,qBAAgB,GAAY,KAAK,CAAC;QAClC,qBAAgB,GAAQ,EAAE,CAAC;QAC3B,cAAS,GAAY,KAAK,CAAC;QAC3B,iBAAY,GAAG,EAAE,CAAC;QAClB,kBAAa,GAAG,EAAE,CAAC;QACnB,cAAS,GAAY,KAAK,CAAC;QAC3B,gBAAW,GAAY,KAAK,CAAC;QAE7B,sBAAiB,GAAY,KAAK,CAAC;QAEnC,2BAAsB,GAAY,KAAK,CAAC;QACxC,0BAAqB,GAAY,KAAK,CAAC;QAS9C,uBAAkB,GAAkB,IAAI,CAAC;IAQC,CAAC;IAE3C,QAAQ;QACN,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE;YAC1C,kCAAkC;YAClC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa;aACzC,IAAI,CAAC,4DAAY,CAAC,GAAG,CAAC,EACrB,oEAAoB,EAAE,EACtB,mDAAG,CAAC,GAAG,EAAE;YACP,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,iDAAiD;QAC1E,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;YACxB,mCAAmC;YACnC,IAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;gBACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC3B,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;aAC3C;iBAAM,IAAI,SAAS,KAAK,EAAE,EAAE;gBAC1B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,+DAA+D;gBACxF,IAAI,CAAC,mBAAmB,EAAE;aAC3B;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,+DAA+D;aACxF;QACH,CAAC,CAAC,CAAC;IACT,CAAC;IAED,mBAAmB,CAAC,SAAU;QAC5B,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,EAAC,IAAI,EAAC,EAAE,EAAC,MAAM,EAAE,EAAE,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YAC3H,IAAG,GAAG,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC;gBAC7B,6CAA6C;gBAC7C,sCAAsC;gBACtC,wCAAwC;aACzC;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE;gBACpB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC;iBAC/D,CAAC,CAAC;aACJ;iBACI;gBACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBACzB,KAAK,EAAE,OAAO;oBACd,OAAO,EAAE,uBAAuB;iBACjC,CAAC,CAAC;aACJ;QAEH,CAAC,CAAC;IACJ,CAAC;IAED,oBAAoB,CAAC,WAAmB,EAAE,SAAkB;QAC1D,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAChC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IAED,yBAAyB;QACvB,6BAA6B;QAC7B,8JAA8J;QAC9J,yBAAyB;QACzB,qCAAqC;QACrC,4BAA4B;QAC5B,0DAA0D;QAC1D,YAAY;QAEZ,gCAAgC;QAChC,QAAQ;QACR,OAAO;QACP,IAAI;QACJ,SAAS;QACT,yJAAyJ;QACzJ,yBAAyB;QACzB,qCAAqC;QACrC,4BAA4B;QAC5B,2DAA2D;QAC3D,YAAY;QACZ,oCAAoC;QACpC,QAAQ;QACR,OAAO;QACP,IAAI;IACN,CAAC;IAED,mBAAmB,CAAC,CAAC,EAAE,OAAO;QAC5B,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;YACpB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAClC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAC5C;aAAM;YACL,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACnD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBAChB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBACrC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aACxC;SACF;QAED,8CAA8C;QAC9C,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAE7B,6EAA6E;QAC7E,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YACpC,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,CAAC;YAClE,IAAI,KAAK,EAAE;gBACT,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACrC;qBAAM;oBACL,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACvC;aACF;QACH,CAAC,CAAC;QAEF,iDAAiD;QACjD,MAAM,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;YACtD,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,CAAC;YAClE,OAAO,KAAK,IAAI,KAAK,CAAC,SAAS,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,mDAAmD;QACnD,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;YACxD,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,CAAC;YAClE,OAAO,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,sCAAsC;QACtC,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1E,0CAA0C;YAC1C,KAAK,CAAC,4DAA4D,CAAC,CAAC;YACpE,uDAAuD;YACvD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAE/B,6CAA6C;YAC7C,MAAM,UAAU,GAAG,QAAQ,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;YACvE,UAAU,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAC9B,MAAM,YAAY,GAAG,QAA4B,CAAC;gBAClD,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,CAAC,CAAC,CAAC;SAEJ;aAAM,IAAI,WAAW,EAAE;YACtB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,wBAAwB;YACxB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;SAC/B;aAAM,IAAI,aAAa,EAAE;YACxB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC1B,sBAAsB;YACtB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC;aAAM;YACL,qGAAqG;YACrG,KAAK,CAAC,4DAA4D,CAAC,CAAC;YACpE,uDAAuD;YACvD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YAEjC,6CAA6C;YAC7C,MAAM,UAAU,GAAG,QAAQ,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;YACvE,UAAU,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAC9B,MAAM,YAAY,GAAG,QAA4B,CAAC;gBAClD,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,CAAC,CAAC,CAAC;SACJ;IAEH,CAAC;IAED,kBAAkB,CAAC,WAAW;QAC5B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACjC,CAAC;IAED,cAAc,CAAC,MAAM;QACnB,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QACxC,IAAI,SAAS,EAAE;YACb,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC9D;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,mBAAmB,GAAG,KAAK;SACjC;QACD,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,CAAC,0CAA0C;QAExE,IAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC;QAC7B,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QACvC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACjD,IAAI,EAAE,KAAK,CAAC,CAAC,EAAE;gBACb,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;oBAC1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAC9B,OAAO,IAAI,CAAC,EAAE,CAAC;iBAChB;qBACI;oBACH,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;oBAC/B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;iBACxB;aACF;QACH,CAAC,CAAC;QACF,8CAA8C;QAC9C,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAE7B,6EAA6E;QAC7E,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YACpC,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,CAAC;YAClE,IAAI,KAAK,EAAE;gBACT,IAAI,KAAK,CAAC,SAAS,EAAE;oBACnB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACrC;qBAAM;oBACL,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACvC;aACF;YAED,iDAAiD;YACjD,MAAM,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;gBACtD,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,CAAC;gBAClE,OAAO,KAAK,IAAI,KAAK,CAAC,SAAS,CAAC;YAClC,CAAC,CAAC,CAAC;YACH,mDAAmD;YACnD,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;gBACxD,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,CAAC;gBAClE,OAAO,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACnC,CAAC,CAAC,CAAC;YAEH,IAAI,WAAW,EAAE;gBACf,wBAAwB;gBACxB,IAAI,CAAC,mBAAmB,GAAG,IAAI;gBAC/B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aAC/B;iBAAM,IAAI,aAAa,EAAE;gBACxB,sBAAsB;gBACtB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,mBAAmB,GAAG,KAAK;aACjC;iBAAM;gBACL,qGAAqG;aACtG;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1E,KAAK,CAAC,2DAA2D,CAAC,CAAC;YACnE,uDAAuD;YACvD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAE/B,6CAA6C;YAC7C,MAAM,UAAU,GAAG,QAAQ,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;YACvE,UAAU,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;gBAC9B,MAAM,YAAY,GAAG,QAA4B,CAAC;gBAClD,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;YAC/B,CAAC,CAAC,CAAC;YAEH,+CAA+C;YAC/C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;gBACzB,KAAK,EAAE,SAAS;gBAChB,OAAO,EAAE,2DAA2D;aACrE,CAAC;YACF,MAAM,IAAI,KAAK,CAAC,2DAA2D,CAAC,CAAC;SAC9E;IACH,CAAC;IAED,aAAa,CAAC,WAAW;QACvB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACjC,CAAC;IAED,2BAA2B;QACzB,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,EAAE;YAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;SACzC;aACI;YACH,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE;gBACxC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;aAC7C;SACF;QACD,MAAM,WAAW,GAAG;YAClB,oBAAoB,EAAE,IAAI,CAAC,cAAc;SAC1C,CAAC;QAEF,6HAA6H;QAC7H,0BAA0B;QAC1B,kCAAkC;QAClC,mCAAmC;QACnC,0BAA0B;QAC1B,yDAAyD;QACzD,UAAU;QAEV,qCAAqC;QACrC,uCAAuC;QACvC,+EAA+E;QAC/E,yEAAyE;QACzE,MAAM;QACN,gBAAgB;QAChB,4BAA4B;QAC5B,mCAAmC;QACnC,wBAAwB;QACxB,uEAAuE;QACvE,UAAU;QACV,aAAa;QACb,mCAAmC;QACnC,wBAAwB;QACxB,yCAAyC;QACzC,UAAU;QACV,MAAM;QACN,MAAM;IACR,CAAC;IAED,oBAAoB;QAClB,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,6BAA6B;QAC3B,MAAM,WAAW,GAAG;YAClB,sBAAsB,EAAE,IAAI,CAAC,cAAc;SAC5C,CAAC;QACF,8HAA8H;QAC9H,0BAA0B;QAC1B,kCAAkC;QAClC,mCAAmC;QACnC,0BAA0B;QAC1B,2DAA2D;QAC3D,UAAU;QACV,qCAAqC;QACrC,uCAAuC;QACvC,kFAAkF;QAClF,0EAA0E;QAC1E,MAAM;QACN,gBAAgB;QAChB,4BAA4B;QAC5B,mCAAmC;QACnC,wBAAwB;QACxB,uEAAuE;QACvE,UAAU;QACV,aAAa;QACb,mCAAmC;QACnC,wBAAwB;QACxB,yCAAyC;QACzC,UAAU;QACV,MAAM;QACN,MAAM;IACR,CAAC;IAED,kBAAkB,CAAC,SAAiB;QAClC,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;gBAC3B,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;iBAAM;gBACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC;gBACnC,IAAG,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAC;oBAChC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;wBACzB,KAAK,EAAE,OAAO;wBACd,OAAO,EAAE,SAAS,GAAG,eAAe;qBACrC,CAAC,CAAC;iBACJ;aACF;YACH,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,kDAAkD;QAC1E,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAGD,mBAAmB,CAAC,SAAiB;QACnC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,2CAA2C;QAC3C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,iBAAiB,CAAC,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,gBAAgB,CAAC,CAAC,+CAA+C;QACjF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;YAC5C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;gBACzB,KAAK,EAAE,OAAO;gBACd,OAAO,EAAE,8CAA8C;aACxD,CAAC,CAAC;YACH,OAAO;SACR;QACD,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;YAC9B,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC;YAC1C,sFAAsF;YACtF,iCAAiC;YACjC,wBAAwB;YACxB,8CAA8C;YAC9C,QAAQ;YACR,gCAAgC;YAChC,gBAAgB;YAChB,4BAA4B;YAC5B,mCAAmC;YACnC,wBAAwB;YACxB,wEAAwE;YACxE,UAAU;YACV,MAAM;YACN,uEAAuE;YACvE,mCAAmC;YACnC,wBAAwB;YACxB,wDAAwD;YACxD,UAAU;YACV,MAAM;YACN,WAAW;YACX,mCAAmC;YACnC,wBAAwB;YACxB,0CAA0C;YAC1C,UAAU;YACV,MAAM;YACN,MAAM;SACP;IACH,CAAC;IAED,WAAW;QACT,IAAI,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,EAAE;YACf,IAAI,KAAK,GAAG,IAAI,UAAU,CAAC,OAAO,EAAE;gBAClC,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,KAAK;gBACd,UAAU,EAAE,IAAI;aACjB,CAAC,CAAC;YACH,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;gBACzB,KAAK,EAAE,OAAO;gBACd,OAAO,EAAE,0BAA0B;aACpC,CAAC,CAAC;SACJ;IACH,CAAC;IAEM,UAAU,CAAC,CAAM;QACtB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;QAE3B,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAChC,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,EAAE;gBACzB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,QAAQ,CAAC;gBAChC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACzC;iBAAM;gBACL,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,QAAQ,CAAC;gBAChC,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC5B;SACF;IACH,CAAC;IAED,gBAAgB;QACd,MAAM,SAAS,GAA6C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0GAA0B,EAAE;YACxG,kBAAkB;YACjB,MAAM,EAAE,OAAO;YACf,IAAI,EAAE,EAAE;YACR,YAAY,EAAE,IAAI;YAClB,QAAQ,EAAE;gBACR,KAAK,EAAE,GAAG;aACX;SACF,CAAC,CAAC;QACH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC3C,OAAO,CAAC,GAAG,CAAC,kBAAkB,MAAM,EAAE,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qBAAqB,CAAC,WAAW;QAC/B,MAAM,SAAS,GAA6C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0GAA0B,EAAE;YACvG,kBAAkB;YAClB,MAAM,EAAE,OAAO;YACf,IAAI,EAAE,EAAE,WAAW,EAAE,WAAW,EAAE;YAClC,YAAY,EAAE,IAAI;YAClB,QAAQ,EAAE;gBACR,KAAK,EAAE,GAAG;aACX;SACF,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC3C,OAAO,CAAC,GAAG,CAAC,kBAAkB,MAAM,EAAE,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAoC;IACpC,+DAA+D;IAC/D,sBAAsB;IACtB,wCAAwC;IACxC,OAAO;IACP,0FAA0F;IAC1F,uBAAuB;IACvB,2BAA2B;IAC3B,+BAA+B;IAC/B,6CAA6C;IAC7C,oCAAoC;IACpC,2DAA2D;IAC3D,oBAAoB;IACpB,2CAA2C;IAC3C,uBAAuB;IACvB,6CAA6C;IAC7C,oCAAoC;IACpC,6DAA6D;IAC7D,oBAAoB;IACpB,2CAA2C;IAC3C,gBAAgB;IAChB,cAAc;IACd,SAAS;IACT,0BAA0B;IAC1B,qCAAqC;IACrC,0BAA0B;IAC1B,2EAA2E;IAC3E,WAAW;IACX,UAAU;IACV,IAAI;IAEJ,0CAA0C;IAC1C,gBAAgB,CAAC,WAA0B;QACzC,IAAG,WAAW,KAAK,KAAK,EAAE;YACxB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC;SACvC;IACH,CAAC;IAED,YAAY;QACV,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;IAC/C,CAAC;IAED,aAAa;QACX,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;IAC/B,CAAC;;0FApkBU,qBAAqB;mHAArB,qBAAqB;;;;;;QClBlC,iHAMM;QACN,yEAA0C;QACxC,yEAAwD;QACpD,yEAAiC;QAC7B,2EACyD;QAArD,kJAAS,4CAAwC,IAAC;QADtD,4DACyD;QAC7D,4DAAM;QACN,yEAAuD;QACnD,4EAAsG;QAA7B,6IAAS,sBAAkB,IAAC;QACjG,kEAAiC;QAAA,yFACrC;QAAA,4DAAS;QACT,4EACkC;QAC9B,mEAA+B;QACnC,4DAAS;QACb,4DAAM;QACV,4DAAM;QAEN,2EAA8C;QAC1C,2EAAkD;QAC9C,6EAAsC;QAClC,yEAAO;QACH,sEAAI;QACA,0EAAwB;QAAA,gEAAI;QAAA,4DAAK;QACjC,0EAAwB;QAAA,mEAAO;QAAA,4DAAK;QACpC,0EAAwB;QAAA,0EAAc;QAAA,4DAAK;QAE3C,0EAAwB;QAAA,kEAAM;QAAA,4DAAK;QACvC,4DAAK;QACT,4DAAQ;QACR,yEAAO;QACH,sIA+De;QACnB,4DAAQ;QACR,wHAQQ;QACZ,4DAAQ;QAKZ,4DAAM;QAGN,2EAAuG;QACnG,2EAAyF;QACrF,2EAA6C;QACzC,2EAA+D;QAC3D,oEACmD;QACvD,4DAAM;QACN,2EAA4B;QACxB,2EAAoD;QAChD,0EAC+B;QAC3B,oEAAmD;QAAC,sFAExD;QAAA,4DAAK;QACT,4DAAM;QACN,kHAEK;QACL,kHAEK;QACT,4DAAM;QACN,2EAAiD;QAC7C,yEAA2D;QAAA,iEAAK;QAAA,4DAAI;QACpE,gHAC2D;QAC3D,gHAC2D;QAC/D,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;QAGN,2EAAqG;QACjG,2EAAyF;QACrF,2EAA6C;QACzC,2EAA+D;QAC3D,oEACmD;QACvD,4DAAM;QACN,2EAA4B;QACxB,2EAAoD;QAChD,0EAC+B;QAC3B,oEAAiD;QAAC,oFAEtD;QAAA,4DAAK;QACT,4DAAM;QACN,kHAEK;QACL,kHAEK;QACT,4DAAM;QACN,2EAAiD;QAC7C,yEAA2D;QAAA,iEAAK;QAAA,4DAAI;QACpE,gHACuD;QACvD,gHACuD;QAC3D,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;QAGN,2EAA8F;QAC1F,2EAAyF;QACrF,2EAA6C;QACzC,2EAA+D;QAC3D,oEACmD;QACvD,4DAAM;QACN,2EAA4B;QACxB,2EAAoD;QAChD,kHAGK;QACL,kHAGK;QACT,4DAAM;QACN,kHAEK;QACL,kHAEK;QACT,4DAAM;QACN,2EAAiD;QAC7C,yEAA2D;QAAA,iEAAK;QAAA,4DAAI;QACpE,gHAEI;QACJ,gHAEI;QACR,4DAAM;QACV,4DAAM;QACV,4DAAM;QACV,4DAAM;QAEV,4DAAM;QACR,4DAAM;;QAlOA,+EAAe;QAqC4B,2DAAiB;QAAjB,qFAAiB;QAiE5C,0DAA+B;QAA/B,+FAA+B;QAgC1B,2DAAe;QAAf,+EAAe;QAGf,0DAAgB;QAAhB,gFAAgB;QAMjB,0DAAe;QAAf,+EAAe;QAEf,0DAAgB;QAAhB,gFAAgB;QAuBf,2DAAe;QAAf,+EAAe;QAGf,0DAAgB;QAAhB,gFAAgB;QAMjB,0DAAe;QAAf,+EAAe;QAEf,0DAAgB;QAAhB,gFAAgB;QAiBX,0DAAqB;QAArB,qFAAqB;QAIrB,0DAAoB;QAApB,oFAAoB;QAKJ,0DAAqB;QAArB,qFAAqB;QAGrB,0DAAoB;QAApB,oFAAoB;QAMV,0DAAqB;QAArB,qFAAqB;QAGpD,0DAAoB;QAApB,oFAAoB","sources":["./src/app/pages/purchase/purchase.module.ts","./src/app/pages/purchase/purchase/purchase.component.ts","./src/app/pages/purchase/purchase/purchase.component.html","./src/app/pages/purchase/purchsae-routing.module.ts","./src/app/pages/purchase/request-order-modal/request-order-modal.component.ts","./src/app/pages/purchase/request-order-modal/request-order-modal.component.html","./src/app/pages/purchase/request-order/request-order.component.ts","./src/app/pages/purchase/request-order/request-order.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PurchsaeRoutingModule } from './purchsae-routing.module';\r\nimport { PurchaseComponent } from './purchase/purchase.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { RequestOrderComponent } from './request-order/request-order.component';\r\nimport { RequestOrderModalComponent } from './request-order-modal/request-order-modal.component';\r\n// import { RouterModule } from '@angular/router';\r\nimport { MaterialExampleModule } from 'src/app/material.module';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatMomentDateModule } from '@angular/material-moment-adapter';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n@NgModule({\r\n  declarations: [\r\n    RequestOrderComponent,\r\n    RequestOrderModalComponent,\r\n    PurchaseComponent\r\n  \r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    PurchsaeRoutingModule,\r\n    RouterModule,\r\n    RouterModule,\r\n    MaterialExampleModule,\r\n    MatInputModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatNativeDateModule,\r\n    MatFormFieldModule,\r\n    MatDatepickerModule,\r\n    MatMomentDateModule,    \r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgbModule,\r\n    BsDatepickerModule.forRoot(),\r\n  ]\r\n})\r\nexport class PurchaseModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-purchase',\r\n  templateUrl: './purchase.component.html',\r\n  styleUrls: ['./purchase.component.scss']\r\n})\r\nexport class PurchaseComponent implements OnInit {\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"component-container container-fluid px-4 pt-5\">\r\n    <div id=\"navPanel\" class=\"row\">\r\n      <div class=\"navOptions col-xxl-8 col-xl-9 col-lg-12 col-md-12 col-sm-12\">\r\n        <div class=\"row page-nav-link\" id = \"LinkPrint\" style=\"z-index: 1;\">\r\n          <div class=\"col-lg-3 col-md-3 col-sm-6 links\">\r\n            <a class=\"mt-3 pb-1 text-nowrap\" routerLink=\"./purchase-invoice-list\" routerLinkActive=\"active-link\">Purchase Invoice List</a>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 links\">\r\n            <a class=\"mt-3 pb-1 text-nowrap\" routerLink=\"./purchase-out-list\" routerLinkActive=\"active-link\">Payment out List</a>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-3 col-sm-6 ps-3 links\">\r\n            <a class=\"mt-3 pb-1 text-nowrap\" routerLink=\"./sundry-creditor-list\" routerLinkActive=\"active-link\">Sundry Creditor</a>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6  links\">\r\n            <a class=\"mt-3 pb-1 text-nowrap\" routerLink=\"./purchase-order-list\" routerLinkActive=\"active-link\">Purchase Order List</a>\r\n          </div>\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 ps-3 links\">\r\n            <a class=\"mt-3 pb-1 text-nowrap\" routerLink=\"./purchase-return-list\" routerLinkActive=\"active-link\">Purchase Return List</a>\r\n          </div>\r\n          <div class=\"col-xxl-2 col-xl-2 col-lg-2 col-md-2 links\" *ngIf=\"currentUser.userType !== 'CLIENT'\">\r\n            <a class=\"mt-3 pb-1 text-nowrap\" routerLink=\"./request-order-list\" routerLinkActive=\"active-link\">Request Order List</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n  </div>\r\n  <hr class=\"mt-1\">\r\n  <div>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { PurchaseComponent } from './purchase/purchase.component';\r\nimport { PurchaseInvoiceComponent } from '../Invoice/purchase-invoice/purchase-invoice.component';\r\nimport { PurchaseInvoiceListComponent } from '../Invoice/purchase-invoice-list/purchase-invoice-list.component';\r\nimport { PuchaseReturnComponent } from '../Invoice/puchase-return/puchase-return.component';\r\nimport { PurchaseReturnListComponent } from '../Invoice/purchase-return-list/purchase-return-list.component';\r\nimport { SundryCreditorComponent } from '../Invoice/sundry-creditor/sundry-creditor.component';\r\nimport { PurchaseOrderComponent } from '../purchase-order/purchase-order.component';\r\nimport { PurchaseOrderListComponent } from '../purchase-order-list/purchase-order-list.component';\r\nimport { PaymentOutComponent } from '../payment-out/payment-out.component';\r\nimport { PaymentOutListComponent } from '../payment-out-list/payment-out-list.component';\r\nimport { RequestOrderComponent } from './request-order/request-order.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { \r\n    path: '',\r\n    component : PurchaseComponent,\r\n    children : [\r\n      { \r\n        path: '', \r\n        redirectTo: 'purchase-invoice-list',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path: \"purchase-invoice\",\r\n        component: PurchaseInvoiceComponent\r\n      },\r\n      {\r\n        path: \"purchase-invoice-list\",\r\n        component: PurchaseInvoiceListComponent,\r\n      },\r\n      {\r\n        path: \"sundry-creditor-list\",\r\n        component: SundryCreditorComponent\r\n      },\r\n      {\r\n        path: \"purchase-out\",\r\n        component: PaymentOutComponent\r\n      },\r\n      {\r\n        path: \"purchase-out-list\",\r\n        component: PaymentOutListComponent\r\n      },\r\n      {\r\n        path: \"purchase-order\",\r\n        component: PurchaseOrderComponent\r\n      },\r\n      {\r\n        path: \"purchase-order-list\",\r\n        component: PurchaseOrderListComponent\r\n      },\r\n      {\r\n        path: \"purchase-return\",\r\n        component: PuchaseReturnComponent,\r\n      },\r\n      {\r\n        path: \"purchase-return-list\",\r\n        component: PurchaseReturnListComponent,\r\n      },\r\n      {\r\n        path: \"request-order-list\",\r\n        component: RequestOrderComponent\r\n      },\r\n    ],\r\n    pathMatch: 'prefix',\r\n    data: {\r\n      routerLinkActiveOptions: { exact: true, pathMatch: 'full' }\r\n    }\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [RouterModule.forChild(routes)],\r\n\r\n})\r\nexport class PurchsaeRoutingModule { }\r\n","import { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { PartyService } from 'src/app/core/services/party.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { SaleInvoiceService } from 'src/app/core/services/sale-invoice.service';\r\nimport { TitleCasePipe } from '@angular/common';\r\nimport { Observable } from 'rxjs';\r\nimport { BiddingService } from 'src/app/core/services/bidding.service';\r\nimport { FormArray } from '@angular/forms';\r\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ProfileService } from 'src/app/core/services/profile.service';\r\nimport { SaleOrderService } from 'src/app/core/services/sale-order.service';\r\nimport { Router } from '@angular/router';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport lang from \"src/assets/langTranslation/language_translation\"\r\nimport { CommonService } from 'src/app/core/services/common.service';\r\nimport { WarehouseService } from 'src/app/core/services/warehouse.service';\r\n\r\n@Component({\r\n  selector: 'app-request-order-modal',\r\n  templateUrl: './request-order-modal.component.html',\r\n  styleUrls: ['./request-order-modal.component.scss']\r\n})\r\nexport class RequestOrderModalComponent implements OnInit {\r\n\r\n  @ViewChild('closebutton') closebutton;\r\n  // public PaymentInForm: FormGroup;\r\n  public gstAmount = 0;\r\n  public isShippingAddressinModal: any;\r\n  public isShowGstFields: boolean = false;\r\n  public gstDetails: any\r\n  public isShown: boolean = false;\r\n  public allPartyList: any;\r\n  public filteredOptions: any;\r\n  public myControl = new FormControl();\r\n  public myControl1 = new FormControl();\r\n  searchedProduct: any;\r\n  productOptions: Observable<any>;\r\n  public partyId: any;\r\n  public partyData: any\r\n  public unitValue: any;\r\n  public index: any;\r\n  public product: any;\r\n  public amount = 0;\r\n  public qty = 0;\r\n  public unit: any;\r\n  public wtax: any;\r\n  public wotax: any;\r\n  public ramount: any;\r\n  public taxAmount = 0\r\n  public fieldArray: Array<any> = [];\r\n  public today: Date;\r\n  public maxDate: Date;\r\n  public isDisabledGST: boolean = true;\r\n  public submittedParty: boolean = false;\r\n  public currentPageNo: number = 0;\r\n  public partyPagesize: number = 10;\r\n  public finalObject;\r\n  imageLoaded: boolean = false;\r\n  public purchaseImage: any;\r\n  public imageSrc: any = '';\r\n  public imageSrc1: any = '';\r\n  public todaysDate: any;\r\n  public todaysDate2: any;\r\n  public sendArray: any = [];\r\n  public totalPrice: any;\r\n  public barcode: any;\r\n  public refNo: any;\r\n  public saleInvoiceNo;\r\n  public SaleReturnNo;\r\n  public subTotal = 0;\r\n  public totalGST = 0;\r\n  public total = 0;\r\n  public additionalCess: number = 0;\r\n  public productData: any = [];\r\n  public submitted: boolean = false;\r\n  warehouseList: any;\r\n\r\n  public gstType: any;\r\n  public gstInRs: any\r\n  public gstInPer: any;\r\n  public compositeType: any;\r\n  public lblColor: boolean = false;\r\n  public gstRate = 0;\r\n  public gstStateMatch: boolean = true;\r\n  public requestOrderForm: FormGroup;\r\n  public purchaseOrderGst: any;\r\n  public userProfileGSTNo: any;\r\n  public supplytype: any;\r\n  public paramID: any;\r\n  public AddReceiptName: any;\r\n  public lang = lang.UAE;\r\n  // serialNumber: number = 1;\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  isArabic: any;\r\n  PartyForm: FormGroup;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder, public activeModal: NgbActiveModal, @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<RequestOrderModalComponent>,\r\n    private partyService: PartyService, private commonService: CommonService,\r\n    private router: Router,\r\n    private toastService: ToastNotificationService,\r\n    private saleInvoiceService: SaleInvoiceService,\r\n    private biddingService: BiddingService,\r\n    private titleCasePipe: TitleCasePipe,\r\n    private profileService: ProfileService,\r\n    private warehouseService: WarehouseService,\r\n    private modal: NgbModal, private saleorderservice: SaleOrderService) {\r\n\r\n    this.today = new Date();\r\n    this.maxDate = new Date(this.today.getFullYear(), this.today.getMonth(), 25);\r\n  }\r\n  ngOnInit(): void {\r\n    // Subscribe to the observable to receive updates\r\n    this.PartyForm = this.formBuilder.group({\r\n      gstType: [null],\r\n      gstIn: [\r\n        null,\r\n        [\r\n          Validators.minLength(15),\r\n          Validators.maxLength(15),\r\n        ],\r\n      ],\r\n      partyName: [\"\", [Validators.required]],\r\n      mobile: [\r\n        ,\r\n        [\r\n          Validators.minLength(9),\r\n          Validators.maxLength(9),\r\n          Validators.pattern(\"^[0-9]*$\"),\r\n          Validators.required,\r\n        ],\r\n      ],\r\n      email: [\r\n        null,\r\n        [\r\n          Validators.pattern(\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$\" ),     \r\n              Validators.email,\r\n          Validators.required,\r\n        ],\r\n      ],\r\n      billingAddress: [null, [Validators.required]],\r\n      shippingAddress: [],\r\n      balanceStatus: [\"1\"],\r\n      isCustomer: [false],\r\n    });\r\n    // this.getProfileData();\r\n    this.todaysDate = new Date();\r\n    this.getAllParties();\r\n    this.getWarehouseList();\r\n    this.requestOrderForm = this.formBuilder.group({\r\n      partyName: [\"\"],\r\n      warehouse: [null, [Validators.required]],\r\n      orderNo: [\"\", [Validators.required]],\r\n      mobile: [\"\"],\r\n      orderDate: [\"\", [Validators.required]],\r\n      billingAddress: [\"\"]\r\n    });\r\n  }\r\n\r\n  get f() {\r\n    return this.requestOrderForm.controls;\r\n  }\r\n\r\n  getProfileData() {\r\n    this.profileService.getUserProfile({}, this.currentUser.id).then((res => {\r\n      this.userProfileGSTNo = res.data.additional.gstinNo ? res.data.additional.gstinNo.slice(0, 2) : \"\";\r\n    }))\r\n  }\r\n\r\n  setSelectedPartyDeatails(item) {\r\n    this.partyId = item.id;\r\n    if (this.partyData) {\r\n      this.partyData.forEach((ele) => {\r\n        this.purchaseOrderGst = ele.gstIn\r\n        this.requestOrderForm.patchValue({\r\n          'billingAddress': ele.billingAddress\r\n        })\r\n        if (this.purchaseOrderGst.slice(0, 2) == this.userProfileGSTNo) {\r\n          this.gstStateMatch = true\r\n          this.supplytype = \"INTRASTATE\"\r\n        }\r\n        else {\r\n          this.gstStateMatch = false;\r\n          this.supplytype = \"INTERSTATE\"\r\n        }\r\n      })\r\n\r\n    }\r\n    else {\r\n      this.saleInvoiceService.getPartyByName({}, this.currentUser.id, item.partyName)\r\n        .then((response: any) => {\r\n          this.partyData = response.data.rows;\r\n          this.allPartyList = response.data.rows;\r\n          this.allPartyList.forEach((ele) => {\r\n            this.purchaseOrderGst = ele.gstIn\r\n            this.requestOrderForm.patchValue({\r\n              'billingAddress': ele.billingAddress\r\n            })\r\n            if (this.purchaseOrderGst.slice(0, 2) == this.userProfileGSTNo) {\r\n              this.gstStateMatch = true\r\n              this.supplytype = \"INTRASTATE\"\r\n            }\r\n            else {\r\n              this.gstStateMatch = false;\r\n              this.supplytype = \"INTERSTATE\"\r\n            }\r\n          });\r\n        })\r\n      this.filteredOptions = this.myControl.valueChanges.pipe(\r\n        startWith(''),\r\n        map(name => name ? this.filterNames(name) : this.allPartyList.slice())\r\n      );\r\n\r\n    }\r\n\r\n  }\r\n  private filterNames(name: string): string[] {\r\n    return this.allPartyList.filter(partyList =>\r\n      partyList.partyName.toLowerCase().indexOf(name.toLowerCase()) === 0);\r\n  }\r\n\r\n  getAllParties() {\r\n    this.partyService\r\n      .getAllPartiesDetails({}, this.currentUser.id, this.partyPagesize, (this.currentPageNo + 1))\r\n      .then((res) => {\r\n        this.allPartyList = res.data.pageData;\r\n        this.filteredOptions = this.myControl.valueChanges\r\n          .pipe(\r\n            startWith(''),\r\n            map(name => name ? this.filterNames(name) : this.allPartyList.slice())\r\n          );\r\n      });\r\n  }\r\n\r\n  get fp() {\r\n    return this.PartyForm.controls;\r\n  }\r\n\r\n  Units = [\r\n    \"NONE\",\r\n    \"BAG-BAGS\",\r\n    \"BAL-BALE\",\r\n    \"BDL-BUNDLES\",\r\n    \"BKL-BUCKLES\",\r\n    \"BOU-BILLIONS OF UNITS\",\r\n    \"BOX-BOX\",\r\n    \"BTL-BOTTLES\",\r\n    \"BUN-BUNCHES\",\r\n    \"CAN-CANS\",\r\n    \"CBM-CUBIC METER\",\r\n    \"CCM-CUBIC CENTIMETER)\",\r\n    \"CMS-CENTIMETER\",\r\n    \"CTN-CARTONS\",\r\n    \"DOZ-DOZEN\",\r\n    \"DRM-DRUM\",\r\n    \"GGR-GREAT GROSS\",\r\n    \"GMS-GRAMS\",\r\n    \"GRS-GROSS\",\r\n    \"GYD-GROSS YARDS\",\r\n    \"KGS-KILOGRAMS\",\r\n    \"KLR-KILOLITER\",\r\n    \"KME-KILOMETRE\",\r\n    \"MLT-MILLILITRE\",\r\n    \"MTR-METERS(MTR)\",\r\n    \"MTS-METRIC TONS\",\r\n    \"NOS-NUMBERS\",\r\n    \"PAC-PACKS\",\r\n    \"PCS-PIECES\",\r\n    \"PRS-PAIRS)\",\r\n  ]\r\n\r\n  async calculationTotal() {\r\n    this.barcode = \"\";\r\n    let price = 0;\r\n\r\n    let additionalCess = 0;\r\n    let gstInPer = 0;\r\n    this.totalPrice = 0;\r\n    this.subTotal = 0;\r\n    this.gstRate = 0;\r\n    this.productData.forEach((element) => {\r\n      let gstInPer = element.gstRate;\r\n\r\n      additionalCess = (element.salePrice * element.additionalCess) / 100;\r\n\r\n      element.basePrice = element.purchasePrice / (1 + element.gstRate / 100);\r\n      element.subTotal = element.basePrice * element.quantity;\r\n      element.gstAmount =\r\n        (element.purchasePrice - element.basePrice) * element.quantity;\r\n      this.gstRate = element.gstAmount + this.gstRate;\r\n\r\n      element.total = element.purchasePrice * element.quantity;\r\n      // total for all products in the array\r\n      price = element.total + price;\r\n      // total without gst for all products in the array\r\n      this.subTotal = element.subTotal + this.subTotal;\r\n\r\n      gstInPer = element.gstRate;\r\n      if (this.isShown) {\r\n        this.totalPrice = price;\r\n      } else {\r\n        this.totalPrice = price;\r\n      }\r\n    });\r\n\r\n    if (this.gstType === \"Exempted\") {\r\n      this.totalGST = 0;\r\n      this.gstInRs = 0;\r\n      this.gstInPer = 0;\r\n    } else if (this.gstType === \"Composite\") {\r\n      if (\r\n        this.compositeType == \"Manufacturer\" ||\r\n        this.compositeType == \"Trader\"\r\n      ) {\r\n        this.totalGST = (this.subTotal * 1) / 100;\r\n        this.gstInRs = 0;\r\n        this.gstInPer = 0;\r\n      } else if (this.compositeType == \"Restaurant\") {\r\n        this.totalGST = (this.subTotal * 5) / 100;\r\n        this.gstInRs = 0;\r\n        this.gstInPer = 0;\r\n      } else {\r\n        this.totalGST = (this.subTotal * 6) / 100;\r\n        this.gstInRs = 0;\r\n        this.gstInPer = 0;\r\n      }\r\n    } else {\r\n      this.totalGST = this.gstRate;\r\n      this.gstInRs = this.gstRate;\r\n      this.gstInPer = gstInPer;\r\n    }\r\n\r\n    this.additionalCess = additionalCess;\r\n    if (this.isShown) {\r\n      this.total = price;\r\n    } else {\r\n      this.total = price;\r\n    }\r\n  }\r\n\r\n  changeQtyCalculation(i) {\r\n    this.totalGST = (this.productData[i].salePrice * this.productData[i].quantity) * (this.productData[i].gstRate / 100);\r\n    this.subTotal = (this.productData[i].salePrice * this.productData[i].quantity);\r\n    this.total = this.totalGST + this.subTotal;\r\n    this.calculationTotal();\r\n  }\r\n\r\n  getWarehouseList() {\r\n    this.warehouseService.getAllWarehouse({\r\n      data:{}, \r\n      userId: this.currentUser.parentId, \r\n      size: 1000, \r\n      page: 1, \r\n      search:'', \r\n    }).then((res: any) => {\r\n      this.warehouseList = res.data.pageData;\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message),\r\n        });\r\n      }\r\n      else {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        })\r\n      };\r\n    })\r\n  }\r\n\r\n  changeQuantity(sign, i, quantity = 0) {\r\n    switch (sign) {\r\n      case \"-\":\r\n        if (this.productData[i].quantity > 1) {\r\n          this.productData[i].quantity = this.productData[i].quantity - 1;\r\n        }\r\n        // this.changeQtyCalculation(i);\r\n        this.calculationTotal();\r\n        break;\r\n      case \"+\":\r\n        this.productData[i].quantity = this.productData[i].quantity + 1;\r\n        // this.changeQtyCalculation(i);\r\n        this.calculationTotal();\r\n        break;\r\n      case \"rm\":\r\n        this.productData.splice(i, 1);\r\n        if (this.productData.length <= 0) {\r\n          this.totalGST = 0;\r\n          this.subTotal = 0;\r\n          this.total = 0;\r\n        }\r\n        this.calculationTotal();\r\n        break;\r\n      case \"qty\":\r\n        this.productData[i].quantity = quantity;\r\n        this.calculationTotal();\r\n        break;\r\n      default:\r\n        this.productData[i];\r\n        break;\r\n    }\r\n  }\r\n  // getGoodsByBarcode() {\r\n  //   this.saleInvoiceService.getGoodsByBarcode({}, this.barcode, this.currentUser.parentId ? this.currentUser.parentId : this.currentUser.id)\r\n  //     .then((response) => {\r\n  //       // Check if the barcode already exists in productData\r\n  //       const existingProductIndex = this.productData.findIndex(\r\n  //         (product) => product.barcode === response.data.barcode\r\n  //       );\r\n\r\n  //       if (existingProductIndex !== -1) {\r\n  //         // Barcode exists, update quantity\r\n  //         this.productData[existingProductIndex].quantity += 1;\r\n  //       } else {\r\n  //         // Barcode doesn't exist, add new product\r\n  //         response.data.quantity = 1;\r\n  //         this.productData.push(response.data);\r\n  //       }\r\n  //       this.calculationTotal();\r\n  //     });\r\n  // }\r\n  \r\n  \r\n  onSearchInputChange(searchKey: string) {\r\n    if (searchKey.length >= 3) {\r\n      this.getGoodsList(searchKey);\r\n    }\r\n  }\r\n\r\n  getGoodsList(value) {\r\n    if (value && (String(value).trim() !== '' || value !== null)) {\r\n      this.biddingService.getAllProductsByUserSearch({}, this.requestOrderForm.controls.warehouse.value ? this.requestOrderForm.controls.warehouse.value : this.currentUser.id, value, 1000, 1, this.requestOrderForm.controls.warehouse.value ? this.requestOrderForm.controls.warehouse.value : this.currentUser.id)\r\n        .then((res) => {\r\n          if(res.success) {\r\n            this.searchedProduct = res.data.pageData;\r\n            this.productOptions = this.myControl1.valueChanges\r\n            .pipe(\r\n              startWith(''),\r\n              map(name => name ? this.filterNames(name) : this.searchedProduct.slice())\r\n              );\r\n            }\r\n        },\r\n          (err) => {\r\n            if (err.error.expose) {\r\n              this.toastService.toastMsg({\r\n                title: \"Error\",\r\n                content: this.titleCasePipe.transform(err.error.error_message),\r\n              });\r\n            }\r\n            else {\r\n              this.toastService.toastMsg({\r\n                title: \"Error\",\r\n                content: \"Something Went Wrong.\",\r\n              });\r\n            }\r\n\r\n          })\r\n    } else {}\r\n  }\r\n\r\n  \r\n  getGoodsByBarcodeSelected(barcode, event) {\r\n    if (event.isUserInput) {\r\n      this.saleInvoiceService\r\n        .getGoodsByBarcode({}, barcode, this.requestOrderForm.controls.warehouse.value ? this.requestOrderForm.controls.warehouse.value : this.currentUser.id, this.requestOrderForm.controls.warehouse.value)\r\n        .then(async (response) => {\r\n          response.data.quantity = 1;\r\n          // Check if the barcode already exists in productData\r\n          const existingProductIndex = this.productData.findIndex(\r\n            (product) => product.barcode === response.data.barcode\r\n            );\r\n\r\n          if (existingProductIndex !== -1) {\r\n            // Barcode exists, update quantity\r\n            this.productData[existingProductIndex].quantity += 1;\r\n            // await this.checkFreeProducts(this.productData)\r\n            // await this.checkOffer(this.productData[existingProductIndex].quantity, this.productData[existingProductIndex].id)\r\n            // this.removeCoupon()\r\n          } else {\r\n            // Barcode doesn't exist, add new product\r\n            response.data.quantity = 1;\r\n            this.productData.push(response.data);\r\n            this.addDetailsButtonClick(this.productData.length - 1);\r\n            // await this.checkFreeProducts(this.productData)\r\n            // await this.checkOffer(response.data.quantity, response.data.id)\r\n            // this.removeCoupon()\r\n          }\r\n\r\n          this.calculationTotal();\r\n          this.myControl1.patchValue('')\r\n          document.getElementById('inp12').nodeValue = ''\r\n        }, (err) => {\r\n          if (err.error.expose) {\r\n            this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: this.titleCasePipe.transform(err.error.error_message),\r\n            });\r\n          }\r\n          else {\r\n            this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: \"Something Went Wrong.\",\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  addDetailsButtonClick(i): void {\r\n    const content = this.requestOrderForm.get(\"subcheckbox\") as FormArray;\r\n    content.push(this.addRolesPermission(i));\r\n  }\r\n\r\n  addRolesPermission(id): FormGroup {\r\n    return new FormGroup({\r\n      read: new FormControl(false),\r\n    });\r\n  }\r\n\r\n  \r\n  showShippingAddressinModal(checked: boolean) {\r\n    this.isShippingAddressinModal = checked;\r\n  }\r\n  customertoggleShow(value) {\r\n    this.isShowGstFields = value;\r\n  }\r\n  getUnit(value) {\r\n    this.unitValue = \"1 \" + value;\r\n  }\r\n\r\n  getGstNumber(gstin) {\r\n\r\n\r\n  }\r\n  searchPartyByName(item) {\r\n    this.partyId = item.id;\r\n    this.saleInvoiceService.getPartyByName({}, this.currentUser.id, item.partyName)\r\n      .then((response) => {\r\n        this.partyData = response.data.rows;\r\n        this.partyData.forEach((ele) => {\r\n        })\r\n      });\r\n  }\r\n\r\n  deleteFieldValue(index) {\r\n    this.fieldArray.splice(index, 1);\r\n  }\r\n\r\n  numberOnly(event): boolean {\r\n    const charCode = (event.which) ? event.which : event.keyCode;\r\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  validateTRN(TRN) {\r\n    if (TRN.length === 15) {\r\n      this.isDisabledGST = false;\r\n    } else {\r\n      this.isDisabledGST = true;\r\n      this.PartyForm.controls.gstIn.setErrors({ incorrect: true });\r\n    }\r\n  }\r\n\r\n  startUpload() {\r\n    document.getElementById('uploadFile').click();\r\n  }\r\n\r\n  addNewParty() {\r\n    this.submittedParty = true;\r\n    if (this.isShowGstFields) {\r\n      if ((this.PartyForm.controls.billingAddress.value == \"\" || this.PartyForm.controls.partyName.value == \"\"\r\n        || this.PartyForm.controls.mobile.value == \"\" || this.PartyForm.controls.email.value == \"\")) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Fill All Required Fields.\",\r\n        });\r\n        return false;\r\n      } else if ((this.PartyForm.controls.billingAddress.value == \"\" && this.PartyForm.controls.partyName.value == \"\"\r\n        && this.PartyForm.controls.mobile.value == \"\" && this.PartyForm.controls.email.value == \"\")) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Fill All Required Fields.\",\r\n        });\r\n      }\r\n      else {\r\n        this.addPartyObject();\r\n      }\r\n    }\r\n    else {\r\n      if ((this.PartyForm.controls.billingAddress.value == \"\" || this.PartyForm.controls.partyName.value == \"\"\r\n        || this.PartyForm.controls.mobile.value == \"\" || this.PartyForm.controls.email.value == \"\"\r\n        || this.PartyForm.controls.gstType.value == \"\" || this.PartyForm.controls.gstIn.value == \"\")) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Fill All Required Fields.\",\r\n        });\r\n        return false;\r\n      }\r\n\r\n      else {\r\n        this.addPartyObject();\r\n      }\r\n    }\r\n  }\r\n\r\n  addPartyObject() {\r\n    this.finalObject = {\r\n      \"partyDetails\": {\r\n        \"isCustomer\": this.isShowGstFields,\r\n        \"gstType\": this.PartyForm.controls.gstType.value ? this.PartyForm.controls.gstType.value : null,\r\n        \"gstIn\": this.PartyForm.controls.gstIn.value ? this.PartyForm.controls.gstIn.value : null,\r\n        \"partyName\": this.PartyForm.controls.partyName.value,\r\n        \"mobile\": this.PartyForm.controls.mobile.value ? (this.PartyForm.controls.mobile.value).toString() : null,\r\n        \"email\": this.PartyForm.controls.email.value,\r\n        \"warehouseId\": `${this.PartyForm.controls.warehouse.value}`,\r\n        \"billingAddress\": this.PartyForm.controls.billingAddress.value,\r\n        \"shippingAddress\": this.PartyForm.controls.shippingAddress.value,\r\n        \"openingBalance\": null,\r\n        \"asOfDate\": null,\r\n        \"balanceStatus\": this.PartyForm.controls.balanceStatus.value,\r\n        \"payment\": null,\r\n        \"creditPeriodDay\": null,\r\n        \"creditLimit\": null,\r\n        \"noOfCredits\": null,\r\n        \"relationSince\": null,\r\n        \"userId\": this.currentUser.id,\r\n        \"distance\": null,\r\n        \"transporation\": null,\r\n      },\r\n      \"groupAdd\": null\r\n    }\r\n\r\n    this.partyService.postParty(this.finalObject).then((res) => {\r\n      this.paramID = res.data.id\r\n      if (res) {\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Party Added Successfully!!!\",\r\n        })\r\n        this.PartyForm.reset();\r\n        this.modal.dismissAll();\r\n        this.getAllParties();\r\n        this.submittedParty = false;\r\n      }\r\n    },\r\n      (err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: this.titleCasePipe.transform(err.error.error_message),\r\n          });\r\n        }\r\n        else {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Something Went Wrong.\",\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  openAddPartyModal(name) {\r\n    this.modal.open(name, {\r\n      centered: true,\r\n      backdrop: \"static\",\r\n      size: \"lg\"\r\n    });\r\n  }\r\n  modalDismiss() {\r\n    this.PartyForm.reset();\r\n    this.modal.dismissAll();\r\n  }\r\n  handleImageLoad() {\r\n    this.imageLoaded = true;\r\n  }\r\n  handleInputChange(e) {\r\n    this.purchaseImage = e.target.files[0];\r\n    this.AddReceiptName = e.target.files[0].name;\r\n\r\n    const file: File = e.target.files[0];\r\n    const fileType: string = file.type;\r\n\r\n    if (fileType === 'application/pdf' || fileType === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {\r\n      this.imageSrc1 = false;\r\n\r\n    } else {\r\n      this.imageSrc1 = true;\r\n\r\n    }\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(this.purchaseImage);\r\n    reader.onload = () => {\r\n      this.imageSrc = reader.result;\r\n    }\r\n  }\r\n  cancelImage() {\r\n    this.imageSrc = null;\r\n    this.imageLoaded = false;\r\n  }\r\n  getCredit(e) {\r\n    if (e.value == \"true\") {\r\n      e.value = true;\r\n    } else {\r\n      e.value = false;\r\n    }\r\n    this.requestOrderForm.controls.PurchaseType = e.value;\r\n  }\r\n\r\n  postPurchase() {\r\n    this.submitted = true;\r\n    if (this.requestOrderForm.invalid) {\r\n      this.toastService.toastMsg({\r\n        title: \"Error\",\r\n        content: \"Fill All Required Fields.\",\r\n      });\r\n      return false;\r\n    } else {\r\n      if (this.productData.length < 1) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Please Add At Least One Product To Proceed!!!\",\r\n        });\r\n        return false;\r\n      }\r\n      this.productData.forEach(e => {\r\n        let data = {\r\n          quantity: e.quantity,\r\n          productId: e.id,\r\n          barcode: e.barcode,\r\n          amount: e.purchasePrice\r\n        }\r\n        this.sendArray.push(data);\r\n      })\r\n\r\n      let data = {\r\n        basic: {\r\n          requesterId: this.currentUser.id,\r\n          senderId: this.requestOrderForm.controls.warehouse.value,\r\n          // \"invoiceNo\": this.requestOrderForm.controls.orderNo.value,\r\n          note: \"Your optional note here\",\r\n          metadata: \"SHOP Requesting warehouse\",\r\n          billingAddress: this.requestOrderForm.controls.billingAddress.value,\r\n          orderNo: this.requestOrderForm.controls.orderNo.value,         \r\n          date: this.requestOrderForm.controls.orderDate.value,\r\n          mobile: this.requestOrderForm.controls.mobile.value,\r\n          address: this.requestOrderForm.controls.billingAddress.value\r\n        },\r\n        products: this.sendArray\r\n      }\r\n\r\n      this.warehouseService.requestStockTransfer(data).then((res) => {\r\n        if (res.success) {\r\n          this.toastService.toastMsg({\r\n            title: \"Success\",\r\n            content: \"Request Sent Successfully!!!\",\r\n          })\r\n          this.commonService.notifyDataAdded();\r\n          this.dialogRef.close();\r\n        }\r\n      }, (err) => {\r\n        this.sendArray = [];\r\n        if (err.error.expose) {\r\n          let errorMessage = err.error.error_message;\r\n          if (errorMessage.includes('invoiceDetails.partyId')) {\r\n              errorMessage = \"Vendor Name is required. Please select a valid Vendor Name option.\";\r\n          } else {\r\n              errorMessage = this.titleCasePipe.transform(errorMessage);\r\n          }\r\n          this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: errorMessage,\r\n          });\r\n        }\r\n        else {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Something Went Wrong.\",\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  setGST(value, index) {\r\n    this.productData[index].gstRate = value;\r\n    this.calculationTotal();\r\n  }\r\n\r\n  setPurchasePrice(value, index) {\r\n    this.productData[index].purchasePrice = 0;\r\n    this.calculationTotal();\r\n  }\r\n\r\n  cancel() {\r\n    this.dialogRef.close();\r\n    this.submitted = false;\r\n    this.requestOrderForm.reset();\r\n  }\r\n\r\n  openDatepickerOrderDate() {\r\n    // Check if the current value of invoiceDate is an \"Invalid Date\"\r\n    const orderDate = this.requestOrderForm.get('orderDate').value;\r\n    if (isNaN(orderDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.requestOrderForm.get('orderDate').setValue(new Date());\r\n    }\r\n  }\r\n  \r\n  openDatepickerDueDate() {\r\n    // Check if the current value of invoiceDate is an \"Invalid Date\"\r\n    const dueDate = this.requestOrderForm.get('dueDate').value;\r\n    if (isNaN(dueDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.requestOrderForm.get('dueDate').setValue(new Date());\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header pt-0\" id=\"Add-Party-modal\">\r\n    <h1 style=\"color: #EB8B3F; font-weight: bolder;margin-left: 5px;\" class=\"modal-title mb-0\">Request Order</h1>\r\n  \r\n    <div class=\"addProductButtons\">\r\n  \r\n      <button style=\"margin-right: 10px !important;\" type=\"button\" class=\"btn btn-cancel\"\r\n        (click)=\"cancel()\">Cancel</button>\r\n  \r\n      <button type=\"submit\" class=\"btn btn-save\" (click)=\"postPurchase()\">Save</button>\r\n  \r\n    </div>\r\n  \r\n  </div>\r\n  \r\n  <div class=\"modal-body\">\r\n    <form [formGroup]=\"requestOrderForm\">\r\n      <div class=\"row mb-3\">\r\n        <!-- <div style=\"font-size: 14px\" class=\"col-xs-12 col-sm-12 col-md-6 col-lg-4\">\r\n          <label class=\"form-label\" style=\"font-size: 14px\">Vendor Name<span\r\n              class=\"error-asterisk\">*</span></label>\r\n          <mat-form-field style=\"font-size: 14px;\" class=\"example-full-width\" appearance=\"outline\"\r\n            style=\"height: 48px !important;margin-bottom: 16px;\">\r\n            <input type=\"text\" placeholder=\"Vendor Name\" aria-label=\"Select Vendor Name\" matInput\r\n              (keyup)=\"searchPartyByName($event.target.value)\" [formControl]=\"myControl\" [matAutocomplete]=\"auto\"\r\n              [ngClass]=\"{\r\n                    'is-invalid': (myControl.invalid && myControl.touched) && submitted }\" required>\r\n            <mat-autocomplete #auto=\"matAutocomplete\">\r\n              <mat-option>\r\n                <a class=\"mobVerify\" style=\"display: inline-block; width: 100%;\" aria-hidden=\"true\" title=\"Party\"\r\n                  (click)=\"openAddPartyModal(addParty)\">\r\n                  Add new Vendor\r\n                </a>\r\n              </mat-option>\r\n              <mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option.partyName\"\r\n                (onSelectionChange)=\"setSelectedPartyDeatails(option)\">\r\n                {{option.partyName}}\r\n              </mat-option>\r\n            </mat-autocomplete>\r\n          </mat-form-field>\r\n          <mat-error class=\"text-danger\" *ngIf=\"\r\n                    (submitted || myControl.touched) && myControl.errors?.required\r\n                  \">\r\n            Vendor Is Required!\r\n          </mat-error>\r\n  \r\n  \r\n          <label class=\"form-label\" style=\"font-size: 14px !important\" for=\"Order Date\">Order Date</label>\r\n          <mat-form-field style=\"font-size: 14px !important\" class=\"example-full-width\" appearance=\"outline\">\r\n            <input matInput required placeholder=\"Order Date\" id=\"Order Date\" [outsideClick]=\"true\" ngModel bsDatepicker\r\n              [maxDate]=\"today\" [(ngModel)]=\"todaysDate\" style=\"text-transform:uppercase!important;\"\r\n              formControlName=\"orderDate\"\r\n              [bsConfig]=\"{ dateInputFormat : 'DD MMM YYYY', containerClass: 'theme-dark-blue', displayOneMonthRange: true, showWeekNumbers:false }\"\r\n              [ngClass]=\"{\r\n              'is-invalid': (f.orderDate.invalid && f.orderDate.touched) && submitted }\">\r\n            <span>\r\n              <mat-icon class=\"iconcalender\">date_range</mat-icon>\r\n            </span>\r\n          </mat-form-field>\r\n          <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.orderDate.touched) && f.orderDate.errors?.required\"\r\n            (click)=\"openDatepickerOrderDate()\">\r\n            Order Date Is Required!\r\n          </mat-error>\r\n  \r\n        </div> -->\r\n  \r\n        <div style=\"font-size: 14px\" class=\"col-xs-12 col-sm-12 col-md-6 col-lg-4\">\r\n          <label class=\"form-label\">Order No<span class=\"error-asterisk\">*</span></label>\r\n          <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <input matInput required type=\"text\" placeholder=\"Order No.\" (keypress)=\"numberOnly($event)\"\r\n              formControlName=\"orderNo\" autocomplete=\"off\" [ngClass]=\"{\r\n              'is-invalid': (f.orderNo.invalid && f.orderNo.touched) && submitted }\">\r\n          </mat-form-field>\r\n          <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.orderNo.touched) && f.orderNo.errors?.required\">\r\n            Order No Is Required!\r\n          </mat-error>\r\n  \r\n          <!-- <div class=\" col-xs-12 col-sm-12 col-md-6 col-lg-6\"> -->\r\n            <label class=\"form-label\">Warehouse<span class=\"error-asterisk\">*</span></label>\r\n            <mat-form-field class=\"example-full-width mb-2\" appearance=\"outline\">\r\n                <mat-select matNativeControl required disableOptionCentering formControlName=\"warehouse\" placeholder=\"Warehouse\">\r\n                    <mat-option *ngFor=\"let warehouse of warehouseList\" [value]=\"warehouse.id\">\r\n                        {{warehouse.firstName}}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n            <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.warehouse.touched)\">\r\n                <mat-error *ngIf=\"f.warehouse.errors?.required\">\r\n                    Warehouse is required!\r\n                </mat-error>\r\n            </mat-error>\r\n        <!-- </div> -->\r\n  \r\n        </div>\r\n  \r\n        <div style=\"font-size: 14px\" class=\"col-xs-12 col-sm-12 col-md-6 col-lg-4\">\r\n          <label class=\"form-label\">Billed From<span\r\n              class=\"error-asterisk\">*</span></label>\r\n          <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <textarea matInput rows=\"7\" placeholder=\"Billing Address\" formControlName=\"billingAddress\" required \r\n            [ngClass]=\"{\r\n                    'is-invalid': (f.billingAddress.invalid && f.billingAddress.touched) && submitted }\"></textarea>\r\n          </mat-form-field>\r\n          <mat-error class=\"text-danger\"\r\n            *ngIf=\"(submitted || f.billingAddress.touched) && f.billingAddress.errors?.required\">\r\n            Billing Address Is Required!\r\n          </mat-error>\r\n  \r\n        </div>\r\n      <!-- </div> -->\r\n  \r\n        <div style=\"font-size: 14px\" class=\"col-xs-12 col-sm-12 col-md-6 col-lg-4\">\r\n          <label class=\"form-label\">Mobile No.</label>\r\n          <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <input matInput type=\"text\" (keypress)=\"numberOnly($event)\" placeholder=\"Mobile No.\" autocomplete=\"off\"\r\n              minlength=\"9\" maxlength=\"9\" formControlName=\"mobile\">\r\n          </mat-form-field>\r\n\r\n          <label class=\"form-label\" for=\"Order Date\">Order Date<span class=\"error-asterisk\">*</span></label>\r\n          <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <input matInput required placeholder=\"Order Date\" id=\"Order Date\" [outsideClick]=\"true\" ngModel bsDatepicker\r\n              [(ngModel)]=\"todaysDate\" style=\"text-transform:uppercase;\" formControlName=\"orderDate\" (click)=\"openDatepickerOrderDate()\"\r\n              [bsConfig]=\"{ dateInputFormat : 'DD MMM YYYY', containerClass: 'theme-dark-blue', displayOneMonthRange: true, showWeekNumbers:false }\"\r\n              [ngClass]=\"{\r\n              'is-invalid': (f.orderDate.invalid && f.orderDate.touched) && submitted }\">\r\n            <span>\r\n              <mat-icon class=\"iconcalender\">date_range</mat-icon>\r\n            </span>\r\n          </mat-form-field>\r\n          <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.orderDate.touched) && f.orderDate.errors?.required\">\r\n            Order Date Is Required!\r\n          </mat-error>\r\n        </div>\r\n      </div>\r\n  \r\n      <div class=\"table-responsive my-custom-scrollbar\">\r\n        <table class=\"table table-bordered\">\r\n          <thead class=\"inner-model-table-heading\">\r\n            <tr class=\"font_size font-weight-bold\">\r\n              <th style=\"vertical-align: middle;\" scope=\"col\">#</th>\r\n              <th scope=\"col\" style=\"width: 10%;vertical-align: middle;\">\r\n                SKU<span class=\"text-danger\"> *</span>\r\n              </th>\r\n              <th style=\"vertical-align: middle;\" class=\"text-nowrap\">SKU Description</th>\r\n              <th style=\"vertical-align: middle;\">Unit</th>\r\n  \r\n              <th style=\"vertical-align: middle;\">Quantity</th>\r\n  \r\n              <th style=\"vertical-align: middle;\" scope=\"col\" colspan=\"1\" class=\"text-nowrap\">\r\n                {{ lang.Base_Price_In_Rs }}<span class=\"text-danger\"> *</span>\r\n              </th>\r\n              <th style=\"width: 10%; vertical-align: middle;\" scope=\"col\" colspan=\"1\" class=\"text-nowrap\">\r\n                {{ lang.GST }}<span class=\"text-danger\"> *</span>\r\n              </th>\r\n              <th style=\"vertical-align: middle;\" scope=\"col\" colspan=\"2\" class=\"text-nowrap\" *ngIf=\"isShown\">\r\n                Additional CESS (IN AED)<span class=\"text-danger\"> *</span>\r\n              </th>\r\n              <th style=\"vertical-align: middle;\" class=\"text-nowrap\" scope=\"col \">\r\n                Total (In AED)<span class=\"text-danger text-nowrap\"> *</span>\r\n              </th>\r\n              <th scope=\"col\" class=\"text-nowrap\" style=\"width:8%;vertical-align: middle;\">\r\n                Action<span class=\"text-danger\"> *</span>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n  \r\n          <tbody>\r\n            <tr>\r\n              <td></td>\r\n              <td>\r\n                  <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                    <input type=\"text\" id=\"inp12\" placeholder=\"SKU\" (input)=\"onSearchInputChange($event.target.value)\"\r\n                        matInput [formControl]=\"myControl1\" [matAutocomplete]=\"productAuto\">\r\n                    <mat-icon class=\"m-2\" matSuffix>search</mat-icon>        \r\n                    <mat-autocomplete #productAuto=\"matAutocomplete\">\r\n                        <mat-option *ngFor=\"let option of productOptions | async\" [value]=\"option.itemName\"\r\n                        (onSelectionChange)=\"getGoodsByBarcodeSelected(option.barcode,$event)\">\r\n                        <span style=\"font-size: 12px;\">\r\n                        {{option.itemName | titlecase}}/<b>{{ option.barcode}}</b>\r\n                        </span>\r\n                    </mat-option>\r\n                    </mat-autocomplete>\r\n                </mat-form-field>\r\n  \r\n              </td>\r\n              <td>\r\n                <input type=\"text\" matInput placeholder=\"SKU Description\" required />\r\n              </td>\r\n              <td>\r\n                <input type=\"text\" matInput placeholder=\"Unit\" required />\r\n              </td>\r\n              <td>\r\n                <input type=\"text\" matInput placeholder=\"Quantity\" style=\"width: 5rem;\" required />\r\n              </td>\r\n              <td>\r\n                <input type=\"text\" matInput placeholder=\"Unit Price\" />\r\n              </td>\r\n  \r\n              <td>\r\n                <input type=\"text\" matInput required placeholder=\" %\" />\r\n              </td>\r\n  \r\n              <td>\r\n                <input type=\"text\" matInput placeholder=\"Amount\" style=\"max-width:150px;\" required />\r\n              </td>\r\n              <td></td>\r\n            </tr>\r\n            <tr *ngFor=\"let item of productData;let i=index\">\r\n              <td style=\"vertical-align: middle;\">{{ i + 1 }}</td>\r\n  \r\n              <td>\r\n                {{ item.barcode }}\r\n              </td>\r\n              <td>{{ item.itemName | titlecase}}</td>\r\n              <td class=\"text-center\">\r\n                <input type=\"text\" class=\"unitInput\" [value]=\"item.unit\" value=\"1\" placeholder=\"Unit\" readonly />\r\n              </td>\r\n  \r\n              <td style=\"display:flex;align-items: center;\">\r\n                <a class=\"border-white btn\" \r\n                  (click)=\"changeQuantity('-',i)\">-</a>\r\n                <input type=\"text\" matInput [value]=\"item.quantity\" placeholder=\"Quantity\"\r\n                  (change)=\"changeQuantity('qty',i,$event.target.value)\" style=\"width: 5rem;text-align: center;\"\r\n                  required />\r\n                <a class=\"border-white btn\" \r\n                  (click)=\"changeQuantity('+',i)\">+</a>\r\n              </td>\r\n              <td colspan=\"1\">\r\n                <!-- <input type=\"text\" matInput (change)=\"setPurchasePrice($event.target.value,i)\"> -->\r\n                <p class=\"\">\r\n                  0\r\n                </p>\r\n              </td>\r\n  \r\n              <td colspan=\"1\">\r\n                <!-- <input type=\"text\" matInput n (change)=\"setGST($event.target.value,i)\" [value]=\"item.gstRate\"> -->\r\n                <p class=\"\">\r\n                  0%\r\n                </p>\r\n              </td>\r\n  \r\n              <td style=\"max-width: 150px;display: flex;align-items:center;\">\r\n                <p class=\"mb-0\">AED&nbsp;</p>\r\n                <p class=\"mb-0\">0</p>\r\n                <!-- <p class=\"mb-0\">{{ item.total | number:'1.2-2'}}</p> -->\r\n              </td>\r\n              <td>\r\n                <button type=\"button\" class=\"text-center btnb\" style=\"width: 3rem!important;\"\r\n                  (click)=\"changeQuantity('rm',i)\">\r\n                  <span class=\"bi-trash fs-1\" style=\"color:red\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"\r\n                    title=\"Delete\"></span>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n  \r\n      <!-- <div class=\"row\">\r\n        <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n          <label class=\"form-label\">Purchase Type<span class=\"error-asterisk\">*</span></label>\r\n          <mat-form-field style=\"font-size: 11px\" class=\"example-full-width\" appearance=\"outline\">\r\n            <mat-select required placeholder=\"Purchase Type\" formControlName=\"PurchaseType\"\r\n              (selectionChange)=\"getCredit($event)\" [ngClass]=\"{\r\n              'is-invalid': (f.PurchaseType.invalid && f.PurchaseType.touched) && submitted }\">\r\n              <mat-option value=\"false\">Cash</mat-option>\r\n              <mat-option value=\"true\">Credit</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.PurchaseType.touched) && f.PurchaseType.errors?.required\">\r\n            Purchase Type Is Required!\r\n          </mat-error>\r\n        </div>\r\n  \r\n      </div>\r\n      <div class=\"row\">\r\n        <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n          <label class=\"form-label\">Description</label>\r\n          <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n            <textarea matInput rows=\"5\" formControlName=\"Description\" placeholder=\"Description\"></textarea>\r\n          </mat-form-field>\r\n        </div>\r\n        <div style=\"font-size: 12px mt-2\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4 pt-4\">\r\n          <div class=\"{{imageSrc ? '':'dash'}} \" style=\"height: 79% !important;margin-top: 7px;\">\r\n  \r\n            <div (click)=\"cancelImage()\" *ngIf=\"imageSrc\" class=\"bi bi-x-circle text-danger fs-1 fw-bold\"\r\n              data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"delete image\"></div>\r\n  \r\n            <div *ngIf=\"imageSrc1\">\r\n              <img class=\"m-2\" [src]=\"imageSrc ? imageSrc : ''\" (load)=\"handleImageLoad()\" [class.loaded]=\"imageLoaded\"\r\n                class=\"img-thumbnail text-center\" />\r\n            </div>\r\n            <p *ngIf=\"imageSrc\" class=\"p-2\">{{AddReceiptName}}</p>\r\n            <div class=\"input--file\">\r\n              <span *ngIf=\"!imageSrc\" class=\"fas fa-camera fs-1 mt-3\" style=\"padding-left: 45%\" (click)=\"startUpload()\">\r\n              </span>\r\n              <input name=\"Select File\" type=\"file\" id=\"uploadFile\" (change)=\"handleInputChange($event)\" />\r\n              <div *ngIf=\"!imageSrc\" class=\"mt-1 pl-0\">\r\n                <h2 class=\"text-bold text-center\">Add Receipt</h2>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> \r\n  \r\n      </div> -->\r\n  \r\n  \r\n      <ng-template #addParty let-modal>\r\n        <div class=\"modal-content position-relative\">\r\n          <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n            <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" (click)=\"modalDismiss()\"\r\n              aria-label=\"Close\"></a>\r\n          </div>\r\n          <div class=\"modal-body p-0\">\r\n            <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n              <h2 class=\"mb-1\" style=\"color: #EB8B3F; font-weight: bolder;\" id=\"modalExampleDemoLabel\">Add New Vendor</h2>\r\n            </div>\r\n            <form [formGroup]=\"PartyForm\">\r\n              <div class=\"p-4 pb-0\">\r\n                <div class=\"form-check form-switch mb-0 lh-1 mb-3\">\r\n                  <input class=\"form-check-input\" type=\"checkbox\" [checked]=\"isShowGstFields\"\r\n                    style=\"border:1px solid rgb(201, 199, 199) !important;\" id=\"flexSwitchCheckDefault\"\r\n                    (click)=\"customertoggleShow($event.target.checked)\" />\r\n                  <label class=\"lab text-nowrap p-1\"> As Customer </label>\r\n                </div>\r\n  \r\n                <div class=\"row d-flex justify-content-start\" *ngIf=\"!isShowGstFields\">\r\n  \r\n                  <div class=\"col-sm-12 col-md-6\" *ngIf=\"!isShowGstFields\">\r\n                    <div><mat-label>{{ lang.GSTIN }}<span class=\"error-asterisk\">*</span></mat-label></div>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\" style=\"width: 85%;\">\r\n                      <input type=\"text\" matInput formControlName=\"gstIn\" placeholder=\"{{lang.GSTIN }}\" #input1\r\n                        (keypress)=\"numberOnly($event)\" maxlength=\"15\" (input)=\"validateTRN($event.target.value)\"\r\n                        [ngClass]=\"{'is-invalid': (fp.gstIn.invalid && fp.gstIn.touched) && submittedParty }\" required>\r\n                    </mat-form-field>\r\n  \r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submittedParty && fp.gstIn.errors?.required)\">\r\n                      {{ lang.GSTIN }} is Required!\r\n                    </mat-error>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"fp.gstIn.invalid && (fp.gstIn.dirty || fp.gstIn.touched)\">\r\n                      Please enter the valid {{ lang.GSTIN }} number\r\n                    </mat-error>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"fp.gstIn.errors?.maxlength\">\r\n                      {{ lang.GSTIN }} must be of 15-digits\r\n                    </mat-error>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"fp.gstIn.errors?.minlength\">\r\n                      {{ lang.GSTIN }} must be of 15-digits\r\n                    </mat-error>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"fp.gstIn.errors?.pattern\">\r\n                      {{ lang.GSTIN }} must be valid number\r\n                    </mat-error>\r\n                  </div>\r\n  \r\n                </div>\r\n  \r\n                <div class=\"row d-flex justify-content-start\">\r\n                  <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                    <label class=\"form-label\">Vendor Name<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <input matNativeControl required matInput placeholder=\"Vendor Name\" formControlName=\"partyName\"\r\n                        [ngClass]=\"{\r\n                          'is-invalid': (fp.partyName.invalid && fp.partyName.touched) && submittedParty }\">\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submittedParty || fp.partyName.touched)\">\r\n                      <mat-error *ngIf=\"(submittedParty || fp.partyName.touched) && fp.partyName.errors?.required\">\r\n                        Vendor Name Is Required!\r\n                      </mat-error>\r\n                    </mat-error>\r\n  \r\n                  </div>\r\n  \r\n                  <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                    <label class=\"form-label\">Mobile Number<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <input type=\"text\" placeholder=\"Mobile Number\" matInput formControlName=\"mobile\" minlength=\"9\"\r\n                        maxLength=\"9\" ngxOnlyNumbers [ngClass]=\"{\r\n                            'is-invalid': (fp.mobile.invalid && fp.mobile.touched) && submittedParty }\">\r\n                    </mat-form-field>\r\n  \r\n                    <mat-error class=\"text-danger\"\r\n                      *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.pattern\">\r\n                      Enter a valid mobile number.\r\n                    </mat-error>\r\n                    <mat-error class=\"text-danger\"\r\n                      *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.required\">\r\n                      Mobile Number is required.\r\n                    </mat-error>\r\n                    <mat-error *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.maxlength\">\r\n                      Mobile Number must be of 9-digits\r\n                    </mat-error>\r\n                    <mat-error *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.minlength\">\r\n                      Mobile Number must be of 9-digits\r\n                    </mat-error>\r\n                  </div>\r\n  \r\n                  <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                    <label class=\"form-label\">E-Mail<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <input type=\"email\" placeholder=\"e-mail\" matInput formControlName=\"email\" [ngClass]=\"{\r\n                            'is-invalid': (fp.email.invalid && fp.email.touched) && submittedParty }\">\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\"\r\n                      *ngIf=\"(submittedParty || fp.email.touched) && fp.email.errors?.pattern\">\r\n                      Enter a valid email id.\r\n                    </mat-error>\r\n                    <mat-error class=\"text-danger\"\r\n                      *ngIf=\"(submittedParty || fp.email.touched) && fp.email.errors?.required\">\r\n                      Email id is required.\r\n                    </mat-error>\r\n                  </div>\r\n                </div>\r\n  \r\n                <div class=\"row d-flex justify-content-start\">\r\n                  <div class=\"col-lg-4 col-sm-12 col-md-6\">\r\n                    <label class=\"form-label\">Billing Address<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <textarea matInput required formControlName=\"billingAddress\" placeholder=\"Enter your address\"\r\n                        [ngClass]=\"{\r\n                            'is-invalid': (fp.billingAddress.invalid && fp.billingAddress.touched) && submittedParty }\"></textarea>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submittedParty || fp.billingAddress.touched)\">\r\n                      <mat-error\r\n                        *ngIf=\"(submittedParty || fp.billingAddress.touched) && fp.billingAddress.errors?.required\">\r\n                        Billing Address Is Required!\r\n                      </mat-error>\r\n                    </mat-error>\r\n                  </div>\r\n  \r\n                  <div class=\"col-lg-4 col-sm-12 col-md-6\" *ngIf=\"isShippingAddressinModal\">\r\n                    <label class=\"form-label\">Shipping Address</label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                      <textarea matInput formControlName=\"shippingAddress\" placeholder=\"Enter your address\"></textarea>\r\n                    </mat-form-field>\r\n                  </div>\r\n                </div>\r\n  \r\n                <div class=\"form-check form-check-inline mb-2\">\r\n                  <label class=\"form-check-label fs--1\" for=\"inlineCheckbox1\">Add Shipping Address</label>\r\n                  <input class=\"form-check-input fs--1\" id=\"inlineCheckbox1\" type=\"checkbox\"\r\n                    style=\"border:1px solid rgb(201, 199, 199) !important;\"\r\n                    (change)=\"showShippingAddressinModal($event.target.checked)\" />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button class=\"btn btn-cancel\" (click)=\"modalDismiss()\">Close</button>\r\n            <button class=\"btn btn-save\" (click)=\"addNewParty()\" data-bs-dismiss=\"modal\">Add</button>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n  \r\n    </form>\r\n  </div>","import { TitleCasePipe } from '@angular/common';\r\nimport { Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, tap } from 'rxjs/operators';\r\nimport { CommonService } from 'src/app/core/services/common.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { WarehouseService } from 'src/app/core/services/warehouse.service';\r\nimport { RequestOrderModalComponent } from '../request-order-modal/request-order-modal.component';\r\n//import { AddShippingComponent } from '../add-shipping/add-shipping.component';\r\n//import { EditShippingComponent } from '../edit-shipping/edit-shipping.component';\r\n\r\n@Component({\r\n  selector: 'app-request-order',\r\n  templateUrl: './request-order.component.html',\r\n  styleUrls: ['./request-order.component.scss']\r\n})\r\nexport class RequestOrderComponent implements OnInit {\r\n  private searchSubject = new Subject<string>();\r\n  private searchSubscription: Subscription;\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"))\r\n  shippingList: any[] = [];\r\n  excelFileUpload: any;\r\n  public currentpage: any;\r\n  public totalrow: any;\r\n  public totalPages: any;\r\n  public currentPageNo: number = 0;\r\n  public partyPageSize: number = 5;\r\n  public pagesize: number = 1;\r\n  public count: number = 0;\r\n  shippingIdList: any[] = [];\r\n  selectedIdList: any[] = [];\r\n\r\n  public archiveIconfalse: boolean = false;\r\n  public checkSingleArray: any = [];\r\n  public isChecked: boolean = false;\r\n  public upiCheckedId = [];\r\n  public upiCheckedId1 = [];\r\n  public allSelect: boolean = false;\r\n  public checkSelect: boolean = false;\r\n\r\n  public checkSelectsingle: boolean = false;\r\n\r\n  public checkSelectsinglefalse: boolean = false;\r\n  public checkSelectsingletrue: boolean = false;\r\n  warehouseId: any;\r\n  pageNumberDisplay: any[];\r\n  isLoading: boolean;\r\n  archivedPartyIds: any[];\r\n  unarchivedPartyIds: any[];\r\n  showUnarchiveButton: boolean;\r\n  showDeleteButton: boolean;\r\n  isdeletedParty: boolean;\r\n  selectedTypeFilter: string | null = null;\r\n  isFilterVisible: any;\r\n  @ViewChild('dropdown') dropdown: ElementRef;\r\n  searchKey: string;\r\n\r\n  constructor(public router: Router, public dialog: MatDialog, private commonService: CommonService,\r\n    public route: ActivatedRoute, private warehouseService: WarehouseService,\r\n    public toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAllStockTransfer();\r\n    this.commonService.rowAdded$.subscribe(() => {\r\n      // Fetch the updated list of users\r\n      this.getAllStockTransfer();\r\n    });\r\n\r\n    this.searchSubscription = this.searchSubject\r\n      .pipe(debounceTime(800),\r\n        distinctUntilChanged(),\r\n        tap(() => {\r\n          this.isLoading = true; // Show the loader when the API call is initiated\r\n        })).subscribe(searchKey => {\r\n          // Call the API with the search key\r\n          if (searchKey.length >= 3) {\r\n            this.searchKey = searchKey;\r\n            this.searchShippingList(searchKey.trim());\r\n          } else if (searchKey === '') {\r\n             this.isLoading = false; // Hide the loader if the search key is less than the threshold\r\n            this.getAllStockTransfer()\r\n          } else {\r\n            this.isLoading = false; // Hide the loader if the search key is less than the threshold\r\n          }\r\n        });\r\n  }\r\n\r\n  getAllStockTransfer(searchKey?) {\r\n    this.warehouseService.getAllStockTransfer({data:{},status: '', requesterId: this.currentUser.id, senderId: ''}).then((res) => {\r\n      if(res.success) {\r\n        this.shippingList = res.data;\r\n        // this.currentPageNo = res.data.currentPage;\r\n        // this.totalrow = res.data.totalrows;\r\n        // this.totalPages = res.data.totalPages\r\n      }\r\n    },\r\n    (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: this.titleCasePipe.transform(err.error.error_message),\r\n        });\r\n      }\r\n      else {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Something Went Wrong.\",\r\n        });\r\n      }\r\n\r\n    }) \r\n  }\r\n\r\n  archhiveShippingList(warehouseId: string, isdeleted: boolean) {\r\n    this.warehouseId = warehouseId;\r\n    this.isdeletedParty = isdeleted;\r\n    this.selectedIdList.push(warehouseId);\r\n  }\r\n\r\n  archiveSignleShippingList() {\r\n    // if (this.isdeletedParty) {\r\n    //   this.warehouseService.unArchiveMultiplewarehouses({data: { unArchivewarehouses: this.selectedIdList }, userId: this.currentUser.id}).then((res: any) => {\r\n    //     if (res.success) {\r\n    //       this.toastService.toastMsg({\r\n    //         title: 'Success',\r\n    //         content: \"warehouse Unarchived Successfully!!!\"\r\n    //       });\r\n\r\n    //       this.getAllWarehouse();\r\n    //     }\r\n    //   })\r\n    // }\r\n    // else {\r\n    //   this.warehouseService.deleteMultiplewarehouses({data: { archivewarehouses: this.selectedIdList }, userId: this.currentUser.id}).then((res: any) => {\r\n    //     if (res.success) {\r\n    //       this.toastService.toastMsg({\r\n    //         title: 'Success',\r\n    //         content: \"ShippingList Archived Successfully!!!\"\r\n    //       });\r\n    //       this.getAllStockTransfer();\r\n    //     }\r\n    //   })\r\n    // }\r\n  }\r\n\r\n  onChekedsingleCheck(e, partyId) {\r\n    if (e.target.checked) {\r\n      this.shippingIdList.push(partyId);\r\n      this.checkSingleArray.push(e.target.value);\r\n    } else {\r\n      const index = this.shippingIdList.indexOf(partyId);\r\n      if (index !== -1) {\r\n        this.shippingIdList.splice(index, 1);\r\n        this.checkSingleArray.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    // Clear the archived and unarchived party IDs\r\n    this.archivedPartyIds = [];\r\n    this.unarchivedPartyIds = [];\r\n\r\n    // Update the archived and unarchived party IDs based on the selected parties\r\n    this.shippingIdList.forEach(partyId => {\r\n      const party = this.shippingList.find(item => item.id === partyId);\r\n      if (party) {\r\n        if (party.isDeleted) {\r\n          this.archivedPartyIds.push(partyId);\r\n        } else {\r\n          this.unarchivedPartyIds.push(partyId);\r\n        }\r\n      }\r\n    })\r\n\r\n    // Check if all the selected parties are archived\r\n    const allArchived = this.shippingIdList.every(partyId => {\r\n      const party = this.shippingList.find(item => item.id === partyId);\r\n      return party && party.isDeleted;\r\n    });\r\n\r\n    // Check if all the selected parties are unarchived\r\n    const allUnarchived = this.shippingIdList.every(partyId => {\r\n      const party = this.shippingList.find(item => item.id === partyId);\r\n      return party && !party.isDeleted;\r\n    });\r\n\r\n    // if (allArchived && allUnarchived) {\r\n    if (this.archivedPartyIds.length > 0 && this.unarchivedPartyIds.length > 0) {\r\n      // Show an alert error message to the user\r\n      alert(\"Please select either archived or unarchived ShippingLists.\");\r\n      // Uncheck all the selected parties and header checkbox\r\n      this.shippingIdList = [];\r\n      this.checkSingleArray = [];\r\n      this.checkSelectsingle = false;\r\n      this.upiCheckedId = [];\r\n      this.isChecked = false;\r\n      this.allSelect = false;\r\n      this.checkSelect = false;\r\n      this.checkSelectsingle = false;\r\n\r\n      // Uncheck all the checkboxes in the template\r\n      const checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\r\n      checkboxes.forEach((checkbox) => {\r\n        const inputElement = checkbox as HTMLInputElement;\r\n        inputElement.checked = false;\r\n      });\r\n\r\n    } else if (allArchived) {\r\n      console.log('Archived');\r\n      // Show unarchive button\r\n      this.showUnarchiveButton = true;\r\n      this.showDeleteButton = false;\r\n    } else if (allUnarchived) {\r\n      console.log('Unarchived');\r\n      // Show archive button\r\n      this.showDeleteButton = true;\r\n      this.showUnarchiveButton = false;\r\n    } else {\r\n      // Show error message or handle the case when there are both archived and unarchived parties selected\r\n      alert(\"Please select either archived or unarchived ShippingLists.\");\r\n      // Uncheck all the selected parties and header checkbox\r\n      this.shippingIdList = [];\r\n      this.checkSingleArray = [];\r\n      this.checkSelectsingle = false;\r\n      this.upiCheckedId = [];\r\n      this.isChecked = false;\r\n      this.allSelect = false;\r\n      this.checkSelect = false;\r\n      this.checkSelectsingle = false;\r\n      this.showDeleteButton = false;\r\n      this.showUnarchiveButton = false;\r\n\r\n      // Uncheck all the checkboxes in the template\r\n      const checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\r\n      checkboxes.forEach((checkbox) => {\r\n        const inputElement = checkbox as HTMLInputElement;\r\n        inputElement.checked = false;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  getSingleCheckedId(warehouseId) {\r\n    this.warehouseId = warehouseId;\r\n  }\r\n\r\n  onChekMultiple($event) {\r\n    const isChecked = $event.target.checked;\r\n    if (isChecked) {\r\n      this.shippingIdList = this.shippingList.map(item => item.id);\r\n    } else {\r\n      this.shippingIdList = [];\r\n      this.showDeleteButton = false;\r\n      this.showUnarchiveButton = false\r\n    }\r\n    this.checkSelect = isChecked; // Update the checkbox state in the header\r\n\r\n    let id = $event.target.value;\r\n    this.isChecked = $event.target.checked;\r\n    this.upiCheckedId = this.shippingList.map((item) => {\r\n      if (id === -1) {\r\n        if (this.isChecked == true) {\r\n          this.checkSelectsingle = true;\r\n          return item.id;\r\n        }\r\n        else {\r\n          this.checkSelectsingle = false;\r\n          this.upiCheckedId = [];\r\n        }\r\n      }\r\n    })\r\n    // Clear the archived and unarchived party IDs\r\n    this.archivedPartyIds = [];\r\n    this.unarchivedPartyIds = [];\r\n\r\n    // Update the archived and unarchived party IDs based on the selected parties\r\n    this.shippingIdList.forEach(partyId => {\r\n      const party = this.shippingList.find(item => item.id === partyId);\r\n      if (party) {\r\n        if (party.isDeleted) {\r\n          this.archivedPartyIds.push(partyId);\r\n        } else {\r\n          this.unarchivedPartyIds.push(partyId);\r\n        }\r\n      }\r\n\r\n      // Check if all the selected parties are archived\r\n      const allArchived = this.shippingIdList.every(partyId => {\r\n        const party = this.shippingList.find(item => item.id === partyId);\r\n        return party && party.isDeleted;\r\n      });\r\n      // Check if all the selected parties are unarchived\r\n      const allUnarchived = this.shippingIdList.every(partyId => {\r\n        const party = this.shippingList.find(item => item.id === partyId);\r\n        return party && !party.isDeleted;\r\n      });\r\n\r\n      if (allArchived) {\r\n        // Show unarchive button\r\n        this.showUnarchiveButton = true\r\n        this.showDeleteButton = false;\r\n      } else if (allUnarchived) {\r\n        // Show archive button\r\n        this.showDeleteButton = true;\r\n        this.showUnarchiveButton = false\r\n      } else {\r\n        // Show error message or handle the case when there are both archived and unarchived parties selected\r\n      }\r\n    });\r\n\r\n    if (this.archivedPartyIds.length > 0 && this.unarchivedPartyIds.length > 0) {\r\n      alert(\"Please select either archived or unarchived ShippingLists\");\r\n      // Uncheck all the selected parties and header checkbox\r\n      this.shippingIdList = [];\r\n      this.checkSingleArray = [];\r\n      this.checkSelectsingle = false;\r\n      this.upiCheckedId = [];\r\n      this.isChecked = false;\r\n      this.allSelect = false;\r\n      this.checkSelect = false;\r\n      this.checkSelectsingle = false;\r\n\r\n      // Uncheck all the checkboxes in the template\r\n      const checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\r\n      checkboxes.forEach((checkbox) => {\r\n        const inputElement = checkbox as HTMLInputElement;\r\n        inputElement.checked = false;\r\n      });\r\n\r\n      // Throw an error to prevent further processing\r\n      this.toastService.toastMsg({\r\n        title: 'Warning',\r\n        content: 'Please select either archived or unarchived ShippingLists'\r\n      })\r\n      throw new Error(\"Please select either archived or unarchived ShippingLists\");\r\n    }\r\n  }\r\n\r\n  getUPIcheckId(warehouseId) {\r\n    this.warehouseId = warehouseId;\r\n  }\r\n\r\n  archiveMultipleShippingList() {\r\n    if (this.currentPageNo === 1) {\r\n      this.currentPageNo = this.currentPageNo;\r\n    }\r\n    else {\r\n      if (this.totalPages > this.currentPageNo) {\r\n        this.currentPageNo = this.currentPageNo - 1;\r\n      }\r\n    }\r\n    const requestBody = {\r\n      archiveShippingLists: this.shippingIdList\r\n    };\r\n\r\n    // this.warehouseService.deleteMultiplewarehouses({ data: requestBody, userId: this.currentUser.id }).then((result: any) => {\r\n    //   if (result.success) {\r\n    //     this.getAllStockTransfer();\r\n    //     this.toastService.toastMsg({\r\n    //       title: 'Success',\r\n    //       content: \"ShippingList Archived Successfully!!!\"\r\n    //     });\r\n\r\n    //     this.showDeleteButton = false;\r\n    //     this.showUnarchiveButton = false\r\n    //     this.shippingIdList = []; // Clear the selected party IDs after deletion\r\n    //     this.checkSelect = false // Reset the checkbox state in the header\r\n    //   }\r\n    // }, (err) => {\r\n    //   if (err.error.expose) {\r\n    //     this.toastService.toastMsg({\r\n    //       title: 'Error',\r\n    //       content: this.titleCasePipe.transform(err.error.error_message)\r\n    //     });\r\n    //   } else {\r\n    //     this.toastService.toastMsg({\r\n    //       title: 'Error',\r\n    //       content: \"Something Went Wrong.\"\r\n    //     });\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  showDeleteButtonFunc(): boolean {\r\n    return this.unarchivedPartyIds.length > 0;\r\n  }\r\n\r\n  unArchiveMultipleShippingList() {\r\n    const requestBody = {\r\n      unArchiveShippingLists: this.shippingIdList\r\n    };\r\n    // this.warehouseService.unArchiveMultiplewarehouses({data: requestBody, userId: this.currentUser.id}).then((result: any) => {\r\n    //   if (result.success) {\r\n    //     this.getAllStockTransfer();\r\n    //     this.toastService.toastMsg({\r\n    //       title: 'Success',\r\n    //       content: \"ShippingList Unarchived Successfully!!!\"\r\n    //     });\r\n    //     this.showDeleteButton = false;\r\n    //     this.showUnarchiveButton = false\r\n    //     this.shippingIdList = []; // Clear the selected party IDs after unarchiving\r\n    //     this.checkSelect = false; // Reset the checkbox state in the header\r\n    //   }\r\n    // }, (err) => {\r\n    //   if (err.error.expose) {\r\n    //     this.toastService.toastMsg({\r\n    //       title: 'Error',\r\n    //       content: this.titleCasePipe.transform(err.error.error_message)\r\n    //     });\r\n    //   } else {\r\n    //     this.toastService.toastMsg({\r\n    //       title: 'Error',\r\n    //       content: \"Something Went Wrong.\"\r\n    //     });\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  searchShippingList(searchKey: string) {\r\n    setTimeout(() => {\r\n      if (searchKey.trim() === '') {\r\n        this.getAllStockTransfer();\r\n        this.isLoading = false; \r\n      } else {\r\n        this.isLoading = false; \r\n        this.getAllStockTransfer(searchKey)\r\n        if(this.shippingList.length === 0){\r\n          this.isLoading = false; \r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: searchKey + \" Is Not Found\",\r\n          });\r\n        }\r\n      }\r\n    this.isLoading = false; // Hide the loader after the API call is completed\r\n    }, 500);\r\n  }\r\n\r\n\r\n  onSearchInputChange(searchKey: string) {\r\n    console.log(searchKey);\r\n    // Emit the search key to the searchSubject\r\n    this.searchSubject.next(searchKey.trim());\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    this.excelFileUpload = e.target.files[0];\r\n    const pattern = /\\.(xlsx|xls)$/i; // Pattern to match \".xlsx\" or \".xls\" extension\r\n    if (!pattern.test(this.excelFileUpload.name)) {\r\n      this.toastService.toastMsg({\r\n        title: \"Error\",\r\n        content: \"Invalid Format. Please Select An Excel File.\",\r\n      });\r\n      return;\r\n    }\r\n    if (this.excelFileUpload) {\r\n      let formdata = new FormData();\r\n      formdata.set(\"file\", this.excelFileUpload)\r\n      // this.truckOwnerService.postBulkowner(formdata, this.currentUser.id).then((res) => {\r\n      //   this.toastService.toastMsg({\r\n      //     title: \"Success\",\r\n      //     content: \"Excel Uploaded Successfully\",\r\n      //   });\r\n      //   this.getAllStockTransfer();\r\n      // }, (err) => {\r\n      //   if (err.error.expose) {\r\n      //     this.toastService.toastMsg({\r\n      //       title: \"Error\",\r\n      //       content: this.titleCasePipe.transform(err.error.error_message),\r\n      //     });\r\n      //   }\r\n      //   else if (err.error.status == \"409\" && err.error.expose == false) {\r\n      //     this.toastService.toastMsg({\r\n      //       title: \"Error\",\r\n      //       content: \"List Of Consignments Already Exists\",\r\n      //     });\r\n      //   }\r\n      //   else {\r\n      //     this.toastService.toastMsg({\r\n      //       title: \"Error\",\r\n      //       content: \"Something Went Wrong.\",\r\n      //     });\r\n      //   }\r\n      // });\r\n    }\r\n  }\r\n\r\n  startUpload() {\r\n    var uploadInput = document.getElementById('uploadFile');\r\n    if (uploadInput) {\r\n      var event = new MouseEvent('click', {\r\n        view: window,\r\n        bubbles: false,\r\n        cancelable: true\r\n      });\r\n      uploadInput.dispatchEvent(event);\r\n    } else {\r\n      this.toastService.toastMsg({\r\n        title: 'Error',\r\n        content: \"Upload element not found\"\r\n      });\r\n    }\r\n  }\r\n\r\n  public handlePage(e: any) {\r\n    this.currentPageNo = e.pageIndex;\r\n    this.pagesize = e.pageSize;\r\n\r\n    if (this.shippingList.length > 0) {\r\n      if (this.searchKey !== '') {\r\n        this.partyPageSize = e.pageSize;\r\n        this.searchShippingList(this.searchKey);\r\n      } else {\r\n        this.partyPageSize = e.pageSize;\r\n        this.getAllStockTransfer();\r\n      }\r\n    }\r\n  }\r\n\r\n  addShippingModal(): void {\r\n    const dialogRef: MatDialogRef<RequestOrderModalComponent> = this.dialog.open(RequestOrderModalComponent, {\r\n     // width: '700px',\r\n      height: \"100vh\",\r\n      data: {},\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  editShippingListModal(packageData) {\r\n    const dialogRef: MatDialogRef<RequestOrderModalComponent> = this.dialog.open(RequestOrderModalComponent, {\r\n      // width: '700px',\r\n      height: '100vh',\r\n      data: { packageData: packageData },\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  // isActive(warehouseId, isActive) {\r\n  //   const newStatus = !isActive; // Toggle between '1' and '0'\r\n  //   const payload = {\r\n  //     warehouseId: warehouseId,        \r\n  //   };\r\n  //   this.warehouseService.warehouseToggle({ data: payload, userId: this.currentUser.id })\r\n  //     .then((res) => {\r\n  //       if (res.success) {\r\n  //             if (newStatus) {\r\n  //               this.toastService.toastMsg({\r\n  //                 title: \"Success\",\r\n  //                 content: \"Status Has Changed To Active\",\r\n  //               });\r\n  //               this.getAllStockTransfer()\r\n  //             } else {\r\n  //               this.toastService.toastMsg({\r\n  //                 title: \"Success\",\r\n  //                 content: \"Status Has Changed To Inactive\",\r\n  //               });\r\n  //               this.getAllStockTransfer()\r\n  //             }\r\n  //           }\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       this.toastService.toastMsg({\r\n  //         title: 'Error',\r\n  //         content: this.titleCasePipe.transform(error.error.error_message)\r\n  //       })\r\n  //     });\r\n  // }\r\n\r\n  // Add a method to update the filter value\r\n  updateTypeFilter(filterValue: string | null) {\r\n    if(filterValue === 'ALL') {\r\n      this.selectedTypeFilter = null;\r\n    } else {\r\n      this.selectedTypeFilter = filterValue;\r\n    }\r\n  }\r\n\r\n  toggleFilter() {\r\n    this.isFilterVisible = !this.isFilterVisible;\r\n  }\r\n\r\n  closeDropdown() {\r\n    this.isFilterVisible = false;\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"isLoading\" class=\"loader-container\">\r\n  <div class=\"loader\">\r\n      <div class=\"spinner-border\" role=\"status\">\r\n          <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n  </div>\r\n</div>\r\n<div class=\"container-fluid bg-white p-0\">\r\n  <div class=\"row headerButtons mb-3\" id=\"showoptionHide\">\r\n      <div class=\"flex-item searchBar\">\r\n          <input type=\"search\" id=\"searchInput\" class=\"search-form-control pe-5 my-2\" placeholder=\"Search by names\"\r\n              (input)=\"onSearchInputChange($event.target.value)\" />\r\n      </div>\r\n      <div class=\"navOption-btns flex-item formButtons mx-0\">\r\n          <button id=\"saleButtonPrint1\" class=\"btn text-nowrap my-2\" type=\"button\" (click)=\"addShippingModal()\">\r\n              <i class=\"fas fa-plus me-2\"> </i>Add Request&nbsp;&nbsp;&nbsp;\r\n          </button>            \r\n          <button id=\"saleButtonPrint1\" class=\"btn text-nowrap my-2\" type=\"button\"\r\n              onclick=\"location.href = '';\">\r\n              <i class=\"fas fa-download\"></i>\r\n          </button>\r\n      </div>\r\n  </div>\r\n\r\n  <div class=\"table-container overflow-visible\">\r\n      <div class=\"table-div\" style=\"overflow-x: scroll\">\r\n          <table class=\"table table-responsive\">\r\n              <thead>\r\n                  <tr>\r\n                      <th class=\"text-nowrap\">Date</th>\r\n                      <th class=\"text-nowrap\">Order #</th>\r\n                      <th class=\"text-nowrap\">Warehouse Name</th>\r\n                      <!-- <th class=\"text-nowrap\">Total Quantity</th> -->\r\n                      <th class=\"text-nowrap\">Status</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                  <ng-container *ngFor=\"let item of shippingList; let i = index\">\r\n                      <tr style=\"color: #676398\"\r\n                          [ngStyle]=\"{ 'background-color': item.isDeleted ? '#c7c2de' : i % 2 === 0 ? '#ffffff' : '#f2f2f2' }\"\r\n                          *ngIf=\"selectedTypeFilter === null || item.type === selectedTypeFilter\">\r\n                          <!--<td class=\"text-nowrap\" style=\"vertical-align: middle\">\r\n                              <input class=\"form-check-input\" type=\"checkbox\" [ngClass]=\"{\r\n                                'custom-checkbox': !item.isDeleted,\r\n                                'custom-checkbox deleted': item.isDeleted\r\n                                }\" [checked]=\"shippingIdList.includes(item.id)\" (change)=\"onChekedsingleCheck($event, item.id)\"\r\n                                  [value]=\"item.id\" />\r\n                          </td> -->\r\n                          <td class=\"long-name\" style=\"vertical-align: middle\">\r\n                              {{ item.record?.date | date:\"dd MMM YYYY\" | uppercase }}\r\n                          </td>\r\n                          <td class=\"long-name\" style=\"vertical-align: middle;\">\r\n                              {{ item.record?.orderNo}}\r\n                          </td>\r\n                          <td class=\"long-name\" style=\"vertical-align: middle;\">\r\n                              {{ item.senderData?.firstName}}\r\n                          </td>\r\n                          <!-- <td class=\"long-address\" style=\"vertical-align: middle;\">\r\n                                {{ item.record?.quantity }}\r\n                          </td> -->\r\n                          <td class=\"long-address\" style=\"vertical-align: middle;\"\r\n                          [ngClass]=\"{\r\n                            'gst-status-accepted': item.record?.status === 'ACCEPTED',\r\n                            'gst-status-rejected': item.record?.status === 'REJECTED',\r\n                            'gst-status-pending': item.record?.status === 'PENDING'\r\n                          }\">\r\n                              {{ item.record?.status }}\r\n                          </td>\r\n                          <!-- <td class=\"text-nowrap varticalAlign\">\r\n                              <div class=\"\">\r\n                                  <button class=\"toggle-button\" (click)=\"isActive(item.id, item.isActive)\"\r\n                                      [ngClass]=\"{'active': item.isActive, 'inactive': !item.isActive}\" [disabled]=\"item.isDefault\">\r\n                                      <div class=\"toggle-slider\"></div>\r\n                                  </button>\r\n                              </div>\r\n                          </td> -->\r\n                          <td class=\"text-nowrap\" style=\"text-align: center; vertical-align: middle\">\r\n                              <div>\r\n                                  <button class=\"btn\">\r\n                                      <span class=\"bi bi-eye icon-color iconFontSize ps-2\" data-bs-toggle=\"tooltip\"\r\n                                      data-bs-placement=\"top\" title=\"View\"></span>\r\n                                  </button>\r\n\r\n                                  <!-- <button class=\"btn\">\r\n                                      <span class=\"bi-pencil-square icon-color iconFontSize ps-2\"\r\n                                          (click)=\"editShippingListModal(item)\" data-bs-toggle=\"tooltip\"\r\n                                          data-bs-placement=\"top\" title=\"Edit\"></span>\r\n                                  </button> -->\r\n\r\n                                  <!-- <button class=\"btn mt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#errorDelete-modal\">\r\n                                      <span class=\"material-icons icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                          style=\"color: #fc7643\" (click)=\"archhiveShippingList(item.id, item.isDeleted)\"\r\n                                          data-bs-placement=\"top\" [title]=\"item.isDeleted ? 'Unarchive' : 'Archive'\">{{\r\n                                          item.isDeleted ? \"unarchive\" : \"archive\" }}</span>\r\n                                  </button> -->\r\n                              </div>\r\n                          </td>\r\n                          <!-- <td class=\"text-nowrap\" style=\"text-align: center; vertical-align: middle\"></td> -->\r\n\r\n                      </tr>\r\n                  </ng-container>\r\n              </tbody>\r\n              <tbody *ngIf=\"shippingList.length === 0\">\r\n                  <tr class=\"text-center\">\r\n                      <td colspan=\"10\">\r\n                          <img class=\"image-responsive\"\r\n                              src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\" alt=\"notfound1\"\r\n                              width=\"200\" height=\"150\" />\r\n                      </td>\r\n                  </tr>\r\n              </tbody>\r\n          </table>\r\n          <!-- <mat-paginator sticky class=\"float-right mt-2\" *ngIf=\"shippingList.length > 0\"\r\n              [pageSize]=\"partyPageSize\" [pageSizeOptions]=\"[5, 10, 20, 30]\" [length]=\"totalrow\"\r\n              [pageIndex]=\"currentPageNo\" showFirstLastButtons (page)=\"handlePage($event)\" aria-label=\"Select page\">\r\n          </mat-paginator> -->\r\n      </div>\r\n\r\n      <!-- ultiple Unarchive -->\r\n      <div class=\"modal fade\" id=\"errorUnarchiveSelect-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n              <div class=\"modal-content position-relative\">\r\n                  <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                      <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\"\r\n                          data-bs-dismiss=\"modal\" aria-label=\"Close\"></a>\r\n                  </div>\r\n                  <div class=\"modal-body p-0\">\r\n                      <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                          <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800\"\r\n                              id=\"modalExampleDemoLabel\">\r\n                              <i class=\"fa fa-unlock-alt\" aria-hidden=\"true\"></i> Unarchive\r\n                              Shipping List?\r\n                          </h2>\r\n                      </div>\r\n                      <h4 *ngIf=\"isChecked\" class=\"text-center\">\r\n                          Are you sure to unarchive all Shipping List?\r\n                      </h4>\r\n                      <h4 *ngIf=\"!isChecked\" class=\"text-center\">\r\n                          Are you sure to unarchive all selected Shipping List?\r\n                      </h4>\r\n                  </div>\r\n                  <div class=\"modal-footer justify-content-center\">\r\n                      <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                      <a *ngIf=\"isChecked\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                          (click)=\"unArchiveMultipleShippingList()\">Unarchive</a>\r\n                      <a *ngIf=\"!isChecked\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                          (click)=\"unArchiveMultipleShippingList()\">Unarchive</a>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n\r\n      <!-- ultiple Archive -->\r\n      <div class=\"modal fade\" id=\"errorArchiveSelect-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n              <div class=\"modal-content position-relative\">\r\n                  <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                      <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\"\r\n                          data-bs-dismiss=\"modal\" aria-label=\"Close\"></a>\r\n                  </div>\r\n                  <div class=\"modal-body p-0\">\r\n                      <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                          <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800\"\r\n                              id=\"modalExampleDemoLabel\">\r\n                              <i class=\"fa fa-lock-alt\" aria-hidden=\"true\"></i> Archive\r\n                              Shipping List?\r\n                          </h2>\r\n                      </div>\r\n                      <h4 *ngIf=\"isChecked\" class=\"text-center\">\r\n                          Are you sure to archive all Shipping List?\r\n                      </h4>\r\n                      <h4 *ngIf=\"!isChecked\" class=\"text-center\">\r\n                          Are you sure to archive all selected Shipping List?\r\n                      </h4>\r\n                  </div>\r\n                  <div class=\"modal-footer justify-content-center\">\r\n                      <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                      <a *ngIf=\"isChecked\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                          (click)=\"archiveMultipleShippingList()\">Archive</a>\r\n                      <a *ngIf=\"!isChecked\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\"\r\n                          (click)=\"archiveMultipleShippingList()\">Archive</a>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n\r\n      <!-- Signle archive  -->\r\n      <div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n              <div class=\"modal-content position-relative\">\r\n                  <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                      <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\"\r\n                          data-bs-dismiss=\"modal\" aria-label=\"Close\"></a>\r\n                  </div>\r\n                  <div class=\"modal-body p-0\">\r\n                      <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                          <h2 *ngIf=\"!isdeletedParty\" class=\"mb-1 text-center font-weight-bold\"\r\n                              style=\"font-weight: 800\" id=\"modalExampleDemoLabel\">\r\n                              Archive Shipping List?\r\n                          </h2>\r\n                          <h2 *ngIf=\"isdeletedParty\" class=\"mb-1 text-center font-weight-bold\"\r\n                              style=\"font-weight: 800\" id=\"modalExampleDemoLabel\">\r\n                              Unarchive Shipping List?\r\n                          </h2>\r\n                      </div>\r\n                      <h4 class=\"text-center\" *ngIf=\"!isdeletedParty\">\r\n                          Are You Sure To Archive Shipping List?\r\n                      </h4>\r\n                      <h4 class=\"text-center\" *ngIf=\"isdeletedParty\">\r\n                          Are You Sure To Unarchive Shipping List?\r\n                      </h4>\r\n                  </div>\r\n                  <div class=\"modal-footer justify-content-center\">\r\n                      <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                      <a class=\"btn btn-outline-danger\" *ngIf=\"!isdeletedParty\" (click)=\"archiveSignleShippingList()\"\r\n                          data-bs-dismiss=\"modal\">Archive\r\n                      </a>\r\n                      <a *ngIf=\"isdeletedParty\" class=\"btn btn-outline-warning\" (click)=\"archiveSignleShippingList()\"\r\n                          data-bs-dismiss=\"modal\">Unarchive\r\n                      </a>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n\r\n  </div>\r\n</div>"],"names":[],"sourceRoot":"webpack:///"}