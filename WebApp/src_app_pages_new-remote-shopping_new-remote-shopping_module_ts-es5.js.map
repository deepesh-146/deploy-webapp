{"version":3,"mappings":"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","names":["_angular_core__WEBPACK_IMPORTED_MODULE_3__","GenerateReceiptComponent","remotShopService","saleInvoiceService","remoteShopService","toastService","titleCasePipe","JSON","parse","localStorage","getItem","getGeneratedOrder","currentUser","id","then","res","console","log","generatedReceiptsData","data","receiptId","getSaleInvoiceById","saleProductData","sales_products","invoiceNo","billGstAmount","totalBillAmount","getCustomerProductByOrderId","orderId","orderDataItemsDetails","err","error","expose","toastMsg","title","content","transform","error_message","item","orderDetails","getOrderData","selectors","decls","vars","consts","template","routes","path","component","_remote_shopping_remote_shopping_component__WEBPACK_IMPORTED_MODULE_2__","children","redirectTo","pathMatch","_remote_order_remote_order_component__WEBPACK_IMPORTED_MODULE_0__","_generate_receipt_generate_receipt_component__WEBPACK_IMPORTED_MODULE_1__","routerLinkActiveOptions","exact","NewRemoteShoppingRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_4__","_angular_common__WEBPACK_IMPORTED_MODULE_5__","imports","exports","NewRemoteShoppingModule","_angular_common__WEBPACK_IMPORTED_MODULE_7__","_new_remote_shopping_routing_module__WEBPACK_IMPORTED_MODULE_0__","_angular_forms__WEBPACK_IMPORTED_MODULE_8__","src_app_material_module__WEBPACK_IMPORTED_MODULE_4__","ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_9__","declarations","_remote_order_remote_order_component__WEBPACK_IMPORTED_MODULE_1__","_generate_receipt_generate_receipt_component__WEBPACK_IMPORTED_MODULE_2__","_remote_shopping_remote_shopping_component__WEBPACK_IMPORTED_MODULE_3__","_sales_new_invoice_sales_new_invoice_component__WEBPACK_IMPORTED_MODULE_5__","_angular_core__WEBPACK_IMPORTED_MODULE_6__","RemoteOrderComponent","dialog","getClientPendingOrder","todaysDate","Date","setDate","getDate","src_app_helpers_constant__WEBPACK_IMPORTED_MODULE_0__","orderData","getRemoteOrder1","moment__WEBPACK_IMPORTED_MODULE_1__","format","orderData1","length","searchkey","searchKey","getRemoteOrdersearch","e","getAllclientPendingOrderSearch1","dialogRef","open","_sales_new_invoice_sales_new_invoice_component__WEBPACK_IMPORTED_MODULE_2__","width","height","panelClass","disableClose","position","right","afterClosed","subscribe","result","selectedDate","isNaN","getTime","ctx","RemoteShoppingComponent","_angular_core__WEBPACK_IMPORTED_MODULE_0__","_angular_core__WEBPACK_IMPORTED_MODULE_8__","_r30","SalesNewInvoiceComponent","formBuilder","partyService","router","commonService","profileService","modal","route","ORDERData","src_app_helpers_state_constans__WEBPACK_IMPORTED_MODULE_1__","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","group","gstType","gstIn","partyName","mobile","email","billingAddress","shippingAddress","balanceStatus","isCustomer","getAllParties","getSaleInvoiceNumber","getProfileData","today","newAttribute","unit","ramount","wtax","wotax","index","product","gty","select","fieldArray","push","SaleInvoiceForm","reverseCharge","invoiceDate","gstNo","barcode","credit","gstRate","ewayBillNo","cashSale","subcheckbox","array","shippedFrom","controls","PartyForm","get","i","addRolesPermission","read","getUserProfile","additional","compositeType","legalName","homeNo","primaryAddress","homeno","city","state","district","country","pincode","address","userProfileGSTNo","gstinNo","slice","name","allPartyList","filter","partyList","toLowerCase","indexOf","value","unitValue","splice","checked","isShippingAddress","isShippingAddressinModal","getAllPartiesDetails","partyPagesize","currentPageNo","pageData","filteredOptions","myControl","valueChanges","pipe","filterNames","getPartyByName","response","partyData","rows","partyId","forEach","ele","patchValue","gstStateMatch","supplytype","price","additionalCess","gstInPer","totalPrice","subTotal","productData","element","salePrice","quantity","gstAmount","basePrice","total","isShown","totalGST","gstInRs","getGoodsByBarcode","addDetailsButtonClick","calculationTotal","submitted","sendArray","invoiceDetails","isCashSale","toString","roundOff","userId","lastInvoiceNumber","customerName","rcm","supplyType","placeOfSupply","products","postSaleInvoice","navigate","String","prefix","concat","suffix","gstin","getGstNumber","gstDetails","taxPayerType","isDisabledGST","submittedParty","isShowGstFields","addPartyObject","finalObject","postParty","paramID","reset","dismissAll","showInvoiceGenerateData","patchGenerateRemoteInovice","showPrintBtn","status","printContents","document","getElementById","innerHTML","originalContents","body","window","print","getInvoiceByOrderId","remoteProductData","remoteGSTAmount","remoteTotalBillAmount","event","deleteProductData","isAllChecked","formArr","checkedAll","sign","j","singleChecked","selectedCheckBox","n","charCode","which","keyCode","centered","backdrop","size","close","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_16__","viewQuery"],"sources":["webpack:///src/app/pages/new-remote-shopping/generate-receipt/generate-receipt.component.html","webpack:///src/app/pages/new-remote-shopping/generate-receipt/generate-receipt.component.ts","webpack:///src/app/pages/new-remote-shopping/new-remote-shopping-routing.module.ts","webpack:///src/app/pages/new-remote-shopping/new-remote-shopping.module.ts","webpack:///src/app/pages/new-remote-shopping/remote-order/remote-order.component.html","webpack:///src/app/pages/new-remote-shopping/remote-order/remote-order.component.ts","webpack:///src/app/pages/new-remote-shopping/remote-shopping/remote-shopping.component.ts","webpack:///src/app/pages/new-remote-shopping/remote-shopping/remote-shopping.component.html","webpack:///src/app/pages/new-remote-shopping/sales-new-invoice/sales-new-invoice.component.html","webpack:///src/app/pages/new-remote-shopping/sales-new-invoice/sales-new-invoice.component.ts"],"sourcesContent":["<div class=\"container-fluid\">\r\n\r\n  <div class=\"row\" style=\"width:100% ; overflow-x: auto;\">\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-bordered  fs--1 mb-0\">\r\n          <thead class=\"bg-200 text-900\">\r\n              <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">Order Id</th>\r\n                  <th class=\"text-nowrap\">Customer Name</th>\r\n                  <th class=\"text-nowrap\">Billing Address</th>\r\n                  <th class=\"text-nowrap\">Price</th>\r\n                  <th class=\"text-nowrap\">GST Rate</th>\r\n                  <th class=\"text-nowrap\">Total</th>\r\n                  <th>Action</th>\r\n              </tr>\r\n          </thead>\r\n          <tbody>\r\n              <tr class=\"btn-reveal-trigger text-left\" *ngFor=\"let item of generatedReceiptsData;let i = index\">\r\n                  <td>{{i+1}}</td>\r\n                  <td>{{ item.orderId }}</td>\r\n                  <td>{{ item.customerName | titlecase }}</td>\r\n                  <td>{{ item.billingAddress | titlecase }}</td>\r\n                  <td>₹&nbsp;{{ item.totalBillAmount - item.billGstAmount | number:'1.2-2'}}</td>\r\n                  <td>₹&nbsp;{{ item.billGstAmount | number:'1.2-2'}}</td>\r\n                  <td>₹&nbsp;{{ item.totalBillAmount  | number:'1.2-2'}}</td>\r\n                  <td class=\"text-nowrap\">\r\n                      <button class=\"btn btn-outline-primary btnp\"\r\n                          (click)=\"getOrderDetails(item.sales_products,item.orderId)\" data-bs-toggle=\"modal\"\r\n                          data-bs-target=\"#orderDetails-modal\">Order Details</button>\r\n                  </td>\r\n              </tr>\r\n          </tbody>\r\n          <tbody *ngIf=\"!generatedReceiptsData\">\r\n              <tr class=\"text-center\">\r\n                  <td colspan=\"10\">\r\n                      <h5 class=\"text-nowrap\">No Data Found. Please Create an Order To Be Displayed Here. <span>\r\n                              <a class=\"nav-link\" routerLink=\"/pages/customer/remote-customer\">Start Shopping</a>\r\n                          </span></h5>\r\n                  </td>\r\n              </tr>\r\n          </tbody>\r\n      </table>\r\n  </div>\r\n  </div>\r\n\r\n</div>\r\n<div class=\"modal fade\" id=\"orderDetails-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n      <div class=\"modal-content position-relative\">\r\n          <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n              <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" #closebutton\r\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></a>\r\n          </div>\r\n          <div class=\"modal-body p-0\">\r\n              <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                  <h4 class=\"mb-1\" id=\"modalExampleDemoLabel\" style = \"font-family: 'Poppins';font-weight: 500;\">Order #{{ orderId }}</h4>\r\n              </div>\r\n              <div class=\"table-responsive\">\r\n                  <table class=\"table table-bordered fs--1 mb-0  m-2\">\r\n                      <thead class=\"bg-200 text-900\">\r\n                          <tr>\r\n                              <th scope=\"col\">#</th>\r\n                              <th class=\"text-nowrap\">Item Name</th>\r\n                              <th class=\"text-nowrap\">Quantity</th>\r\n                              <th class=\"text-nowrap\">Price</th>\r\n                              <th class=\"text-nowrap\">GST(in %)</th>\r\n                              <th class=\"text-nowrap\">GST(in Rs.)</th>\r\n                              <th class=\"text-nowrap\">Total</th>\r\n                          </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                          <tr class=\"btn-reveal-trigger text-left\" *ngFor=\"let item of orderDataItemsDetails; let i = index\">\r\n                              <td >{{ i+1 }}</td>\r\n                              <td>{{ item.itemName | titlecase }}</td>\r\n                              <td>{{ item.quantity }}</td>\r\n                              <td>₹&nbsp;{{ item.totalPrice  | number:'1.2-2'}}</td>\r\n                              <td>{{ item.gst }}</td>\r\n                              <td>₹&nbsp;{{ item.gstAmount  | number:'1.2-2'}}</td>\r\n                              <td>₹&nbsp;{{ item.finalAmount  | number:'1.2-2'}}</td>\r\n                          </tr>\r\n                      </tbody>\r\n                      <tbody *ngIf=\"!orderDataItemsDetails\">\r\n                          <tr class=\"text-center\">\r\n                              <td colspan=\"10\">\r\n                                  <h5 class=\"text-nowrap\">404 Not found<span>\r\n                                      </span></h5>\r\n\r\n                              </td>\r\n                          </tr>\r\n                      </tbody>\r\n                  </table>\r\n              </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n              <a class=\"btn btn-cancel\" data-bs-dismiss=\"modal\">Close</a>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { RemoteShopService } from 'src/app/core/services/remote-shop.service';\r\nimport { SaleInvoiceService } from 'src/app/core/services/sale-invoice.service';\r\nimport { Constants } from 'src/app/_helpers/constant';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { TitleCasePipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-generate-receipt',\r\n  templateUrl: './generate-receipt.component.html',\r\n  styleUrls: ['./generate-receipt.component.scss']\r\n})\r\nexport class GenerateReceiptComponent implements OnInit {\r\n\r\n  public currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n  public generatedReceiptsData: any;\r\n  public invoiceNo:any;\r\n  public billGstAmount: number;\r\n  public totalBillAmount: number;\r\n  public saleProductData:any=[];\r\n //public currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n  public myOrderData =[];\r\n  public orderDetails = [];\r\n  public orderId:any;\r\n  public p = 1;\r\n  public currentpage: any;\r\n  public totalrow: any;\r\n  public toatlPages: any;\r\n  public currentPageNo: number = 0;\r\n  public partyPageSize: number = 5;\r\n  public pagesize: number = 1;\r\n  public count: number = 0;\r\n  public orderDataItemsDetails:any;\r\n\r\n  constructor(private remotShopService: RemoteShopService,private saleInvoiceService:SaleInvoiceService,\r\n    private remoteShopService: RemoteShopService,\r\n    private toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getGeneratedOrder();\r\n  }\r\n\r\n  getGeneratedOrder(){\r\n    this.remotShopService.getGeneratedOrder({},this.currentUser.id,1).then((res)=>{\r\n      console.log(res);\r\n      this.generatedReceiptsData = res.data\r\n    })\r\n  }\r\n\r\n  getReceiptById(receiptId){\r\n    this.saleInvoiceService.getSaleInvoiceById({},receiptId).then((res)=>{\r\n      this.saleProductData = res.data.sales_products;\r\n      this.invoiceNo = res.data.invoiceNo;\r\n      this.billGstAmount = res.data.billGstAmount;\r\n      this.totalBillAmount = res.data.totalBillAmount;\r\n    })\r\n  }\r\n\r\n  getOrderData() {\r\n    this.remoteShopService.getCustomerProductByOrderId({}, this.orderId).then((res :any) => {\r\n      this.orderDataItemsDetails = res.data.sales_products\r\n      \r\n    }\r\n    ,(err) => {\r\n         if (err.error.expose) {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: this.titleCasePipe.transform(err.error.error_message),\r\n            });\r\n          //  this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n         }\r\n         else {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Something Went Wrong\",\r\n            });\r\n          // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n        }\r\n       })\r\n  }\r\n  getOrderDetails(item,id) {\r\n    this.orderDetails = item;\r\n    this.orderId = id;\r\n    this.getOrderData()\r\n  }\r\n\r\n}\r\n","import { NgModule, Component } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { RemoteOrderComponent } from './remote-order/remote-order.component';\r\nimport { GenerateReceiptComponent } from './generate-receipt/generate-receipt.component';\r\nimport { RemoteShoppingComponent } from './remote-shopping/remote-shopping.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component: RemoteShoppingComponent,\r\n    children: [\r\n      {\r\n        path:'',\r\n        redirectTo: 'remote-order',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path:'remote-order',\r\n        component:RemoteOrderComponent,\r\n      },\r\n      {\r\n        path:'generate-receipt',\r\n        component:GenerateReceiptComponent,\r\n      },\r\n    ],\r\n    pathMatch: 'prefix',\r\n    data: {\r\n      routerLinkActiveOptions: { exact: true, pathMatch: 'full' }\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes), CommonModule],\r\n  exports: [RouterModule]\r\n})\r\nexport class NewRemoteShoppingRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\n\r\nimport { NewRemoteShoppingRoutingModule } from './new-remote-shopping-routing.module';\r\nimport { RemoteOrderComponent } from './remote-order/remote-order.component';\r\nimport { GenerateReceiptComponent } from './generate-receipt/generate-receipt.component';\r\nimport { RemoteShoppingComponent } from './remote-shopping/remote-shopping.component';\r\nimport { MaterialExampleModule } from 'src/app/material.module';\r\nimport { SalesNewInvoiceComponent } from './sales-new-invoice/sales-new-invoice.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RemoteOrderComponent,\r\n    GenerateReceiptComponent,\r\n    RemoteShoppingComponent,\r\n    SalesNewInvoiceComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    NewRemoteShoppingRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MaterialExampleModule,\r\n    BsDatepickerModule.forRoot(),\r\n\r\n  ]\r\n})\r\nexport class NewRemoteShoppingModule { }\r\n","<div class=\"container-fluid\">\r\n  <div class=\"row headerButtons\" id=\"showoptionHide\">\r\n    <div class=\"flex-item searchBar  mb-3\">\r\n      <mat-form-field appearance=\"outline\" class=\"example-full-width\" style = \"height: 35px;\">\r\n        <input type=\"text\" matInput placeholder=\"Customer's Name\" [(ngModel)]=\"searchKey\"\r\n            (change)=\"getAllRemoteOrderSearch(searchKey)\">\r\n        <span>\r\n            <mat-icon class=\"iconcalender p-1\">search</mat-icon>\r\n        </span>\r\n      </mat-form-field>\r\n    </div>\r\n    <div class=\"flex-item dateRange  mb-3\">\r\n      <mat-form-field style=\"font-size: 14px;height:35px;\" class=\"example-full-width\" appearance=\"outline\">\r\n        <input matInput required ngModel bsDatepicker placeholder=\"Receipt Date.\" [maxDate]=\"today\"\r\n          style=\"text-transform:uppercase!important;\" [(ngModel)]=\"todaysDate\" id=\"datePicker\"\r\n          (ngModelChange)=\"changeDate($event)\" bsDatepicker\r\n          [bsConfig]=\"{\r\n          containerClass: 'theme-dark-blue',\r\n          dateInputFormat: 'DD MMM YYYY',\r\n          showWeekNumbers:false }\" [ngModelOptions]=\"{ standalone: true }\" (click)=\"openDatepicker()\">\r\n        <span>\r\n          <mat-icon class=\"iconcalender p-1\">date_range</mat-icon>\r\n        </span>\r\n      </mat-form-field>\r\n    </div>\r\n</div>\r\n\r\n  <!-- <hr  class = \"my-0 py-0\" /> -->\r\n\r\n  <div class=\"row\" style=\"width:100% ; overflow-x: auto;\">\r\n    <table class=\"table table-responsive table-bordered fs--1 mb-0\">\r\n      <thead class=\"text-900 text-center\">\r\n        <tr class=\"btn-reveal-trigger\">\r\n            <th class=\"text-nowrap\">#</th>\r\n            <th class=\"text-nowrap\">Created On</th>\r\n            <th class=\"text-nowrap\">Customer's Name </th>\r\n            <th class=\"text-nowrap\">Mobile #</th>\r\n            <th class=\"text-nowrap\">Address</th>\r\n            <th class=\"text-nowrap\">Base Amount</th>\r\n            <th class=\"text-nowrap\">GST</th>\r\n            <th class=\"text-nowrap\">Invoice Value</th>\r\n            <th class=\"text-nowrap\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody class=\"text-center\">\r\n        <tr *ngFor=\"let item of orderData; let i = index\"\r\n            style=\"color: #676398 !important\"\r\n            [ngStyle]=\"{'background-color': item.isDeleted ? '#c7c2de' : (i % 2 === 0 ? '#f2f2f2' : '#ffffff')}\">\r\n            <td style=\"vertical-align: middle\">{{i+1}}</td>\r\n            <td style=\"vertical-align: middle\">{{item.createdAt| date:\"dd MMM YYYY\"| uppercase}}</td>\r\n            <td style=\"vertical-align: middle\" class=\"text-nowrap\">{{item.customerName | titlecase}}</td>\r\n            <td style=\"vertical-align: middle\">{{item.mobile}}</td>\r\n            <td style=\"vertical-align: middle\">{{item.billingAddress}}</td>\r\n            <td style=\"vertical-align: middle\">₹&nbsp;{{ item.totalBillAmount - item.billGstAmount  | number:'1.2-2'}}</td>\r\n            <td style=\"vertical-align: middle\">₹&nbsp;{{ item.billGstAmount  | number:'1.2-2'}}</td>\r\n            <td style=\"vertical-align: middle\">₹&nbsp;{{ item.totalBillAmount  | number:'1.2-2'}}</td>\r\n            <td style=\"vertical-align: middle\" class=\"text-center\">\r\n                <span style =\"cursor: pointer;\" (click)=\"openDialog(item.orderId)\"><i class=\"fas fa-receipt\" ></i> </span>\r\n            </td>\r\n        </tr>\r\n      </tbody>\r\n      <tbody *ngIf='orderData == 0'>\r\n          <tr class=\"text-center\">\r\n            <td colspan=\"12\">\r\n              <img class=\"image-responsive\" src=\"../../../assets/img/icons/spot-illustrations/notfound1.png\" alt=\"notfound1\" width=\"200\" height=\"150\" />\r\n            </td>\r\n          </tr>\r\n    </tbody>\r\n    </table>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { RemoteShopService } from \"src/app/core/services/remote-shop.service\";\r\nimport { Constants } from \"src/app/_helpers/constant\";\r\nimport * as moment from \"moment\";\r\nimport { ToastNotificationService } from \"src/app/core/services/toast-notification.service\";\r\nimport { TitleCasePipe } from \"@angular/common\";\r\nimport { SaleInvoiceService } from \"src/app/core/services/sale-invoice.service\";\r\nimport { MatDialog, MatDialogRef } from \"@angular/material/dialog\";\r\nimport { SalesInvoiceComponent } from \"../../Invoice/sales-invoice/sales-invoice.component\";\r\nimport { SalesNewInvoiceComponent } from \"../sales-new-invoice/sales-new-invoice.component\";\r\n\r\n@Component({\r\n  selector: \"app-remote-order\",\r\n  templateUrl: \"./remote-order.component.html\",\r\n  styleUrls: [\"./remote-order.component.scss\"],\r\n})\r\nexport class RemoteOrderComponent implements OnInit {\r\n  public orderData: any;\r\n  public orderData1: any;\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  public searchKey: any;\r\n  public totalbillAmount: any;\r\n  public invoicedate: any;\r\n  public dateRange: Date[];\r\n  public today: Date;\r\n  public selectedDate: any;\r\n  public todaysDate;\r\n  public orderlist: any;\r\n\r\n  constructor(\r\n    private saleInvoiceService: SaleInvoiceService,\r\n    public dialog: MatDialog,\r\n    private remoteShopService: RemoteShopService,\r\n    private toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe\r\n  ) {\r\n    this.getClientPendingOrder();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.todaysDate = new Date(new Date().setDate(new Date().getDate()));\r\n    this.getClientPendingOrder();\r\n  }\r\n\r\n  getClientPendingOrder() {\r\n    this.remoteShopService\r\n      .getGeneratedOrder({}, Constants.currentUser.id, 0)\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.orderData = res.data;\r\n      });\r\n  }\r\n\r\n  getAllclientPendingOrderSearch1() {\r\n    this.remoteShopService\r\n      .getRemoteOrder1(\r\n        {},\r\n        Constants.currentUser.id,\r\n        0,\r\n        moment(this.todaysDate, \"DD-MMM-YYYY\").format(\"YYYY-MM-DD\")\r\n      )\r\n      .then((res) => {\r\n        console.log(res);\r\n        this.orderData1 = res.data;\r\n        if (this.orderData1.length > 0) {\r\n          this.orderData = res.data;\r\n        } else {\r\n          this.getClientPendingOrder();\r\n        }\r\n      });\r\n  }\r\n\r\n  getAllRemoteOrderSearch(searchkey) {\r\n    console.log(this.searchKey);\r\n    if (this.searchKey == \"\") {\r\n      this.toastService.toastMsg({\r\n        title: \"Error\",\r\n        content: \"Please Enter Customer's Name!!!\",\r\n        });\r\n      this.remoteShopService\r\n        .getRemoteOrdersearch({}, this.currentUser.id, 0, searchkey)\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.orderData = res.data;\r\n        });\r\n    } else {\r\n      this.remoteShopService\r\n        .getRemoteOrdersearch({}, this.currentUser.id, 0, searchkey)\r\n        .then(\r\n          (res) => {\r\n            console.log(res);\r\n            this.orderData1 = res.data;\r\n            if (this.orderData1.length > 0) {\r\n              this.orderData = res.data;\r\n            } else {\r\n              this.toastService.toastMsg({\r\n                title: \"Error\",\r\n                content: \"Record Not Found!!!\",\r\n                });\r\n            }\r\n          },\r\n          (err) => {\r\n            if (err.error.expose) {\r\n              this.toastService.toastMsg({\r\n                title: \"Error\",\r\n                content: err.error.error_message,\r\n                });\r\n            } else {\r\n              this.toastService.toastMsg({\r\n                title: \"Error\",\r\n                content: \"Something Went Wrong.\",\r\n                });\r\n            }\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n\r\n  changeDate(e){\r\n    this.getAllclientPendingOrderSearch1();\r\n  }\r\n\r\n  openDialog(orderId:any){\r\n    const dialogRef: MatDialogRef<SalesNewInvoiceComponent> = this.dialog.open(SalesNewInvoiceComponent, {\r\n      width: 'auto',\r\n      height: 'auto',\r\n      data: {orderId:orderId},\r\n      panelClass: 'custom-dialog-addRoles-class',\r\n      disableClose:true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(`Dialog result: ${result}`);\r\n    });\r\n\r\n  }\r\n  openDatepicker() {\r\n    // Check if the current value of taskdate is an \"Invalid Date\"\r\n    const selectedDate = this.todaysDate\r\n    if (isNaN(selectedDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.todaysDate = new Date();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-remote-shopping',\r\n  templateUrl: './remote-shopping.component.html',\r\n  styleUrls: ['./remote-shopping.component.scss']\r\n})\r\nexport class RemoteShoppingComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid bg-white p-4\">\r\n  <div class=\"row mt-2\">\r\n    <div class=\"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n        <div class=\"row mt-3 page-nav-link\">\r\n           <div class=\"links col-xxl-1 col-xl-1 col-lg-2 col-md-3 col-sm-4 col-xs-4\" id=\"productlistLink\">\r\n                <a class=\"mt-3 pb-1 text-nowrap productLink\" routerLink=\"./remote-order\" routerLinkActive='active'>Remote Order</a>\r\n            </div>\r\n            <div class=\"links col-xxl-1 col-xl-1 col-lg-2 col-md-3 col-sm-4 col-xs-4\">\r\n                <a class=\"mt-3 pb-1 text-nowrap productLink\" routerLink=\"./generate-receipt\" routerLinkActive='active'>Generated Receipt</a>\r\n            </div>\r\n            <div class=\"col-xxl-10 col-xl-10 col-lg-11 col-md-6 col-sm-4 col-xs-4\"></div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <hr  class = \"mt-1\" />\r\n  <div>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</div>\r\n","<div class=\"modal-header pt-0\">\r\n  <h1 style=\"color: #EB8B3F; font-weight: 500;\" class=\"modal-title mb-0\">Sale Invoice</h1>\r\n\r\n  <div class=\"addProductButtons\">\r\n\r\n      <button *ngIf=\"this.showPrintBtn == false\"style=\"margin-right: 10px !important;\" type=\"button\" class=\"btn btn-cancel\"\r\n      (click)=\"onCancelModal()\">Cancel</button>\r\n      <button *ngIf=\"this.showPrintBtn == true\" style=\"margin-right: 10px !important;\" type=\"button\" class=\"btn btn-cancel\"\r\n      (click)=\"onCancelModal()\">Done</button>\r\n      <button type=\"submit\" class=\"btn btn-save text-nowrap\"\r\n      *ngIf=\"showInvoiceGenerateData && !showPrintBtn\" (click)=\"patchGenerateRemoteInovice()\">Generate\r\n      Invoice</button>\r\n\r\n    <button type=\"button\" class=\"btn btn-save\" data-bs-toggle=\"modal\"\r\n      data-bs-target=\"#invoice-modal\" *ngIf=\"showPrintBtn\" (click)=\"getInvoiceByOrderId()\">Print</button>\r\n      <!-- <button type=\"button\" class=\"btn btn-save\" (click)=\"postSaleInvoice()\">Save</button> -->\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"modal-body\">\r\n  <form [formGroup]=\"SaleInvoiceForm\">\r\n    <div class=\"card\">\r\n      <!-- <div class=\"card-header bg-light pt-3 pb-3\">\r\n        <p class=\"d-md-inline-block fs--1 mt-3 ml-5\" style=\"font-weight:800;font-size:20px!important;\">\r\n          Sales Invoice\r\n        </p>\r\n      </div>\r\n      <div class=\"progress\" style=\"height: 2px\">\r\n        <div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"33\" aria-valuemin=\"0\" aria-valuemax=\"100\">\r\n        </div>\r\n      </div> -->\r\n      <!-- //new UI CODES here ------------------------------------------------------------------- -->\r\n\r\n      <div class=\"card-body fs--1\">\r\n        <!-- <div class=\"row d-flex justify-content-start\">\r\n          <div class=\"col-sm-2 d-flex\" *ngIf=\"!showInvoiceGenerateData\">\r\n            <div class=\"d-flex\" style=\"font-size: 12px;\">\r\n              <div class=\"form-check padding-left\">\r\n                <input class=\"\" style=\"margin-left: 0px!important\" id=\"inlineCheckbox1\" type=\"checkbox\"\r\n                  formControlName=\"cashSale\" (change)=\"isCashSaleToggle($event.target.checked)\"\r\n                  [disabled]=\"showInvoiceGenerateData\" />\r\n              </div>\r\n              <label class=\"text-nowrap saleText\" style=\"margin-left:4px!important\">Sale/Cash </label>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n\r\n        <div class=\"row\">\r\n          <!-- Transaction Type -->\r\n          <!-- <div class=\"col-sm-12 col-lg-4 col-md-4\">\r\n            <mat-form-field *ngIf=\"!showInvoiceGenerateData && !isCashSale\" style=\" font-size: 11px\"\r\n              class=\"example-full-width\" appearance=\"outline\">\r\n              <mat-label>Transaction Type</mat-label>\r\n              <mat-select disableOptionCentering aria-label=\"Default select example\" formControlName=\"credit\" required\r\n                (selectionChange)=\"getCredit($event)\" placeholder=\"Transaction Type\" [ngClass]=\"{\r\n                  'is-invalid': (f.credit.invalid && f.credit.touched) && submitted }\">\r\n                <mat-option value=\"false\">Cash</mat-option>\r\n                <mat-option value=\"true\">Credit</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n            <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.credit.touched) && f.credit.errors?.required\">\r\n              Transaction Type Is Required!\r\n            </mat-error>\r\n          </div> -->\r\n\r\n          <!-- Select Purchase Invoice For RCM -->\r\n          <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n            <div class=\"d-flex mb-2\" style = \"justify-content: flex-end;align-items: center;\">\r\n              <div class=\"\">\r\n                <label  style = \"font-size:14px;\">Select Purchase Invoice For RCM </label>\r\n              </div>\r\n              <div class=\"form-check form-switch\">\r\n                <input formControlName=\"reverseCharge\" class=\"form-check-input\" id=\"inlineCheckbox1\" type=\"checkbox\" style = \"font-size: 14px;margin: 0px 4px 2px 0px;padding-left: 0px;\"\r\n                  [disabled]=\"showInvoiceGenerateData\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row d-flex justify-content-start\">\r\n          <!-- Party Name -->\r\n          <div class=\"col-md-4 \" *ngIf=\"!isCashSale\">\r\n            <!-- <mat-form-field style=\"font-size: 11px\" class=\" example-full-width\" appearance=\"outline\"\r\n              *ngIf=\"!showInvoiceGenerateData\"> -->\r\n              <mat-label class = \"form-label\">Party Name</mat-label>\r\n              <mat-form-field style=\"font-size: 11px\" class=\" example-full-width\" appearance=\"outline\">\r\n                <input type=\"text\" placeholder=\"Party Name\" aria-label=\"Select Party Name\" matInput\r\n                [formControl]=\"myControl\" (keyup)=\"searchPartyByName($event.target.value)\" [matAutocomplete]=\"auto\"\r\n                [ngClass]=\"{\r\n                          'is-invalid':\r\n                            myControl.invalid && myControl.touched && submitted\r\n                        }\" required>\r\n              <mat-autocomplete #auto=\"matAutocomplete\">\r\n                <mat-option>\r\n                  <a class=\"mobVerify\" style=\"display: inline-block; width: 100%;\" aria-hidden=\"true\" title=\"Party\"\r\n                    (click)=\"openAddPartyModal(addParty)\">\r\n                    Add new party\r\n                  </a>\r\n                </mat-option>\r\n                <mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option.partyName\"\r\n                  (onSelectionChange)=\"setSelectedPartyDeatails(option)\">\r\n                  {{ option.partyName | titlecase }}\r\n                </mat-option>\r\n              </mat-autocomplete>\r\n            </mat-form-field>\r\n            <mat-error class=\"text-danger\" *ngIf=\"\r\n                    (submitted || myControl.touched) && myControl.errors?.required\r\n                  \">\r\n              Party Is Required!\r\n            </mat-error>\r\n          </div>\r\n\r\n          <!-- Gst number -->\r\n          <div class=\"col-md-4 justify-content-between\">\r\n            <mat-label class = \"form-label\">GST</mat-label>\r\n            <mat-form-field style=\"font-size: 11px\" class=\"example-full-width\" appearance=\"outline\">\r\n              <input type=\"text\" matInput placeholder=\"GST\" formControlName=\"gstNo\"\r\n                style=\"text-transform:uppercase;\" required [ngClass]=\"{\r\n                        'is-invalid': (f.gstNo.invalid && f.gstNo.touched) }\" maxlength=\"15\" minlength=\"15\"\r\n                pattern=\"^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}[Zz][0-9A-Za-z]{1}$\">\r\n            </mat-form-field>\r\n            <mat-error class=\"text-danger\" *ngIf=\"(submitted ||f.gstNo.touched) && f.gstNo.errors?.required\">\r\n              Enter a valid GSTIN.\r\n            </mat-error>\r\n            <mat-error *ngIf=\"(submitted ||f.gstNo.touched) && f.gstNo.errors?.pattern || f.gstNo.errors?.minlength\">\r\n              Enter a valid GSTIN.\r\n            </mat-error>\r\n            <mat-error *ngIf=\"(submitted ||f.gstNo.touched) && f.gstNo.errors?.maxlength\">\r\n              Enter a valid GSTIN.\r\n            </mat-error>\r\n            <!-- <mat-error *ngIf=\"(submitted ||f.gstNo.touched) && f.gstNo.errors?.minlength\">\r\n              Enter a valid GST Number.\r\n            </mat-error> -->\r\n          </div>\r\n\r\n          <!-- Tax Invoice No -->\r\n          <div class=\"col-md-4 justify-content-end\">\r\n            <mat-label class = \"form-label\">Tax Invoice #.</mat-label>\r\n            <mat-form-field style=\"font-size: 12px;\" class=\"example-full-width\" appearance=\"outline\">\r\n              <input type=\"text\" placeholder=\"Enter Tax Invoice #.\" matInput formControlName=\"invoiceNo\"\r\n                [disabled]=\"showInvoiceGenerateData\" [ngClass]=\"{\r\n                  'is-invalid': (f.invoiceNo.invalid && f.invoiceNo.touched) && submitted }\" required>\r\n            </mat-form-field>\r\n            <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.invoiceNo.touched) && f.invoiceNo.errors?.required\">\r\n              Tax Invoice Is Required!\r\n            </mat-error>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row d-flex justify-content-start\">\r\n          <!-- Invoice date -->\r\n          <div class=\"col-md-4\">\r\n            <mat-label class = \"form-label\">Invoice Date</mat-label>\r\n            <mat-form-field style=\"font-size: 12px\" class=\"example-full-width\" appearance=\"outline\">\r\n              <input matInput required ngModel bsDatepicker placeholder=\"Receipt Date.\" [maxDate]=\"today\"\r\n                style=\"text-transform:uppercase!important;\" [(ngModel)]=\"todaysDate\" id=\"datePicker\" bsDatepicker\r\n                [bsConfig]=\"{\r\n              containerClass: 'theme-dark-blue',\r\n              dateInputFormat: 'DD MMM YYYY',\r\n              showWeekNumbers:false }\" [ngModelOptions]=\"{ standalone: true }\" [ngClass]=\"{\r\n              'is-invalid': (todaysDate.invalid && todaysDate.touched) && submitted }\"  (click)=\"openDatepicker()\">\r\n              <span>\r\n                <mat-icon class=\"iconcalender\">date_range</mat-icon>\r\n              </span>\r\n            </mat-form-field>\r\n            <mat-error class=\"text-danger\" *ngIf=\"(submitted || todaysDate.touched) && todaysDate.errors?.required\">\r\n              Invoice Date Is Required!\r\n            </mat-error>\r\n          </div>\r\n\r\n          <!-- e-Way Bill No. -->\r\n          <div class=\"col-md-4 justify-content-between\">\r\n            <mat-label class = \"form-label\">e-Way Bill #.</mat-label>\r\n            <mat-form-field style=\"font-size: 11px\" class=\"example-full-width\" appearance=\"outline\">\r\n              <input type=\"text\" matInput placeholder=\"Enter e-way Bill #.\" maxlength=\"12\"\r\n                formControlName=\"ewayBillNo\" [disabled]=\"showInvoiceGenerateData\">\r\n            </mat-form-field>\r\n          </div>\r\n\r\n          <!-- Shipped From -->\r\n          <div class=\"col-md-4 justify-content-between\">\r\n            <mat-label class = \"form-label\">Shipped From(State)</mat-label>\r\n            <mat-form-field style=\" font-size: 11px\" class=\"example-full-width\" appearance=\"outline\">\r\n              <mat-select formControlName=\"shippedFrom\" disableOptionCentering aria-label=\"Default select example\"\r\n                placeholder=\"Select State\">\r\n                <mat-option [value]=\"state\" *ngFor=\"let state of allStates\">{{ state }}</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row mb-3 d-flex justify-content-start\">\r\n          <!-- Billing Address -->\r\n          <div class=\"col-sm-12 col-md-4 col-lg-4\">\r\n            <mat-label class = \"form-label\">Billing Address</mat-label>\r\n            <mat-form-field class=\"example-full-width \" style=\" font-size: 11px\" appearance=\"outline\">\r\n              <textarea matInput rows=\"5\" placeholder=\"Enter Billing Address\" formControlName=\"billingAddress\" required\r\n                disabled [ngClass]=\"{\r\n                  'is-invalid': (f.billingAddress.invalid && f.billingAddress.touched) && submitted }\" readonly></textarea>\r\n            </mat-form-field>\r\n            <mat-error class=\"text-danger\"\r\n              *ngIf=\"(submitted || f.billingAddress.touched) && f.billingAddress.errors?.required\">\r\n              Billing Address Is Required!\r\n            </mat-error>\r\n          </div>\r\n          <!-- Shipping Address -->\r\n          <div *ngIf=\"isShippingAddress\" class=\"col-sm-12 col-md-4 col-lg-4\">\r\n            <mat-label class = \"form-label\">Shipping Address</mat-label>\r\n            <mat-form-field class=\"example-full-width\" style=\" font-size: 11px\" appearance=\"outline\">\r\n              <textarea matInput rows=\"5\" placeholder=\"Enter Shipping Address\" formControlName=\"shippingAddress\"\r\n                [disabled]=\"showInvoiceGenerateData\"></textarea>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <div class=\"row container d-flex justify-content-start\">\r\n          <div class=\"col-md-4 d-flex\" style=\"font-size: 12px;\">\r\n            <div class=\"form-check padding-left\">\r\n              <input class=\"form-check-input\" id=\"inlineCheckbox1\" type=\"checkbox\" [disabled]=\"showInvoiceGenerateData\"\r\n                (change)=\"showShippingAddress($event.target.checked)\" [checked]=\"isShippingAddress\" />\r\n            </div>\r\n            <label style=\"margin-left:1px!important\" class=\"text-nowrap \">Add Shipping Address</label>\r\n\r\n          </div>\r\n        </div> -->\r\n\r\n        <!-- Delete a -->\r\n        <!-- <div class=\"problem mt-3\">\r\n          <ul class=\"problem-nav\">\r\n            <li>\r\n              <div class=\"d-flex justify-content-between mt-1\" style=\"font-size: 12px;\">\r\n                <label>Add Compensation Cess </label>\r\n                <div class=\"form-check form-switch\">\r\n                  <input class=\"form-check-input toggleB mt-1\" style=\"margin-left: 10px!important;\" id=\"inlineCheckbox1\"\r\n                    type=\"checkbox\" (click)=\"toggleShow()\" />\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div> -->\r\n\r\n\r\n\r\n        <!-- Invoice Generate Table for Remote Orders -->\r\n        <div class=\"table-responsive my-custom-scrollbar d-flex justify-content-start row\" style=\"margin-right: 0.1rem;\"\r\n          *ngIf=\"showInvoiceGenerateData\">\r\n          <table class=\"table bg-white table-bordered table-stripped\">\r\n            <thead class=\"table-secondary\">\r\n              <tr class=\"font_size font-weight-bold\">\r\n                <th scope=\"col\" style=\"width: 7% !important;\">\r\n                  #\r\n                </th>\r\n                <th scope=\"col\" style=\"width: 8%\">\r\n                  SKU<span class=\"text-danger\"> *</span>\r\n                </th>\r\n                <th scope=\"col\" class=\"text-nowrap\">\r\n                  SKU Description\r\n                </th>\r\n                <th>Unit</th>\r\n                <th>Quantity</th>\r\n                <th scope=\"col\" class=\"text-nowrap\" colspan=\"1\">\r\n                  Base Price(In Rs.)<span class=\"text-danger\"> *</span>\r\n                </th>\r\n\r\n                <th class=\"text-center\" scope=\"col\" colspan=\"2\">\r\n                  GST<span class=\"text-danger\"> *</span>\r\n                </th>\r\n                <th scope=\"col\" colspan=\"2\" class=\"text-nowrap\">\r\n                  Additional CESS(In Rs.)<span class=\"text-danger\"> *</span>\r\n                </th>\r\n                <th scope=\"col\" class=\"text-nowrap\">\r\n                  Total(In Rs.)<span class=\"text-danger\"> *</span>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"mod\" *ngIf=\"orderData.length > 0\">\r\n              <tr *ngFor=\"let item of orderData;let i=index\">\r\n                <td>{{ i + 1 }}</td>\r\n                <td>{{ item.barcode }}</td>\r\n\r\n                <td>\r\n                  {{ item.itemName }}\r\n                </td>\r\n                <td colspan=\"1\">\r\n                  <input type=\"text\" class=\"unitInput\" [value]=\"item.unit\" value=\"1\" placeholder=\"Unit\"\r\n                    style=\"width: 5rem;\" readonly />\r\n                </td>\r\n                <td colspan=\"1\" class=\"text-center m-auto\">\r\n                  <p class=\"\">{{ item.quantity }}</p>\r\n                </td>\r\n                <td colspan=\"1\">\r\n                  <p class=\"\">₹&nbsp;{{ subTotal  | number:'1.2-2'}}</p>\r\n                </td>\r\n                <td colspan=\"1\">\r\n                  <p class=\"\" style=\"width: 5rem;\">{{ item.gst }}%</p>\r\n                </td>\r\n                <td colspan=\"1\">\r\n                  <p class=\"\" style=\"width: 5rem;\">₹&nbsp;{{ item.gstAmount  | number:'1.2-2'}}\r\n                  </p>\r\n                </td>\r\n                <td colspan=\"1\">\r\n                  <p class=\"\" style=\"width: 5rem;\">{{ item.additionalCess }}% </p>\r\n                </td>\r\n                <td colspan=\"1\">\r\n                  <p class=\"\" style=\"width: 5rem;\">₹&nbsp;{{ item.additionalCess  | number:'1.2-2'}}\r\n                  </p>\r\n                </td>\r\n                <td>\r\n                  <p class=\"\">₹&nbsp;{{ item.finalAmount  | number:'1.2-2'}}</p>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n\r\n\r\n        <div class=\"table-responsive my-custom-scrollbar d-flex justify-content-end\" *ngIf=\"showInvoiceGenerateData\">\r\n          <div class=\"col-lg-8 col-sm-6\"></div>\r\n          <div class=\"col-lg-4 col-sm-4 table-bordered my-custom-scrollbar\" style=\"width: 30%;\">\r\n            <table class=\"table table-bordered  my-custom-scrollbar\">\r\n              <tr>\r\n                <td style=\"text-align:left!important;\">Subtotal</td>\r\n                <td style=\"text-align:right!important;\">₹&nbsp;{{ subTotal | number:'1.2-2'}}</td>\r\n                <!-- <td class=\"p-2\" style=\"width: 50px;\" style=\"text-align:right!important;\">{{ subTotal |\r\n                currency:'INR':'symbol':'1.2-2'}}</td> -->\r\n              </tr>\r\n              <tr>\r\n                <td style=\"text-align:left!important;\">CGST</td>\r\n                <td style=\"text-align:right!important;\">\r\n                  ₹&nbsp;{{ totalGST/2  | number:'1.2-2'}}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td style=\"text-align:left!important;\">SGST</td>\r\n                <td style=\"text-align:right!important;\">\r\n                  ₹&nbsp;{{ totalGST/2  | number:'1.2-2'}}\r\n                </td>\r\n              </tr>\r\n              <!-- <tr>\r\n              <td style=\"text-align:left!important;\">IGST</td>\r\n              <td style=\"text-align:right!important;\">{{\r\n                gstRate/2 + gstRate/2|\r\n                currency:'INR':'symbol':'1.2-2'}}</td>\r\n            </tr> -->\r\n\r\n              <!-- <tr>\r\n              <td class=\"thWidth  p-2\" *ngIf=\"isShown\" style=\"text-align:left!important;\">Additional Cess</td>\r\n              <td class=\"p-2\" style=\"width:50px;\" *ngIf=\"isShown\" style=\"text-align:right!important;\">{{\r\n                additionalCess | currency:'INR':'symbol':'1.2-2'}}</td>\r\n            </tr> -->\r\n              <tr>\r\n                <td style=\"text-align:left!important;\">Total</td>\r\n                <td style=\"text-align:right!important;\">₹&nbsp;{{ total  | number:'1.2-2'}}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <!-- as (Save/Print/Close) -->\r\n        <div class=\"col-12 d-flex  justify-content-end\">\r\n          <div class=\"\" *ngIf=\"!showInvoiceGenerateData\">\r\n            <!-- <a type=\"button\" class=\"btn btn-outline-primary\" style=\"margin-left: 10px;\">Print</a> -->\r\n\r\n            <!-- <a class=\"btn btn-outline-primary dropdown-toggle\" id=\"dropdownMenu2\" type=\"a\" data-bs-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\" aria-expanded=\"false\">\r\n              Share\r\n            </a> -->\r\n            <!-- <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\r\n              <a class=\"dropdown-item\" type=\"a btn-outline-primary\">Print</a>\r\n              <a class=\"dropdown-item\" type=\"a btn-outline-primary\">Share</a>\r\n            </div> -->\r\n          </div>\r\n\r\n\r\n          <!-- Sale invoice for remote order a -->\r\n          <!-- <a type=\"button\" class=\"  btn btn-outline-primary\" style=\"margin-left: 10px;\"\r\n            *ngIf=\"showInvoiceGenerateData && !showPrintBtn\" (click)=\"patchGenerateRemoteInovice()\">Generate\r\n            Invoice</a> -->\r\n\r\n          <!-- <a type=\"button\" class=\"btn btn-primary\" style=\"margin-left: 10px;\" data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#invoice-modal\" *ngIf=\"showPrintBtn\" (click)=\"getInvoiceByOrderId()\">Print</a> -->\r\n          <!-- *ngIf=\"showPrintBtn\" -->\r\n        </div>\r\n\r\n        <!-- Add New Party Modal -->\r\n        <ng-template #addParty let-modal>\r\n          <div class=\"modal-content position-relative\">\r\n            <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n              <a type=\"button\" class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" (click)=\"modalDismiss()\"\r\n                aria-label=\"Close\"></a>\r\n            </div>\r\n            <div class=\"modal-body p-0\">\r\n              <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                <h4 class=\"mb-1\" id=\"modalExampleDemoLabel\">Add New Party</h4>\r\n              </div>\r\n              <form [formGroup]=\"PartyForm\">\r\n                <div class=\"p-4 pb-0\">\r\n                  <div class=\"form-check form-switch mb-0 lh-1 mb-3\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" [checked]=\"isShowGstFields\"\r\n                      id=\"flexSwitchCheckDefault\" (click)=\"customertoggleShow($event.target.checked)\" />\r\n                    <label class=\"lab text-nowrap p-1\"> As Customer </label>\r\n                  </div>\r\n\r\n                  <div class=\"row d-flex justify-content-start\" *ngIf=\"!isShowGstFields\">\r\n                    <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                      <mat-label class = \"form-label\">GST</mat-label>\r\n                      <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matInput required formControlName=\"gstIn\" (change)=\"getGstNumber($event.target.value)\"\r\n                          maxlength=\"15\" minlength=\"15\" placeholder=\"GST\"\r\n                          pattern=\"^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}[Zz][0-9A-Za-z]{1}$\"\r\n                          placeholder=\"GST\" style=\"text-transform:uppercase\">\r\n                      </mat-form-field>\r\n                      <mat-error *ngIf=\"(submittedParty ||fp.gstIn.touched) && fp.gstIn.errors?.required\">\r\n                        Enter a valid GSTIN.\r\n                      </mat-error>\r\n\r\n                      <mat-error\r\n                        *ngIf=\"(submittedParty ||fp.gstIn.touched) && fp.gstIn.errors?.pattern || fp.gstIn.errors?.minlength\">\r\n                        Enter a valid GSTIN.\r\n                      </mat-error>\r\n                      <mat-error *ngIf=\"(submittedParty ||fp.gstIn.touched) && fp.gstIn.errors?.maxlength\">\r\n                        Enter a valid GSTIN.\r\n                      </mat-error>\r\n                      <!-- <mat-error *ngIf=\"(submittedParty ||fp.gstIn.touched) && fp.gstIn.errors?.minlength\">\r\n                        Enter a valid GSTIN.\r\n                      </mat-error> -->\r\n                    </div>\r\n                    <div style=\" font-size: 12px\" class=\" col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                      <!-- <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                          <mat-label>GST Type</mat-label>\r\n                          <select class=\"mod\" matNativeControl required formControlName=\"gstType\"\r\n                            [disabled]=\"!isDisabledGST\" [ngClass]=\"{\r\n                              'is-invalid': (fp.gstType.invalid && fp.gstType.touched) && submittedParty }\">\r\n                              <mat-option value=\"Regular\">Regular</mat-option>\r\n                              <mat-option value=\"Composite\">Composite</mat-option>\r\n                              <mat-option value=\"Exemptedr\">Exempted</mat-option> -->\r\n                      <!-- <option>Composite</option> -->\r\n                      <!-- <option>Exempted</option> -->\r\n                      <!-- </select>\r\n                        </mat-form-field>\r\n                        <mat-error class=\"text-danger\" *ngIf=\"(submittedParty || fp.gstType.touched)\">\r\n                          <mat-error *ngIf=\"fp.gstType.errors?.required\">\r\n                            GST Type Is Required!\r\n                          </mat-error>\r\n                      </mat-error> -->\r\n                      <mat-label class = \"form-label\">GST Type</mat-label>\r\n                      <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <mat-select matNativeControl required formControlName=\"gstType\" disableOptionCentering\r\n                          placeholder=\"GST Type\" [disabled]=\"!isDisabledGST\">\r\n                          <mat-option value=\"REGULAR\">Regular</mat-option>\r\n                          <mat-option value=\"COMPOSITE\">Composite</mat-option>\r\n                          <mat-option value=\"EXEMPTED\">Exempted</mat-option>\r\n                        </mat-select>\r\n                      </mat-form-field>\r\n                      <mat-error *ngIf=\"(submittedParty ||fp.gstType.touched) && fp.gstType.errors?.required\">\r\n                        GST Type Is Required!\r\n                      </mat-error>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"row d-flex justify-content-start\">\r\n                    <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                      <mat-label class = \"form-label\">Party Name</mat-label>\r\n                      <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matNativeControl required matInput placeholder=\"Party Name\" formControlName=\"partyName\"\r\n                          [ngClass]=\"{\r\n                            'is-invalid': (fp.partyName.invalid && fp.partyName.touched) && submittedParty }\">\r\n                      </mat-form-field>\r\n                      <mat-error class=\"text-danger\" *ngIf=\"(submittedParty || fp.partyName.touched)\">\r\n                        <mat-error *ngIf=\"(submittedParty || fp.partyName.touched) && fp.partyName.errors?.required\">\r\n                          Party Name Is Required!\r\n                        </mat-error>\r\n                      </mat-error>\r\n\r\n                    </div>\r\n                    <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                      <mat-label class = \"form-label\">Mobile #</mat-label>\r\n                      <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input type=\"text\" placeholder=\"Mobile #\" matInput formControlName=\"mobile\" minlength=\"10\"\r\n                          maxLength=\"10\" ngxOnlyNumbers [ngClass]=\"{\r\n                              'is-invalid': (fp.mobile.invalid && fp.mobile.touched) && submittedParty }\">\r\n                      </mat-form-field>\r\n\r\n                      <mat-error class=\"text-danger\"\r\n                        *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.pattern\">\r\n                        Enter a valid mobile number.\r\n                      </mat-error>\r\n                      <mat-error class=\"text-danger\"\r\n                        *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.required\">\r\n                        Mobile # is required.\r\n                      </mat-error>\r\n                      <mat-error *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.maxlength\">\r\n                        Mobile # must be of 10-digits\r\n                      </mat-error>\r\n                      <mat-error *ngIf=\"(submittedParty || fp.mobile.touched) && fp.mobile.errors?.minlength\">\r\n                        Mobile # must be of 10-digits\r\n                      </mat-error>\r\n                    </div>\r\n                    <div style=\"font-size: 12px\" class=\"col-xs-12 col-sm-12 col-md-4 col-lg-4\">\r\n                      <mat-label class = \"form-label\">E-Mail</mat-label>\r\n                      <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input type=\"email\" placeholder=\"e-mail\" matInput formControlName=\"email\" [ngClass]=\"{\r\n                              'is-invalid': (fp.email.invalid && fp.email.touched) && submittedParty }\">\r\n                      </mat-form-field>\r\n                      <mat-error class=\"text-danger\"\r\n                        *ngIf=\"(submittedParty || fp.email.touched) && fp.email.errors?.pattern && fp.email.errors?.email\">\r\n                        Enter a valid email id.\r\n                      </mat-error>\r\n                      <mat-error class=\"text-danger\"\r\n                        *ngIf=\"(submittedParty || fp.email.touched) && fp.email.errors?.required\">\r\n                        Email id is required.\r\n                      </mat-error>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"row d-flex justify-content-start\">\r\n                    <div class=\"col-lg-4 col-sm-12 col-md-6\">\r\n                      <mat-label class = \"form-label\">Billing Address</mat-label>\r\n                      <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <textarea matInput required formControlName=\"billingAddress\" placeholder=\"Enter your address\"\r\n                          [ngClass]=\"{\r\n                              'is-invalid': (fp.billingAddress.invalid && fp.billingAddress.touched) && submittedParty }\"></textarea>\r\n                      </mat-form-field>\r\n                      <mat-error class=\"text-danger\" *ngIf=\"(submittedParty || fp.billingAddress.touched)\">\r\n                        <mat-error\r\n                          *ngIf=\"(submittedParty || fp.billingAddress.touched) && fp.billingAddress.errors?.required\">\r\n                          Billing Address Is Required!\r\n                        </mat-error>\r\n                      </mat-error>\r\n                    </div>\r\n\r\n                    <div class=\"col-lg-4 col-sm-12 col-md-6\" *ngIf=\"isShippingAddressinModal\">\r\n                      <mat-label class = \"form-label\">Shipping Address</mat-label>\r\n                      <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <textarea matInput formControlName=\"shippingAddress\" placeholder=\"Enter your address\"></textarea>\r\n                      </mat-form-field>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-check form-check-inline mb-2\">\r\n                    <label class=\"form-label form-check-label fs--1\" for=\"inlineCheckbox1\">Add Shipping Address</label>\r\n                    <input class=\"form-check-input fs--1\" id=\"inlineCheckbox1\" type=\"checkbox\"\r\n                      (change)=\"showShippingAddressinModal($event.target.checked)\" />\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"modalDismiss()\">Close</button>\r\n              <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"addNewParty()\" data-bs-dismiss=\"modal\">Add\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n\r\n        <!-- Print Modal -->\r\n\r\n        <div class=\"modal fade\" #closebutton id=\"invoice-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n          <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n              <div class=\"modal-content position-relative\">\r\n                  <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                      <button  type=\"button\" class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" aria-label=\"Close\"   data-bs-dismiss=\"modal\" (click)=\"closeModal()\">\r\n                        </button>\r\n                  </div>\r\n\r\n                  <div class=\"modal-body p-0\">\r\n                    <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                      <div class=\"row justify-content-between align-items-center\">\r\n                        <div class=\"col-md\">\r\n                          <h4 class=\"mb-2 mb-md-0\">Order #{{ invoiceNo }}</h4>\r\n                        </div>\r\n\r\n                        <div class=\"col-auto\" data-bs-dismiss=\"modal\">\r\n                          <a type=\"button\" class=\"btn btn-falcon-default btn-sm me-1 mb-2 mb-sm-0 \"  (click)=\"onPrint()\" ><span\r\n                              class=\"fas fa-print me-1\" (click)=\"onPrint()\" > </span>Print</a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"container\">\r\n                      <div class=\"card mb-3\" id=\"panel\">\r\n                        <div class=\"card-body\">\r\n                          <h2 class=\"mb-3 text-center\">Tax Invoice</h2>\r\n                          <div class=\"row justify-content-betweenxt-center mb-3\">\r\n                            <div class=\"col-sm-6 text-sm-start\">\r\n                              <h3>To:</h3>\r\n                              <h5>{{ customerName }}</h5>\r\n                              <p class=\"fs--1 mb-0\">{{ billingAddress }}<br /></p>\r\n                            </div>\r\n                            <div class=\"col text-sm-end mt-3 mt-sm-0\">\r\n                              <h3>From:</h3>\r\n                              <h5>{{ legalName }}</h5>\r\n                              <p class=\"fs--1 mb-0\">{{ homeNo }} {{address }}, {{ district }}<br />{{ city }},{{ state |\r\n                                titlecase}}, {{ country }}</p>\r\n                            </div>\r\n                            <div class=\"col-12\">\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"table-responsive scrollbar mt-4 fs--1\">\r\n                            <table class=\"table table-striped table-bordered\">\r\n                              <thead class=\"light\">\r\n                                <tr class=\"bg-primary text-white dark__bg-1000\">\r\n                                  <th class=\"border-0 text-white\">Products</th>\r\n                                  <th class=\"border-0 text-center text-white\">Quantity</th>\r\n                                  <th class=\"border-0 text-end text-white\">Rate</th>\r\n                                  <th class=\"border-0 text-end text-white\">GST(in Rs.)</th>\r\n                                  <th class=\"border-0 text-end text-white\">Amount</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                <tr *ngFor=\"let i of remoteProductData\">\r\n                                  <td class=\"align-middle\">\r\n                                    {{ i.itemName | titlecase }}\r\n                                  </td>\r\n                                  <td class=\"align-middle text-center\">{{ i.quantity }}</td>\r\n                                  <td class=\"align-middle text-end\">₹&nbsp;{{ i.totalPrice  | number:'1.2-2'}}</td>\r\n                                  <td class=\"align-middle text-end\">₹&nbsp;{{ i.gstAmount  | number:'1.2-2'}}</td>\r\n                                  <td class=\"align-middle text-end\">₹&nbsp;{{ i.finalAmount  | number:'1.2-2'}}</td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                          <div class=\"row\">\r\n                            <div class=\"col-sm-6 col-md-6 col-lg-6\"></div>\r\n                            <div class=\"col-sm-6 col-md-6 col-lg-6\">\r\n                              <div class=\"table-responsive scrollbar fs--1\">\r\n                                <table class=\"table table-striped\">\r\n                                  <thead class=\"light\">\r\n                                    <tr class=\"bg-primary text-white dark__bg-1000\">\r\n                                      <th class=\"border-0 text-white\">Tax Type</th>\r\n                                      <th class=\"border-0 text-center\"></th>\r\n                                      <th class=\"border-0 text-center text-white\">Tax Amount</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    <tr>\r\n                                      <td class=\"align-middle\">SGST</td>\r\n                                      <td></td>\r\n                                      <td class=\"align-middle text-center\">₹&nbsp;{{ remoteGSTAmount / 2  | number:'1.2-2'}}\r\n                                      </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                    </tr>\r\n                                    <tr>\r\n                                      <td class=\"align-middle\">CGST</td>\r\n                                      <td></td>\r\n                                      <td class=\"align-middle text-center\">₹&nbsp;{{ remoteGSTAmount / 2  | number:'1.2-2'}}\r\n                                      </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                      <td class=\"align-middle\">Total</td>\r\n                                      <td></td>\r\n                                      <td class=\"align-middle text-center\">\r\n                                        ₹&nbsp;{{ remoteTotalBillAmount  | number:'1.2-2'}}\r\n                                      </td>\r\n                                    </tr>\r\n                                  </tbody>\r\n                                </table>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"card-footer bg-light\">\r\n                          <p class=\"fs--1 mb-0\"><strong>Notes: </strong>We really appreciate your business and if there’s\r\n                            anything else we\r\n                            can\r\n                            do, please let us know!</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  </div>\r\n                  </div>\r\n                  </div>\r\n\r\n\r\n\r\n\r\n        <div class=\"modal fade\" id=\"invoice-modal2\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n          <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n            <div class=\"modal-content position-relative\">\r\n              <div class=\"position-absolute top-0 end-0 mt-2 me-2\">\r\n                <a type=\"button\" class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" #close></a>\r\n              </div>\r\n              <div class=\"modal-body p-0\">\r\n                <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                  <div class=\"row justify-content-between align-items-center\">\r\n                    <div class=\"col-md\">\r\n                      <h4 class=\"mb-2 mb-md-0\">Order #{{ invoiceNo }}</h4>\r\n                    </div>\r\n\r\n                    <div class=\"col-auto\" data-bs-dismiss=\"modal\">\r\n                      <a  type=\"button\" class=\"btn btn-falcon-default btn-sm me-1 mb-2 mb-sm-0 \"  (click)=\"onPrint()\" ><span\r\n                          class=\"fas fa-print me-1\" (click)=\"onPrint()\" > </span>Print</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"container\">\r\n                  <div class=\"card mb-3\" id=\"panel\">\r\n                    <div class=\"card-body\">\r\n                      <h2 class=\"mb-3 text-center\">Tax Invoice</h2>\r\n                      <div class=\"row justify-content-betweenxt-center mb-3\">\r\n                        <div class=\"col-sm-6 text-sm-start\">\r\n                          <h3>To:</h3>\r\n                          <h5>{{ customerName }}</h5>\r\n                          <p class=\"fs--1 mb-0\">{{ billingAddress }}<br /></p>\r\n                        </div>\r\n                        <div class=\"col text-sm-end mt-3 mt-sm-0\">\r\n                          <h3>From:</h3>\r\n                          <h5>{{ legalName }}</h5>\r\n                          <p class=\"fs--1 mb-0\">{{ homeNo }} {{address }}, {{ district }}<br />{{ city }},{{ state |\r\n                            titlecase}}, {{ country }}</p>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"table-responsive scrollbar mt-4 fs--1\">\r\n                        <table class=\"table table-striped table-bordered\">\r\n                          <thead class=\"light\">\r\n                            <tr class=\"bg-primary text-white dark__bg-1000\">\r\n                              <th class=\"border-0 text-white\">Products</th>\r\n                              <th class=\"border-0 text-center text-white\">Quantity</th>\r\n                              <th class=\"border-0 text-end text-white\">Rate</th>\r\n                              <th class=\"border-0 text-end text-white\">GST(in Rs.)</th>\r\n                              <th class=\"border-0 text-end text-white\">Amount</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr *ngFor=\"let i of remoteProductData\">\r\n                              <td class=\"align-middle\">\r\n                                {{ i.itemName | titlecase }}\r\n                              </td>\r\n                              <td class=\"align-middle text-center\">{{ i.quantity }}</td>\r\n                              <td class=\"align-middle text-end\">₹&nbsp;{{ i.totalPrice  | number:'1.2-2'}}</td>\r\n                              <td class=\"align-middle text-end\">₹&nbsp;{{ i.gstAmount | number:'1.2-2'}}</td>\r\n                              <td class=\"align-middle text-end\">₹&nbsp;{{ i.finalAmount  | number:'1.2-2'}}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                      <div class=\"row\">\r\n                        <div class=\"col-sm-6 col-md-6 col-lg-6\"></div>\r\n                        <div class=\"col-sm-6 col-md-6 col-lg-6\">\r\n                          <div class=\"table-responsive scrollbar fs--1\">\r\n                            <table class=\"table table-striped\">\r\n                              <thead class=\"light\">\r\n                                <tr class=\"bg-primary text-white dark__bg-1000\">\r\n                                  <th class=\"border-0 text-white\">Tax Type</th>\r\n                                  <th class=\"border-0 text-center\"></th>\r\n                                  <th class=\"border-0 text-center text-white\">Tax Amount</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                <tr>\r\n                                  <td class=\"align-middle\">SGST</td>\r\n                                  <td></td>\r\n                                  <td class=\"align-middle text-center\">₹&nbsp;{{ remoteGSTAmount / 2  | number:'1.2-2'}}\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                </tr>\r\n                                <tr>\r\n                                  <td class=\"align-middle\">CGST</td>\r\n                                  <td></td>\r\n                                  <td class=\"align-middle text-center\">₹&nbsp;{{ remoteGSTAmount / 2  | number:'1.2-2'}}\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <td class=\"align-middle\">Total</td>\r\n                                  <td></td>\r\n                                  <td class=\"align-middle text-center\">\r\n                                    ₹&nbsp;{{ remoteTotalBillAmount  | number:'1.2-2'}}\r\n                                  </td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"card-footer bg-light\">\r\n                      <p class=\"fs--1 mb-0\"><strong>Notes: </strong>We really appreciate your business and if there’s\r\n                        anything else we can do, please let us know!</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button type=\"button\" class=\"btn btn-outline-primary\" data-bs-target=\"#invoice-modal\">Close s</button>\r\n              <button  type=\"button\" class=\"btn btn-cancel\" data-bs-dismiss=\"modal\">Close</button>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </form>\r\n\r\n\r\n\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { TitleCasePipe } from '@angular/common';\r\nimport { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Observable, ObservableLike } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { Constants } from 'src/app/_helpers/constant';\r\nimport { StateConstants } from 'src/app/_helpers/state-constans';\r\nimport { CommonService } from 'src/app/core/services/common.service';\r\nimport { PartyService } from 'src/app/core/services/party.service';\r\nimport { ProfileService } from 'src/app/core/services/profile.service';\r\nimport { RemoteShopService } from 'src/app/core/services/remote-shop.service';\r\nimport { SaleInvoiceService } from 'src/app/core/services/sale-invoice.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\n//import { MatDialogRef } from \"@angular/material/dialog\";\r\n\r\n@Component({\r\n  selector: 'app-sales-new-invoice',\r\n  templateUrl: './sales-new-invoice.component.html',\r\n  styleUrls: ['./sales-new-invoice.component.scss']\r\n})\r\nexport class SalesNewInvoiceComponent implements OnInit {\r\n  @ViewChild(\"closebutton\") closebutton;\r\n  public gstRate = 0;\r\n  public gstAmount = 0;\r\n  public Units = Constants.Units;\r\n  public unitValue: any;\r\n  public index: any;\r\n  public product: any;\r\n  public amount: any;\r\n  public qty: any;\r\n  public billNo: any;\r\n  public allStates = StateConstants.states;\r\n  public unit: any;\r\n  public wtax: any;\r\n  public wotax: any;\r\n  public ramount: any;\r\n  public formControl = new FormControl(new Date());\r\n  public ngModelDate = new Date();\r\n  public isShippingAddress: boolean;\r\n  public currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  public partyData: any;\r\n  public allPartyList: any = [];\r\n  public partyId: any;\r\n  public today: Date;\r\n  public selectedClient: any;\r\n  public productData: any = [];\r\n  public sendArray: any = [];\r\n  public taxRate: any;\r\n  public maxDate: Date;\r\n  public fieldArray: Array<any> = [];\r\n  public newAttribute: any = {};\r\n  public SaleInvoiceForm: any;\r\n  public subTotal = 0;\r\n  public totalGST = 0;\r\n  public total = 0;\r\n  public todaysDate;\r\n  public invoiceNo;\r\n  public lastInvoiceNumber;\r\n  public invoiceDate;\r\n  public gstType: any;\r\n  public gstInRs: any;\r\n  public gstInPer: any;\r\n  public additionalCess: number = 0;\r\n  public myControl = new FormControl();\r\n  public isShown: boolean = false;\r\n  public mask = [\r\n    /\\d/,\r\n    /\\d/,\r\n    /\\d/,\r\n    /\\d/,\r\n    \" \",\r\n    /\\d/,\r\n    /\\d/,\r\n    /\\d/,\r\n    /\\d/,\r\n    \" \",\r\n    /\\d/,\r\n    /\\d/,\r\n    /\\d/,\r\n    /\\d/,\r\n  ];\r\n  public filteredOptions: Observable<string[]>;\r\n  public partyName: any;\r\n  public compositeType: any;\r\n  public isShowGstFields: boolean = false;\r\n  public gstDetails: any;\r\n  public isShippingAddressinModal: boolean = false;\r\n  public orderId: any;\r\n  public orderData: any;\r\n  public showInvoiceGenerateData: boolean = false;\r\n  public showPrintBtn: boolean = false;\r\n  public remoteProductData = [];\r\n  public remoteGSTAmount: any;\r\n  public remoteTotalBillAmount: any;\r\n  public legalName: any;\r\n  public homeNo: any;\r\n  public city: string;\r\n  public state: string;\r\n  public district: any;\r\n  public pincode: number;\r\n  public country: string;\r\n  public address: any;\r\n  public billingAddress: any;\r\n  public customerName: string;\r\n  public ismodelShow: boolean = false;\r\n  public isCashSale: boolean = false;\r\n  public selectedCheckBox: boolean = false;\r\n  public checkedAll: boolean = false;\r\n  public singleChecked: boolean = false;\r\n  public read: boolean;\r\n  public deleteProductData: any = [];\r\n  public isAllChecked: boolean = false;\r\n  public totalPrice: any;\r\n  public isDisabledGST: boolean = true;\r\n  public barcode: any;\r\n  public submitted: boolean = false;\r\n  public submittedParty: boolean = false;\r\n  public currentPageNo: number = 0;\r\n  public partyPagesize: number = 10;\r\n  public userProfileGSTNo: any;\r\n  public gstStateMatch: boolean = true;\r\n  public finalObject;\r\n  public supplytype: any;\r\n  public SearchParty: any;\r\n  public paramID: any;\r\n  public PartyForm = this.formBuilder.group({\r\n    gstType: [null],\r\n    gstIn: [\r\n      null,\r\n      [\r\n        Validators.pattern(\r\n          \"^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}[Zz][0-9A-Za-z]{1}$\"\r\n        ),\r\n        Validators.minLength(15),\r\n        Validators.maxLength(15),\r\n      ],\r\n    ],\r\n    partyName: [\"\", [Validators.required]],\r\n    mobile: [\r\n      ,\r\n      [\r\n        Validators.minLength(10),\r\n        Validators.maxLength(10),\r\n        Validators.pattern(\"^[0-9]*$\"),\r\n        Validators.required,\r\n      ],\r\n    ],\r\n    // email: [\r\n    //   null,\r\n    //   [\r\n    //     Validators.pattern(\"^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$\"),\r\n    //     Validators.email,\r\n    //     Validators.required,\r\n    //   ],\r\n    // ],\r\n    email: [\"\", [Validators.required, Validators.email,Validators.pattern(\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$\")]],\r\n\r\n    billingAddress: [null, [Validators.required]],\r\n    shippingAddress: [],\r\n    balanceStatus: [\"1\"],\r\n    isCustomer: [false],\r\n\r\n  });\r\n\r\n  constructor(\r\n    private saleInvoiceService: SaleInvoiceService,\r\n    private formBuilder: FormBuilder,\r\n    private partyService: PartyService,\r\n    private router: Router,\r\n    private toastService: ToastNotificationService,\r\n    private commonService: CommonService,\r\n    private profileService: ProfileService,\r\n    private modal: NgbModal,\r\n    private route: ActivatedRoute,\r\n    private remoteShopService: RemoteShopService,\r\n    private titleCasePipe: TitleCasePipe,\r\n    @Inject(MAT_DIALOG_DATA) public ORDERData: any, public dialogRef: MatDialogRef<SalesNewInvoiceComponent>,\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAllParties();\r\n    this.getSaleInvoiceNumber();\r\n    this.getProfileData();\r\n    this.todaysDate = new Date();\r\n    this.today = new Date();\r\n    this.newAttribute = {\r\n      unit: \"\",\r\n      ramount: \"\",\r\n      wtax: \"\",\r\n      wotax: \"\",\r\n      index: \"\",\r\n      product: \"\",\r\n      gty: \"\",\r\n      select: \"\",\r\n    };\r\n    this.fieldArray.push(this.newAttribute);\r\n\r\n    // Sale invoice form\r\n    this.SaleInvoiceForm = this.formBuilder.group({\r\n      partyName: [\"\", [Validators.required]],\r\n      invoiceNo: [\"\", [Validators.required]],\r\n      reverseCharge: [false, [Validators.required]],\r\n      invoiceDate: [\"\", new Date(), [Validators.required]],\r\n      gstNo: [\r\n        null,\r\n        [\r\n          Validators.pattern(\r\n            \"^[0-9]{2}[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}[1-9A-Za-z]{1}[Zz][0-9A-Za-z]{1}$\"\r\n          ),\r\n          Validators.minLength(15),\r\n          Validators.maxLength(15),\r\n        ],\r\n      ],\r\n      barcode: [\"\"],\r\n      totalBillAmount: [\"\"],\r\n      billGstAmount: [\"\"],\r\n      credit: [\"\", [Validators.required]],\r\n      gstRate: [\"\"],\r\n      billingAddress: [null],\r\n      shippingAddress: [null],\r\n      ewayBillNo: [null, Validators.maxLength(12)],\r\n      cashSale: [\"\"],\r\n      subcheckbox: this.formBuilder.array([]),\r\n      shippedFrom: [\"\"],\r\n    });\r\n\r\n    this.orderId = this.ORDERData.orderId\r\n\r\n    if (this.orderId) {\r\n      this.getCustomerProductByOrderId();\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.SaleInvoiceForm.controls;\r\n  }\r\n\r\n  get pf() {\r\n    return this.PartyForm.controls;\r\n  }\r\n\r\n  get formArr() {\r\n    return this.SaleInvoiceForm.get(\"subcheckbox\") as FormArray;\r\n  }\r\n\r\n  addDetailsButtonClick(i): void {\r\n    const content = this.SaleInvoiceForm.get(\"subcheckbox\") as FormArray;\r\n    content.push(this.addRolesPermission(i));\r\n  }\r\n\r\n  /**\r\n   * Method for creating foemcontrol for each row in role permission table\r\n   * @param id\r\n   * @returns\r\n   */\r\n  addRolesPermission(id): FormGroup {\r\n    return new FormGroup({\r\n      read: new FormControl(false),\r\n    });\r\n  }\r\n\r\n  getProfileData() {\r\n    this.profileService.getUserProfile({}, this.currentUser.id).then((res) => {\r\n      this.gstType = res.data.additional.gstType;\r\n      this.compositeType = res.data.additional.compositeType;\r\n      this.legalName = res.data.additional.legalName;\r\n      this.homeNo = res.data.primaryAddress.homeno;\r\n      this.city = res.data.primaryAddress.city;\r\n      this.state = res.data.primaryAddress.state;\r\n      this.district = res.data.primaryAddress.district;\r\n      this.country = res.data.primaryAddress.country;\r\n      this.pincode = res.data.primaryAddress.pincode;\r\n      this.address = res.data.primaryAddress.address;\r\n      this.userProfileGSTNo = res.data.additional.gstinNo\r\n        ? res.data.additional.gstinNo.slice(0, 2)\r\n        : \"\";\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Filter customer name search\r\n   * @param name s\r\n   * @returns\r\n   */\r\n  private filterNames(name: string): string[] {\r\n    return this.allPartyList.filter(\r\n      (partyList) =>\r\n        partyList.partyName.toLowerCase().indexOf(name.toLowerCase()) === 0\r\n    );\r\n  }\r\n\r\n  getUnit(value: string) {\r\n    this.unitValue = \"1 \" + value;\r\n  }\r\n\r\n  addFieldValue() {\r\n    this.fieldArray.push(this.newAttribute);\r\n    this.newAttribute = {};\r\n  }\r\n\r\n  deleteFieldValue(index: number) {\r\n    this.fieldArray.splice(index, 1);\r\n  }\r\n\r\n  showShippingAddress(checked: boolean) {\r\n    this.isShippingAddress = checked;\r\n  }\r\n\r\n  showShippingAddressinModal(checked: boolean) {\r\n    this.isShippingAddressinModal = checked;\r\n  }\r\n\r\n  /**\r\n   * get all party name\r\n   */\r\n  getAllParties() {\r\n    this.partyService\r\n      .getAllPartiesDetails(\r\n        {},\r\n        this.currentUser.id,\r\n        this.partyPagesize,\r\n        this.currentPageNo + 1\r\n      )\r\n      .then((res) => {\r\n        this.allPartyList = res.data.pageData;\r\n        if (this.allPartyList) {\r\n          this.filteredOptions = this.myControl.valueChanges.pipe(\r\n            startWith(\"\"),\r\n            map((name) =>\r\n              name ? this.filterNames(name) : this.allPartyList.slice()\r\n            )\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * get party by name\r\n   * @param item\r\n   */\r\n  searchPartyByName(item) {\r\n    this.saleInvoiceService\r\n      .getPartyByName({}, this.currentUser.id, item)\r\n      .then((response: any) => {\r\n        this.partyData = response.data.rows;\r\n        this.allPartyList = response.data.rows;\r\n        if (this.allPartyList) {\r\n          this.filteredOptions = this.myControl.valueChanges.pipe(\r\n            startWith(\"\"),\r\n            map((name) =>\r\n              name ? this.filterNames(name) : this.allPartyList.slice()\r\n            )\r\n          );\r\n        }\r\n      });\r\n  }\r\n  setSelectedPartyDeatails(item) {\r\n    this.partyId = item.id;\r\n    if (this.partyData) {\r\n      this.partyData.forEach((ele) => {\r\n        this.SaleInvoiceForm.patchValue({\r\n          gstNo: ele.gstIn,\r\n          billingAddress: ele.billingAddress,\r\n        });\r\n        if (\r\n          this.SaleInvoiceForm.controls.gstNo.value.slice(0, 2) ==\r\n          this.userProfileGSTNo\r\n        ) {\r\n          this.gstStateMatch = true;\r\n          this.supplytype = \"INTRASTATE\";\r\n        } else {\r\n          this.gstStateMatch = false;\r\n          this.supplytype = \"INTERSTATE\";\r\n        }\r\n      });\r\n    } else {\r\n      this.saleInvoiceService\r\n        .getPartyByName({}, this.currentUser.id, item.partyName)\r\n        .then((response: any) => {\r\n          this.partyData = response.data.rows;\r\n          this.allPartyList = response.data.rows;\r\n          this.allPartyList.forEach((ele) => {\r\n            this.SaleInvoiceForm.patchValue({\r\n              gstNo: ele.gstIn,\r\n              billingAddress: ele.billingAddress,\r\n            });\r\n            if (\r\n              this.SaleInvoiceForm.controls.gstNo.value.slice(0, 2) ==\r\n              this.userProfileGSTNo\r\n            ) {\r\n              this.gstStateMatch = true;\r\n              this.supplytype = \"INTRASTATE\";\r\n            } else {\r\n              this.gstStateMatch = false;\r\n              this.supplytype = \"INTERSTATE\";\r\n            }\r\n          });\r\n        });\r\n      this.filteredOptions = this.myControl.valueChanges.pipe(\r\n        startWith(\"\"),\r\n        map((name) =>\r\n          name ? this.filterNames(name) : this.allPartyList.slice()\r\n        )\r\n      );\r\n    }\r\n  }\r\n  /**\r\n   * calculation total for product\r\n   */\r\n  async calculationTotal() {\r\n    this.barcode = \"\";\r\n    let price = 0;\r\n    let additionalCess = 0;\r\n    let gstInPer = 0;\r\n    this.totalPrice = 0;\r\n    this.subTotal = 0;\r\n    this.gstRate = 0;\r\n    this.productData.forEach((element) => {\r\n      let gstInPer = element.gstRate;\r\n      price = price + element.salePrice * element.quantity;\r\n      this.gstRate =\r\n        (element.salePrice - element.salePrice / (1 + gstInPer / 100)) *\r\n        element.quantity +\r\n        this.gstRate;\r\n      this.gstAmount =\r\n        (element.salePrice - element.salePrice / (1 + gstInPer / 100)) *\r\n        element.quantity;\r\n      additionalCess = (element.salePrice * element.additionalCess) / 100;\r\n      this.subTotal = element.basePrice * element.quantity + this.subTotal;\r\n      element.subTotal = element.basePrice * element.quantity;\r\n      element.gstAmount =\r\n        (element.salePrice - element.salePrice / (1 + gstInPer / 100)) *\r\n        element.quantity;\r\n      element.total = element.salePrice * element.quantity;\r\n      gstInPer = element.gstRate;\r\n      if (this.isShown) {\r\n        this.totalPrice = price;\r\n      } else {\r\n        this.totalPrice = price;\r\n      }\r\n    });\r\n    if (this.gstType === \"Exempted\") {\r\n      this.totalGST = 0;\r\n      this.gstInRs = 0;\r\n      this.gstInPer = 0;\r\n    } else if (this.gstType === \"Composite\") {\r\n      if (\r\n        this.compositeType == \"Manufacturer\" ||\r\n        this.compositeType == \"Trader\"\r\n      ) {\r\n        this.totalGST = (this.subTotal * 1) / 100;\r\n        this.gstInRs = 0;\r\n        this.gstInPer = 0;\r\n      } else if (this.compositeType == \"Restaurant\") {\r\n        this.totalGST = (this.subTotal * 5) / 100;\r\n        this.gstInRs = 0;\r\n        this.gstInPer = 0;\r\n      } else {\r\n        this.totalGST = (this.subTotal * 6) / 100;\r\n        this.gstInRs = 0;\r\n        this.gstInPer = 0;\r\n      }\r\n    } else {\r\n      this.totalGST = this.gstRate;\r\n      this.gstInRs = this.gstRate;\r\n      this.gstInPer = gstInPer;\r\n    }\r\n\r\n    this.additionalCess = additionalCess;\r\n    if (this.isShown) {\r\n      this.total = price;\r\n    } else {\r\n      this.total = price;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get goods by barcode\r\n   */\r\n  getGoodsByBarcode() {\r\n    this.saleInvoiceService\r\n      .getGoodsByBarcode({}, this.barcode, this.currentUser.id)\r\n      .then((response) => {\r\n        response.data.quantity = 1;\r\n        this.productData.push(response.data);\r\n        for (let i = 0; i <= this.productData.length; i++) {\r\n          this.addDetailsButtonClick(i);\r\n        }\r\n        this.calculationTotal();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * calculation for quantity change\r\n   * @param i\r\n   */\r\n  changeQtyCalculation(i) {\r\n    this.productData[i].quantity;\r\n    // this.totalGST = (this.productData[i].salePrice * this.productData[i].quantity) * (this.productData[i].gstRate / 100);\r\n    // this.subTotal = (this.productData[i].salePrice * this.productData[i].quantity);\r\n    // this.total = this.totalGST + this.subTotal;\r\n    this.calculationTotal();\r\n  }\r\n\r\n  /**\r\n   * create sale invoice method\r\n   */\r\n  postSaleInvoice() {\r\n    this.submitted = true;\r\n    if (this.todaysDate == \"\") {\r\n      this.toastService.toastMsg({\r\n        title: \"Error\",\r\n        content: \"Fill All Required Fields.\",\r\n        });\r\n      // this.toastService.openErrorSnackBar(\"Please Fill Mandatory Fields!!!\");\r\n      return false;\r\n    } else {\r\n      console.log(\"Sssssss\", this.SaleInvoiceForm.controls.shippedFrom.value,)\r\n      if (this.productData.length < 1) {\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Please Add At Least One Product To Proceed!!!\",\r\n          });\r\n        // this.toastService.openErrorSnackBar(\r\n        //   \"Please Add At Least One Product To Proceed!!!\"\r\n        // );\r\n        return false;\r\n      }\r\n\r\n      this.productData.forEach((e) => {\r\n        let data = {\r\n          quantity: e.quantity,\r\n          barcode: e.barcode,\r\n        };\r\n        this.sendArray.push(data);\r\n      });\r\n\r\n      let data = {\r\n        invoiceDetails: {\r\n          cashSale: this.isCashSale,\r\n          partyName: this.isCashSale ? null : this.partyName,\r\n          invoiceNo: this.SaleInvoiceForm.controls.invoiceNo.value.toString(),\r\n          invoiceDate: this.todaysDate,\r\n          credit: this.SaleInvoiceForm.controls.credit.value,\r\n          roundOff: false,\r\n          userId: this.currentUser.id,\r\n          partyId: this.isCashSale ? null : this.partyId,\r\n          lastInvoiceNumber: this.lastInvoiceNumber,\r\n          billingAddress: this.isCashSale\r\n            ? null\r\n            : this.SaleInvoiceForm.controls.billingAddress.value,\r\n          shippingAddress: this.isCashSale\r\n            ? null\r\n            : this.SaleInvoiceForm.controls.shippingAddress.value,\r\n          ewayBillNo: this.isCashSale\r\n            ? null\r\n            : this.SaleInvoiceForm.controls.ewayBillNo.value\r\n              ? this.SaleInvoiceForm.controls.ewayBillNo.value\r\n              : null,\r\n          mobile: this.isCashSale ? null : this.partyData[0].mobile,\r\n          customerName: this.isCashSale ? null : this.partyData[0].partyName,\r\n          reverseCharge: this.SaleInvoiceForm.controls.reverseCharge.value,\r\n          rcm: this.SaleInvoiceForm.controls.reverseCharge.value,\r\n          supplyType: this.supplytype,\r\n          placeOfSupply: this.SaleInvoiceForm.controls.shippedFrom.value\r\n        },\r\n        products: this.sendArray,\r\n      };\r\n      this.saleInvoiceService.postSaleInvoice(data).then(\r\n        (res) => {\r\n          if (res) {\r\n            this.sendArray = [];\r\n            this.toastService.toastMsg({\r\n              title: \"Success\",\r\n              content: \"Invoice Number Updated Successfully!!!\",\r\n              });\r\n            // this.toastService.openSnackBar(\"Sale Invoice Added Successfully\");\r\n          }\r\n          this.router.navigate([\"/pages/sale-invoice-list\"]);\r\n        },\r\n        (err) => {\r\n          this.sendArray = [];\r\n          if (err.error.expose) {\r\n            // this.toastService.openErrorSnackBar(\r\n            //   this.titleCasePipe.transform(err.error.error_message)\r\n            // );\r\n            this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: err.error.error_message,\r\n              });\r\n          } else {\r\n            this.toastService.toastMsg({\r\n              title: \"Error\",\r\n              content: \"Something Went Wrong.\",\r\n              });\r\n            // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  getSaleInvoiceNumber() {\r\n    this.saleInvoiceService\r\n      .getSaleInvoiceNumber({}, this.currentUser.id)\r\n      .then((res) => {\r\n        this.SaleInvoiceForm.patchValue({\r\n          invoiceNo: String(res.data.prefix).concat(String(res.data.suffix)),\r\n        });\r\n        this.lastInvoiceNumber = res.data.suffix;\r\n      });\r\n\r\n  }\r\n\r\n  toggleShow() {\r\n    this.isShown = !this.isShown;\r\n    if (this.isShown) {\r\n      this.total = this.subTotal + this.totalGST + this.additionalCess;\r\n    } else {\r\n      this.total = this.subTotal + this.totalGST;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get gstin\r\n   * @param gstin\r\n   */\r\n  getGstNumber(gstin) {\r\n    this.partyService.getGstNumber({}, gstin).then(\r\n      (res) => {\r\n        this.gstDetails = res;\r\n        if (res) {\r\n          this.PartyForm.patchValue({\r\n            gstType: res.data.taxPayerType,\r\n            gstNo: res.data.gstIn,\r\n          });\r\n        }\r\n        this.isDisabledGST = false;\r\n      },\r\n      (err) => {\r\n        this.isDisabledGST = true;\r\n      }\r\n    );\r\n  }\r\n\r\n  get fp() {\r\n    return this.PartyForm.controls;\r\n  }\r\n  /**\r\n   * Post party details api call\r\n   */\r\n  addNewParty() {\r\n    this.submittedParty = true;\r\n    if (this.isShowGstFields) {\r\n      if ((this.PartyForm.controls.billingAddress.value == \"\" || this.PartyForm.controls.partyName.value == \"\"\r\n        || this.PartyForm.controls.mobile.value == \"\" || this.PartyForm.controls.email.value == \"\")) {\r\n        // this.toastService.openErrorSnackBar(\"Please Fill Mandatory Fields!!!\");\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Fill All Required Fields.\",\r\n          });\r\n        return false;\r\n      } else if ((this.PartyForm.controls.billingAddress.value == \"\" && this.PartyForm.controls.partyName.value == \"\"\r\n        && this.PartyForm.controls.mobile.value == \"\" && this.PartyForm.controls.email.value == \"\")) {\r\n        // this.toastService.openErrorSnackBar(\"Please Fill Mandatory Fields!!!\");\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Fill All Required Fields.\",\r\n          });\r\n      }\r\n      else {\r\n        this.addPartyObject();\r\n      }\r\n    }\r\n    else {\r\n      if ((this.PartyForm.controls.billingAddress.value == \"\" || this.PartyForm.controls.partyName.value == \"\"\r\n        || this.PartyForm.controls.mobile.value == \"\" || this.PartyForm.controls.email.value == \"\"\r\n        || this.PartyForm.controls.gstType.value == \"\" || this.PartyForm.controls.gstIn.value == \"\")) {\r\n        // this.toastService.openErrorSnackBar(\"Please Fill Mandatory Fields!!!\");\r\n        this.toastService.toastMsg({\r\n          title: \"Error\",\r\n          content: \"Fill All Required Fields.\",\r\n          });\r\n        return false;\r\n      }\r\n\r\n      else {\r\n        this.addPartyObject();\r\n      }\r\n    }\r\n  }\r\n  addPartyObject() {\r\n\r\n    this.finalObject = {\r\n      \"partyDetails\": {\r\n        \"isCustomer\": this.isShowGstFields,\r\n        \"gstType\": this.PartyForm.controls.gstType.value ? this.PartyForm.controls.gstType.value : null,\r\n        \"gstIn\": this.PartyForm.controls.gstIn.value ? this.PartyForm.controls.gstIn.value : null,\r\n        \"partyName\": this.PartyForm.controls.partyName.value,\r\n        \"mobile\": this.PartyForm.controls.mobile.value ? (this.PartyForm.controls.mobile.value).toString() : null,\r\n        \"email\": this.PartyForm.controls.email.value,\r\n        \"billingAddress\": this.PartyForm.controls.billingAddress.value,\r\n        \"shippingAddress\": this.PartyForm.controls.shippingAddress.value,\r\n        \"openingBalance\": null,\r\n        \"asOfDate\": null,\r\n        \"balanceStatus\": this.PartyForm.controls.balanceStatus.value,\r\n        \"payment\": null,\r\n        \"creditPeriodDay\": null,\r\n        \"creditLimit\": null,\r\n        \"noOfCredits\": null,\r\n        \"relationSince\": null,\r\n        \"userId\": this.currentUser.id,\r\n        \"distance\": null,\r\n        \"transporation\": null,\r\n      },\r\n      \"groupAdd\": null\r\n    }\r\n\r\n    this.partyService.postParty(this.finalObject).then((res) => {\r\n      this.paramID = res.data.id\r\n      if (res) {\r\n        this.toastService.toastMsg({\r\n          title: \"Success\",\r\n          content: \"Party Added Successfully!!!\",\r\n          });\r\n        // this.toastService.openSnackBar(\"Party Added Successfully\")\r\n        this.PartyForm.reset();\r\n        this.modal.dismissAll();\r\n        this.getAllParties();\r\n        this.submittedParty = false;\r\n      }\r\n    },\r\n      (err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: this.titleCasePipe.transform(err.error.error_message),\r\n            });\r\n          // this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n        }\r\n        else {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Something Went Wrong.\",\r\n            });\r\n          // this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n        }\r\n      })\r\n  }\r\n\r\n  customertoggleShow(value) {\r\n    this.isShowGstFields = value;\r\n  }\r\n\r\n  /**\r\n   * Get Customer product info for remote inovoice generation\r\n   */\r\n  getCustomerProductByOrderId() {\r\n    this.subTotal = 0;\r\n    this.totalGST = 0;\r\n    this.total = 0;\r\n    this.remoteShopService\r\n      .getCustomerProductByOrderId({}, this.orderId)\r\n      .then((res) => {\r\n        if (res) {\r\n          this.showInvoiceGenerateData = true;\r\n        }\r\n        this.SaleInvoiceForm.patchValue({\r\n          partyName: res.data.customerName,\r\n          billingAddress: res.data.billingAddress,\r\n          gstNo: res.data.gstIn,\r\n        });\r\n        this.subTotal = res.data.totalBillAmount - res.data.billGstAmount;\r\n        this.totalGST = res.data.billGstAmount;\r\n        this.total = res.data.totalBillAmount;\r\n        this.orderData = res.data.sales_products;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Generate Sale Invoice of Remote Order\r\n   */\r\n  patchGenerateRemoteInovice() {\r\n    let data = {\r\n      orderDetails: {\r\n        orderId: this.orderId,\r\n        invoiceDate: this.todaysDate,\r\n        ewayBillNo: this.SaleInvoiceForm.controls.ewayBillNo.value,\r\n        invoiceNo: this.SaleInvoiceForm.controls.invoiceNo.value,\r\n        lastInvoiceNumber: this.lastInvoiceNumber,\r\n      },\r\n    };\r\n    this.remoteShopService.patchGenerateRemoteInovice(data).then(\r\n      (res) => {\r\n        if (res) {\r\n          this.showPrintBtn = true;\r\n          this.toastService.toastMsg({\r\n            title: \"Success\",\r\n            content: \"Receipt Generated!!!\",\r\n            });\r\n          // this.toastService.openSnackBar(\"Receipt Generated!!!\");\r\n        }\r\n      },\r\n      (err) => {\r\n        if (err.error.status == 406) {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: err.error.error_message,\r\n            });\r\n          // this.toastService.openErrorSnackBar(err.error.error_message);\r\n        } else {\r\n          this.toastService.toastMsg({\r\n            title: \"Error\",\r\n            content: \"Internal Server Error\",\r\n            });\r\n          // this.toastService.openErrorSnackBar(\"Internal Server Error\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * print receipt\r\n   */\r\n  onPrint() {\r\n    const printContents = document.getElementById(\"panel\").innerHTML;\r\n    const originalContents = document.body.innerHTML;\r\n    window.print();\r\n    this.modal.dismissAll();\r\n\r\n  }\r\n\r\n  /**\r\n   * Get Invoice details by orderId\r\n   */\r\n  getInvoiceByOrderId() {\r\n    this.remoteShopService.getInvoiceByOrderId({}, this.orderId).then((res) => {\r\n      this.remoteProductData = res.data.sales_products;\r\n      this.remoteGSTAmount = res.data.billGstAmount;\r\n      this.remoteTotalBillAmount = res.data.totalBillAmount;\r\n      this.billingAddress = res.data.billingAddress;\r\n      this.customerName = res.data.customerName;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * toggle for cash/sale\r\n   * @param event\r\n   */\r\n  isCashSaleToggle(event) {\r\n    this.isCashSale = event;\r\n  }\r\n\r\n  toggleCheckboxAll(event) {\r\n    this.deleteProductData = [];\r\n    this.isAllChecked = event;\r\n\r\n    if (event) {\r\n      this.deleteProductData = this.productData;\r\n      for (let i = 0; i < this.deleteProductData.length; i++) {\r\n        this.formArr.controls[i].patchValue({\r\n          read: true,\r\n        });\r\n        this.checkedAll = true;\r\n      }\r\n    } else {\r\n      this.deleteProductData = [];\r\n      for (let i = 0; i < this.productData.length; i++) {\r\n        this.formArr.controls[i].patchValue({\r\n          read: false,\r\n        });\r\n        this.checkedAll = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  changeQuantity(sign, i, quantity = 0) {\r\n    switch (sign) {\r\n      case \"-\":\r\n        if (this.productData[i].quantity > 1) {\r\n          this.productData[i].quantity = this.productData[i].quantity - 1;\r\n        }\r\n        // this.changeQtyCalculation(i);\r\n        this.calculationTotal();\r\n        break;\r\n      case \"+\":\r\n        this.productData[i].quantity = this.productData[i].quantity + 1;\r\n        // this.changeQtyCalculation(i);\r\n        this.calculationTotal();\r\n        break;\r\n      case \"rm\":\r\n        this.productData.splice(i, 1);\r\n        if (this.productData.length <= 0) {\r\n          this.totalGST = 0;\r\n          this.subTotal = 0;\r\n          this.total = 0;\r\n        }\r\n        this.calculationTotal();\r\n        break;\r\n      case \"qty\":\r\n        console.log(\"qty calculation\", i, this.productData[i]);\r\n        this.productData[i].quantity = quantity;\r\n        this.calculationTotal();\r\n        break;\r\n      default:\r\n        this.productData[i];\r\n        break;\r\n    }\r\n  }\r\n\r\n  toggleCheckboxSingle(event, i) {\r\n    if (event) {\r\n      for (let j = 0; j < this.productData.length; j++) {\r\n        if (j == i) {\r\n          this.formArr.controls[i].patchValue({\r\n            read: true,\r\n          });\r\n          this.singleChecked = event;\r\n          this.deleteProductData.push(this.productData[i]);\r\n        }\r\n      }\r\n    } else {\r\n      this.formArr.controls[i].patchValue({\r\n        read: false,\r\n      });\r\n      this.singleChecked = this.selectedCheckBox;\r\n      for (let n = 0; n <= this.deleteProductData.length; n++) {\r\n        if (this.productData[i].barcode == this.deleteProductData[n].barcode)\r\n          this.deleteProductData.splice(n, 1);\r\n      }\r\n    }\r\n  }\r\n  getCredit(e) {\r\n    if (e.value == \"true\") {\r\n      e.value = true;\r\n    } else {\r\n      e.value = false;\r\n    }\r\n    this.SaleInvoiceForm.controls.credit.value = e.value;\r\n  }\r\n\r\n  StringOnly(event) {\r\n    const charCode = event.which ? event.which : event.keyCode;\r\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  numberOnly(event): boolean {\r\n    const charCode = event.which ? event.which : event.keyCode;\r\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  openAddPartyModal(name) {\r\n    this.modal.open(name, {\r\n      centered: true,\r\n      backdrop: \"static\",\r\n      size: \"lg\",\r\n    });\r\n  }\r\n  modalDismiss() {\r\n    this.modal.dismissAll();\r\n  }\r\n  onCancelModal() {\r\n    this.dialogRef.close();\r\n\r\n  }\r\n  closeModal() {\r\n    this.modal.dismissAll();\r\n  }\r\n  openDatepicker() {\r\n    // Check if the current value of taskdate is an \"Invalid Date\"\r\n    const selectedDate = this.todaysDate\r\n    if (isNaN(selectedDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.todaysDate = new Date();\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]}