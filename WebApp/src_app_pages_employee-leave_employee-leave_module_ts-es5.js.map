{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAQaA;AASX,yCAAmBC,UAAnB,EAAyC;AAAA;;AAAtB;AAPX,kCAAmB,IAAIC,yCAAJ,EAAnB;AACR,6BAAc,KAAKC,gBAAL,CAAsBC,YAAtB,EAAd;AAM+C;;;;iBAJ/C,4BAAgB;AACd,iBAAKD,gBAAL,CAAsBE,IAAtB;AACD;;;iBAID,4BAAmBC,IAAnB,EAA2BC,KAA3B,EAAgC;AAAA;;AAC9B,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,mBAAI,CAACT,UAAL,CAAgBU,IAAhB,CAAqBL,IAArB,EAA2BM,yFAA8BL,KAAzD,EAAiE,KAAjE,EAAwEM,SAAxE,CACE,UAACC,GAAD;AAAA,uBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,eADF,EAEE,UAACC,GAAD;AAAA,uBAASL,MAAM,CAACK,GAAD,CAAf;AAAA,eAFF;AAID,aALM,CAAP;AAMD;;;iBAGD,6BAAoBT,IAApB,EAA4BC,KAA5B,EAAiC;AAAA;;AAC/B,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,oBAAI,CAACT,UAAL,CAAgBU,IAAhB,CAAqBL,IAArB,EAA2BM,0FAA+BL,KAA1D,EAAkE,KAAlE,EAAyEM,SAAzE,CACE,UAACC,GAAD;AAAA,uBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,eADF,EAEE,UAACC,GAAD;AAAA,uBAASL,MAAM,CAACK,GAAD,CAAf;AAAA,eAFF;AAID,aALM,CAAP;AAMD;;;iBAGD,yBAAgBT,IAAhB,EAAuB;AAAA;;AACrB,mBAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,oBAAI,CAACT,UAAL,CAAgBU,IAAhB,CAAqBL,IAArB,EAA2BM,mFAA3B,EAAuD,MAAvD,EAA+DC,SAA/D,CACE,UAACC,GAAD;AAAA,uBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,eADF,EAEE,UAACC,GAAD;AAAA,uBAASL,MAAM,CAACK,GAAD,CAAf;AAAA,eAFF;AAID,aALM,CAAP;AAMD;;;iBAED,+BAAsBT,IAAtB,EAA8BU,OAA9B,EAAqC;AAAA;;AACnC,mBAAO,IAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,oBAAI,CAACT,UAAL,CAAgBU,IAAhB,CAAqBL,IAArB,EAA2BM,0FAA+BI,OAA1D,EAAoE,KAApE,EAA2EH,SAA3E,CACE,UAACC,GAAD;AAAA,uBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,eADF,EAEE,UAACC,GAAD;AAAA,uBAASL,MAAM,CAACK,GAAD,CAAf;AAAA,eAFF;AAID,aALM,CAAP;AAOD;;;iBAED,iCAAwBT,IAAxB,EAAgCC,KAAhC,EAAqC;AAAA;;AACnC,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,oBAAI,CAACT,UAAL,CAAgBU,IAAhB,CAAqBL,IAArB,EAA2BM,6FAAkCL,KAA7D,EAAoE,KAApE,EAA2EM,SAA3E,CACE,UAACC,GAAD;AAAA,uBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,eADF,EAEE,UAACC,GAAD;AAAA,uBAASL,MAAM,CAACK,GAAD,CAAf;AAAA,eAFF;AAID,aALM,CAAP;AAMD;;;iBAED,qBAAYT,IAAZ,EAAoBU,OAApB,EAA2B;AAAA;;AACzB,mBAAO,IAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;AACrC,oBAAI,CAACT,UAAL,CAAgBU,IAAhB,CAAqBL,IAArB,EAA2BM,6FAAkCI,OAA7D,EAAwE,QAAxE,EAAkFH,SAAlF,CACE,UAACC,GAAD;AAAA,uBAASL,OAAO,CAACK,GAAD,CAAhB;AAAA,eADF,EAEE,UAACC,GAAD;AAAA,uBAASL,MAAM,CAACK,GAAD,CAAf;AAAA,eAFF;AAID,aALM,CAAP;AAMD;;;;;;;yBAlEUf,yBAAsBiB;AAAA;;;eAAtBjB;AAAsBkB,iBAAtBlB,uBAAsB;AAAAmB,oBAFrB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyBMF;;AACIA;;AACJA;;;;;;AASQA;;AAAyDA;;AAAUA;;;;;;AACnEA;;AAAoEA;;AAAeA;;;;;;AACnFA;;AAA8DA;;AAAYA;;;;;;AAC1EA;;AAAyEA;;AAAkBA;;;;;;AAGnGA;;AACIA;;AACJA;;;;;;AAkBAA;;AACIA;;AACJA;;;;;;AAgBAA;;AACIA;;AACJA;;;;;;AAUQA;;AAA4DA;;AAAUA;;;;;;AAA3BA;;AAAiBA;;AAAAA;;;;;;AAIpEA;;AACIA;;AACJA;;;;;;;;;;;;UC1FPG;AAgBX,4CAAmBC,SAAnB,EAA+EC,GAA/E,EAA+GC,WAA/G,EAAgJC,MAAhJ,EAAwKC,YAAxK,EACUC,aADV,EACwEC,QADxE,EAC+FC,cAD/F,EAESC,YAFT,EAE6C;AAAA;;AAF1B;AAA4D;AAAgC;AAAiC;AAAwB;AAC9J;AAA8D;AAAuB;AACtF;AAhBF,iCAAkBC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAlB;AAIA,2BAAqB,KAArB;AACP,8BAAqB,CAArB;AAGA,yBAAoB,CAAC,UAAD,EAAa,UAAb,CAApB;AACO,+BAAsB,CAAtB;AACA,iCAAwB,CAAxB;AACA,oCAA2B,CAA3B;AACA,uCAA8B,CAA9B;AAKH,eAAKC,KAAL,GAAa,IAAIC,IAAJ,EAAb;AACAC,iBAAO,CAACC,GAAR,CAAY,aAAZ,EAA0B,KAAKH,KAA/B;AACA,eAAKI,MAAL,GAAc,IAAIH,IAAJ,CAAS,IAAIA,IAAJ,GAAWI,OAAX,CAAmB,IAAIJ,IAAJ,GAAWK,OAAX,EAAnB,CAAT,CAAd;AACD;;;;iBAEH,oBAAQ;AAAA;;AACN,iBAAKC,MAAL,GAAc,KAAKd,QAAL,CAAcc,MAA5B;AACA,iBAAKC,mBAAL,GAFM,CAGN;AACA;AACA;;AAEA,iBAAKC,YAAL,GAAoB,KAAKpB,WAAL,CAAiBqB,KAAjB,CAAuB;AACzCC,yBAAW,EAAE,CAAC,EAAD,EAAI,CAACC,+DAAD,CAAJ,CAD4B;AAEzCC,kBAAI,EAAE,CAAC,EAAD,EAAI,CAACD,+DAAD,CAAJ,CAFmC;AAGzCE,4BAAc,EAAE,CAAC,EAAD,EAAI,CAACF,+DAAD,CAAJ,CAHyB;AAIzCG,0BAAY,EAAE,CAAC,EAAD,EAAI,CAACH,+DAAD,CAAJ,CAJ2B;AAKzCI,iBAAG,EAAE,CAAC,EAAD,EAAI,CAACJ,+DAAD,CAAJ,CALoC,CAMzC;;AANyC,aAAvB,CAApB,CAPM,CAgBJ;;AACA,iBAAKH,YAAL,CAAkBQ,GAAlB,CAAsB,gBAAtB,EAAwCC,YAAxC,CAAqDvC,SAArD,CAA+D,YAAK;AAClE,oBAAI,CAACwC,qBAAL;AACD,aAFD;AAIA,iBAAKV,YAAL,CAAkBQ,GAAlB,CAAsB,cAAtB,EAAsCC,YAAtC,CAAmDvC,SAAnD,CAA6D,YAAK;AAChE,oBAAI,CAACwC,qBAAL;AACD,aAFD;AAIH;;;iBACD,+BAAmB;AAAA;;AACjB,iBAAKxB,YAAL,CAAkByB,mBAAlB,CAAsC,EAAtC,EAA0C,KAAKC,eAAL,CAAqBC,EAA/D,EAAmEC,IAAnE,CAAwE,UAAC3C,GAAD,EAAQ;AAC9EsB,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BvB,GAA/B;AAEA,oBAAI,CAAC4C,aAAL,GAAqB5C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,YAAzB,CAArB;AACAvB,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACqB,aAAjB;AACA,oBAAI,CAACE,eAAL,GAAuB9C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,cAAzB,CAAvB;AACAvB,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACuB,eAAjB;AACA,oBAAI,CAACC,kBAAL,GAA0B/C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,iBAAzB,CAA1B;AACAvB,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACwB,kBAAjB;AACA,oBAAI,CAACC,qBAAL,GAA6BhD,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,oBAAzB,CAA7B;AACAvB,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACyB,qBAAjB;AAGD,aAbD,EAaG,UAAC/C,GAAD,EAAQ;AACT,kBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,sBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,MAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,eAFD,MAGK;AACH,sBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AACF,aApBD;AAqBD;;;iBACD,iCAAqB;AACnB,gBAAMG,SAAS,GAAG,KAAKzB,YAAL,CAAkBQ,GAAlB,CAAsB,gBAAtB,EAAwCkB,KAA1D;AACA,gBAAMC,OAAO,GAAG,KAAK3B,YAAL,CAAkBQ,GAAlB,CAAsB,cAAtB,EAAsCkB,KAAtD;;AAEA,gBAAID,SAAS,IAAIE,OAAjB,EAA0B;AACxB;AACA,kBAAMC,KAAK,GAAG,IAAIpC,IAAJ,CAASiC,SAAT,CAAd;AACA,kBAAMI,GAAG,GAAG,IAAIrC,IAAJ,CAASmC,OAAT,CAAZ;AACA,kBAAMG,cAAc,GAAGC,IAAI,CAACC,GAAL,CAASH,GAAG,CAACI,OAAJ,KAAgBL,KAAK,CAACK,OAAN,EAAzB,CAAvB;AACA,kBAAMC,YAAY,GAAGH,IAAI,CAACI,IAAL,CAAUL,cAAc,IAAI,OAAO,IAAP,GAAc,EAAlB,CAAxB,CAArB,CALwB,CAOxB;;AACA,mBAAKI,YAAL,GAAoBA,YAApB;;AACA,kBAAG,KAAKA,YAAL,GAAoB,CAAvB,EAAyB;AACvB;AACA,qBAAKE,OAAL,GAAe,CAAC,UAAD,CAAf;AACA,qBAAKpC,YAAL,CAAkBqC,UAAlB,CAA6B;AAC3B9B,qBAAG,EAAG;AADqB,iBAA7B;AAGD,eAND,MAOI;AACF,qBAAK6B,OAAL,GAAe,CAAC,UAAD,EAAa,UAAb,CAAf;AACD;AACF,aAnBD,MAmBO;AACL;AACA,mBAAKF,YAAL,GAAoB,CAApB;AACD;;AACDzC,mBAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKwC,YAAnC;AACD;;;eAMD,eAAK;AACH,mBAAO,KAAKlC,YAAL,CAAkBsC,QAAzB;AACD;;;iBAED,qBAAS;AAAA;;AACP,iBAAKC,SAAL,GAAiB,IAAjB;;AACA,gBAAI,KAAKvC,YAAL,CAAkBwC,OAAtB,EAA+B;AAC7B,mBAAK1D,YAAL,CAAkBwC,iBAAlB,CAAoC,iCAApC;AACA,qBAAO,KAAP;AACD,aAHD,MAII;AACF,kBAAImB,IAAI,GACV;AACE,0BAAU,KAAKzC,YAAL,CAAkBsC,QAAlB,CAA2BpC,WAA3B,CAAuCwB,KADnD;AAEE,6BAAa,KAAK1B,YAAL,CAAkBsC,QAAlB,CAA2BlC,IAA3B,CAAgCsB,KAF/C;AAGE,6BAAa,KAAK1B,YAAL,CAAkBsC,QAAlB,CAA2BjC,cAA3B,CAA0CqB,KAHzD;AAIE,2BAAW,KAAK1B,YAAL,CAAkBsC,QAAlB,CAA2BhC,YAA3B,CAAwCoB,KAJrD;AAKE,6BAAa,KAAK1B,YAAL,CAAkBsC,QAAlB,CAA2B/B,GAA3B,CAA+BmB,KAL9C;AAME,kCAAiB,KAAKQ,YANxB;AAOE,oCAAoB,KAAKQ,aAP3B;AAQE,0BAAU,KAAK5C,MARjB;AASE,8BAAc,KAAKc,eAAL,CAAqBC;AATrC,eADE;AAYF,mBAAK3B,YAAL,CAAkByD,eAAlB,CAAkCF,IAAlC,EAAwC3B,IAAxC,CAA6C,aAAG,EAAG;AACjD,sBAAI,CAAChC,YAAL,CAAkB8D,YAAlB,CAA+B,2BAA/B;;AACA,sBAAI,CAAC1D,YAAL,CAAkB2D,gBAAlB;;AACA,sBAAI,CAACnE,SAAL,CAAeoE,KAAf;AAED,eALD,EAKG,UAAC1E,GAAD,EAAQ;AACT,oBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,wBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,MAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,iBAFD,MAGK;AACH,wBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AAEF,eAbD;AAeC;AAEF;;;iBAED,+BAAmB;AACjB;AACA,gBAAMyB,YAAY,GAAG,KAAK/C,YAAL,CAAkBQ,GAAlB,CAAsB,gBAAtB,EAAwCkB,KAA7D;;AACA,gBAAIsB,KAAK,CAACD,YAAY,CAACd,OAAb,EAAD,CAAT,EAAmC;AACjC;AACA,mBAAKjC,YAAL,CAAkBQ,GAAlB,CAAsB,gBAAtB,EAAwCyC,QAAxC,CAAiD,IAAIzD,IAAJ,EAAjD;AACD;AACF;;;iBAED,6BAAiB;AACf;AACA,gBAAMuD,YAAY,GAAG,KAAK/C,YAAL,CAAkBQ,GAAlB,CAAsB,cAAtB,EAAsCkB,KAA3D;;AACA,gBAAIsB,KAAK,CAACD,YAAY,CAACd,OAAb,EAAD,CAAT,EAAmC;AACjC;AACA,mBAAKjC,YAAL,CAAkBQ,GAAlB,CAAsB,cAAtB,EAAsCyC,QAAtC,CAA+C,IAAIzD,IAAJ,EAA/C;AACD;AACF;;;iBAED,wBAAe0D,CAAf,EAAgB;AAAA;;AACd,gBAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,gBAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,gBAAIC,IAAI,GAAGL,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX;;AAEA,gBAAIP,CAAC,CAACM,MAAF,CAASC,KAAT,IAAkBP,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,CAAtB,EAAyC;AACvCJ,oBAAM,CAACK,aAAP,CAAqBH,IAArB;;AACA,kBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,qBAAKzE,YAAL,CAAkBwC,iBAAlB,CACE,gCADF;AAGD,eAJD,MAIO;AACL6B,wBAAQ,CAACQ,GAAT,CAAa,QAAb,EAAuBJ,IAAvB;AACA,qBAAKtE,cAAL,CAAoB2E,YAApB,CAAiCT,QAAjC,EAA2CrC,IAA3C,CAAgD,UAAC3C,GAAD,EAAQ;AACtD,yBAAI,CAACuE,aAAL,GAAqBvE,GAAG,CAACR,IAAJ,CAASkG,QAA9B;AACApE,yBAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC,OAAI,CAACgD,aAAvC;AAED,iBAJD;AAKD;AACF;AACF;;;iBAED,kBAAM;AACJ,iBAAKhE,SAAL,CAAeoE,KAAf;AACD;;;;;;;yBA/LUrE,4BAAyBH,01BAiBYwF,qEAjBZ,GAiB2BxF;AAAA;;;cAjBpDG;AAAyBsF;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADDtC7F;;AACEA;;AAA0EA;;AAASA;;AACnFA;;AACEA;;AACuBA;AAAA,qBAAS8F,YAAT;AAAiB,aAAjB;;AAAmB9F;;AAAMA;;AAChDA;;AAA2CA;AAAA,qBAAS8F,eAAT;AAAoB,aAApB;;AAAsB9F;;AAAIA;;AACvEA;;AACFA;;AAEAA;;AACIA;;AACIA;;AACIA;;AACIA;;AACIA;;AAA0BA;;AAAgBA;;AAA6BA;;AAACA;;AAAOA;;AAC/EA;;AACIA;;AACJA;;AACAA;;AAIJA;;AAEAA;;AACIA;;AAA0BA;;AAAUA;;AAA6BA;;AAACA;;AAAOA;;AACzEA;;AACIA;;AAEIA;;AACAA;;AACAA;;AACAA;;AACJA;;AACJA;;AACAA;;AAGJA;;AACJA;;AAEAA;;AACIA;;AACIA;;AAA0BA;;AAAUA;;AAA6BA;;AAACA;;AAAOA;;AACzEA;;AACIA;;AAK4DA;AAAA,qBAAS8F,yBAAT;AAA8B,aAA9B;;AAL5D9F;;AAMAA;;AACIA;;AAAmCA;;AAAUA;;AACjDA;;AACJA;;AACAA;;AAIJA;;AACAA;;AACIA;;AAA0BA;;AAAQA;;AAA6BA;;AAACA;;AAAOA;;AACvEA;;AACIA;;AAK0DA;AAAA,qBAAS8F,uBAAT;AAA4B,aAA5B;;AAL1D9F;;AAMAA;;AACIA;;AAAmCA;;AAAUA;;AACjDA;;AACJA;;AACAA;;AAIJA;;AACJA;;AAEAA;;AACIA;;AACIA;;AAA0BA;;AAAUA;;AAA6BA;;AAACA;;AAAOA;;AACzEA;;AACIA;;AACIA;;AAEJA;;AACJA;;AACAA;;AAGJA;;AACJA;;AACAA;;AACIA;;AACIA;;AAA0BA;;AAAeA;;AACzCA;;AAAKA;;AAAoDA;AAAA,qBAAU8F,0BAAV;AAAgC,aAAhC;;AAApD9F;;AAAsFA;;AAC/FA;;AAEJA;;AAEJA;;AACJA;;AACJA;;;;AA7FcA;;AAAAA;;AAOsCA;;AAAAA;;AAWXA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AAGWA;;AAAAA;;AAU4CA;;AAAAA,2FAAiB,UAAjB,EAAiBA,sEAAjB;;AAU5CA;;AAAAA;;AAQ4CA;;AAAAA,4FAAkB,UAAlB,EAAkBA,sEAAlB;;AAU5CA;;AAAAA;;AAYOA;;AAAAA;;AAIPA;;AAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjFhC+F;;AACIA;;AACJA;;;;;;AASQA;;AAAyDA;;AAAUA;;;;;;AACnEA;;AAAoEA;;AAAeA;;;;;;AACnFA;;AAA8DA;;AAAYA;;;;;;AAC1EA;;AAAyEA;;AAAkBA;;;;;;AAInGA;;AACIA;;AACJA;;;;;;AAmBAA;;AACIA;;AACJA;;;;;;AAgBAA;;AACIA;;AACJA;;;;;;AAWQA;;AAA4DA;;AAAUA;;;;;;AAA3BA;;AAAiBA;;AAAAA;;;;;;AAKpEA;;AACIA;;AACJA;;;;;;;;;;;;UCnFPC;AAgBX,6CAAmB5F,SAAnB,EAAgFC,GAAhF,EAAgHC,WAAhH,EAAiJC,MAAjJ,EAAyKC,YAAzK,EACUC,aADV,EACwEC,QADxE,EAESE,YAFT,EAEuDD,cAFvD,EAEqF;AAAA;;AAFlE;AAA6D;AAAgC;AAAiC;AAAwB;AAC/J;AAA8D;AAC/D;AAA8C;AAjBvD,8BAAqB,CAArB;AACA,yBAAoB,EAApB;AAEO,iCAAkBE,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAlB;AAKA,2BAAqB,KAArB;AAEA,+BAAsB,CAAtB;AACA,iCAAwB,CAAxB;AACA,oCAA2B,CAA3B;AACA,uCAA8B,CAA9B;AAKH,eAAKC,KAAL,GAAa,IAAIC,IAAJ,EAAb;AACA;;;;iBAEJ,oBAAQ;AAAA;;AACN,iBAAKO,mBAAL;AACA,iBAAKD,MAAL,GAAc,KAAKd,QAAL,CAAcc,MAA5B;AACA,iBAAKzB,OAAL,GAAe,KAAKW,QAAL,CAAcX,OAA7B;AACA,iBAAKkG,kBAAL;AACA,iBAAKC,YAAL,GALM,CAMD;;AACA,iBAAKC,aAAL,CAAmBjE,GAAnB,CAAuB,gBAAvB,EAAyCC,YAAzC,CAAsDvC,SAAtD,CAAgE,YAAK;AACpE,qBAAI,CAACwC,qBAAL;AACD,aAFA;AAID,iBAAK+D,aAAL,CAAmBjE,GAAnB,CAAuB,cAAvB,EAAuCC,YAAvC,CAAoDvC,SAApD,CAA8D,YAAK;AACjE,qBAAI,CAACwC,qBAAL;AACD,aAFD;AAIL;;;iBAED,iCAAqB;AACnB,gBAAMe,SAAS,GAAG,KAAKgD,aAAL,CAAmBjE,GAAnB,CAAuB,gBAAvB,EAAyCkB,KAA3D;AACA,gBAAMC,OAAO,GAAG,KAAK8C,aAAL,CAAmBjE,GAAnB,CAAuB,cAAvB,EAAuCkB,KAAvD;;AAEA,gBAAID,SAAS,IAAIE,OAAjB,EAA0B;AACxB;AACA,kBAAMC,KAAK,GAAG,IAAIpC,IAAJ,CAASiC,SAAT,CAAd;AACA,kBAAMI,GAAG,GAAG,IAAIrC,IAAJ,CAASmC,OAAT,CAAZ;AACA,kBAAMG,cAAc,GAAGC,IAAI,CAACC,GAAL,CAASH,GAAG,CAACI,OAAJ,KAAgBL,KAAK,CAACK,OAAN,EAAzB,CAAvB;AACA,kBAAMC,YAAY,GAAGH,IAAI,CAACI,IAAL,CAAUL,cAAc,IAAI,OAAO,IAAP,GAAc,EAAlB,CAAxB,CAArB,CALwB,CAOxB;;AACA,mBAAKI,YAAL,GAAoBA,YAApB;;AACA,kBAAG,KAAKA,YAAL,GAAoB,CAAvB,EAAyB;AACvB;AACA,qBAAKE,OAAL,GAAe,CAAC,UAAD,CAAf;AACA,qBAAKqC,aAAL,CAAmBpC,UAAnB,CAA8B;AAC5B9B,qBAAG,EAAG;AADsB,iBAA9B;AAGD,eAND,MAOI;AACF,qBAAK6B,OAAL,GAAe,CAAC,UAAD,EAAa,UAAb,CAAf;AACD;AACF,aAnBD,MAmBO;AACL;AACA,mBAAKF,YAAL,GAAoB,CAApB;AACD;;AACDzC,mBAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKwC,YAAnC;AACD;;;iBAID,8BAAkB;AAChB,iBAAKuC,aAAL,GAAqB,KAAK7F,WAAL,CAAiBqB,KAAjB,CAAuB;AAC1CC,yBAAW,EAAE,CAAC,EAAD,EAAI,CAACwE,+DAAD,CAAJ,CAD6B;AAE1CtE,kBAAI,EAAE,CAAC,EAAD,EAAI,CAACsE,+DAAD,CAAJ,CAFoC;AAG1CrE,4BAAc,EAAE,CAAC,EAAD,EAAI,CAACqE,+DAAD,CAAJ,CAH0B;AAI1CpE,0BAAY,EAAE,CAAC,EAAD,EAAI,CAACoE,+DAAD,CAAJ,CAJ4B;AAK1CnE,iBAAG,EAAE,CAAC,EAAD,EAAI,CAACmE,+DAAD,CAAJ,CALqC,CAM1C;;AAN0C,aAAvB,CAArB;AAUD;;;iBACD,+BAAmB;AAAA;;AACjB,iBAAKxF,YAAL,CAAkByB,mBAAlB,CAAsC,EAAtC,EAA0C,KAAKC,eAAL,CAAqBC,EAA/D,EAAmEC,IAAnE,CAAwE,UAAC3C,GAAD,EAAQ;AAC9EsB,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BvB,GAA/B;AAEA,qBAAI,CAAC4C,aAAL,GAAqB5C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,YAAzB,CAArB;AACAvB,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACqB,aAAjB;AACA,qBAAI,CAACE,eAAL,GAAuB9C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,cAAzB,CAAvB;AACAvB,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACuB,eAAjB;AACA,qBAAI,CAACC,kBAAL,GAA0B/C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,iBAAzB,CAA1B;AACAvB,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACwB,kBAAjB;AACA,qBAAI,CAACC,qBAAL,GAA6BhD,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,oBAAzB,CAA7B;AACAvB,qBAAO,CAACC,GAAR,CAAY,OAAI,CAACyB,qBAAjB;AAGD,aAbD,EAaG,UAAC/C,GAAD,EAAQ;AACT,kBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,uBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,OAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,eAFD,MAGK;AACH,uBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AACF,aApBD;AAqBD;;;iBAED,wBAAY;AAAA;;AACV,iBAAKpC,YAAL,CAAkByF,qBAAlB,CAAwC,EAAxC,EAA4C,KAAKtG,OAAjD,EAA0DyC,IAA1D,CAA+D,UAAC3C,GAAD,EAAa;AAC1EsB,qBAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CvB,GAA3C;AAEA,qBAAI,CAACuE,aAAL,GAAqBvE,GAAG,CAACR,IAAJ,CAASiH,gBAA9B;;AAEA,qBAAI,CAACH,aAAL,CAAmBpC,UAAnB,CAA8B;AAC5BnC,2BAAW,EAAE/B,GAAG,CAACR,IAAJ,CAASkH,MADM;AAE5BzE,oBAAI,EAAEjC,GAAG,CAACR,IAAJ,CAASmH,SAFa;AAG5BzE,8BAAc,EAAElC,GAAG,CAACR,IAAJ,CAAS8D,SAAT,GAAsBsD,mCAAM,CAAC5G,GAAG,CAACR,IAAJ,CAAS8D,SAAV,CAAN,CAA2BuD,MAA3B,CAAkC,aAAlC,CAAtB,GAA2ED,mCAAM,CAAC5G,GAAG,CAACR,IAAJ,CAAS8D,SAAV,CAAN,CAA2BuD,MAA3B,CAAkC,aAAlC,CAH/D;AAI5B1E,4BAAY,EAAEnC,GAAG,CAACR,IAAJ,CAASgE,OAAT,GAAoBoD,mCAAM,CAAC5G,GAAG,CAACR,IAAJ,CAASgE,OAAV,CAAN,CAAyBqD,MAAzB,CAAgC,aAAhC,CAApB,GAAuED,mCAAM,CAAC5G,GAAG,CAACR,IAAJ,CAASgE,OAAV,CAAN,CAAyBqD,MAAzB,CAAgC,aAAhC,CAJzD;AAK5BzE,mBAAG,EAAEpC,GAAG,CAACR,IAAJ,CAASsH;AALc,eAA9B;AASD,aAdD;AAgBD;;;eAED,eAAK;AACH,mBAAO,KAAKR,aAAL,CAAmBnC,QAA1B;AACD;;;iBAED,uBAAW;AAAA;;AACT,iBAAKC,SAAL,GAAiB,IAAjB;;AACA,gBAAI,KAAKkC,aAAL,CAAmBjC,OAAvB,EAAgC;AAC9B,mBAAK1D,YAAL,CAAkBwC,iBAAlB,CAAoC,iCAApC;AACA,qBAAO,KAAP;AACD,aAHD,MAII;AACF,kBAAImB,IAAI,GAAG;AACT,0BAAU,KAAKgC,aAAL,CAAmBnC,QAAnB,CAA4BpC,WAA5B,CAAwCwB,KADzC;AAET,6BAAa,KAAK+C,aAAL,CAAmBnC,QAAnB,CAA4BlC,IAA5B,CAAiCsB,KAFrC;AAGT,6BAAa,KAAK+C,aAAL,CAAmBnC,QAAnB,CAA4BjC,cAA5B,CAA2CqB,KAH/C;AAIT,2BAAY,KAAK+C,aAAL,CAAmBnC,QAAnB,CAA4BhC,YAA5B,CAAyCoB,KAJ5C;AAKT,6BAAa,KAAK+C,aAAL,CAAmBnC,QAAnB,CAA4B/B,GAA5B,CAAgCmB,KALpC;AAMT,kCAAiB,KAAKQ,YANb;AAOT,oCAAqB,KAAKQ,aAPjB;AAQT,0BAAU,KAAK5C,MARN,CAST;;AATS,eAAX;AAYA,mBAAKZ,YAAL,CAAkBgG,uBAAlB,CAA0CzC,IAA1C,EAAgD,KAAKpE,OAArD,EAA8DyC,IAA9D,CAAmE,UAAC3C,GAAD,EAAa;AAC9E,uBAAI,CAACW,YAAL,CAAkB8D,YAAlB,CAA+B,6BAA/B;;AACA,uBAAI,CAAC1D,YAAL,CAAkB2D,gBAAlB;;AACA,uBAAI,CAACnE,SAAL,CAAeoE,KAAf;AACD,eAJD,EAIG,UAAC1E,GAAD,EAAQ;AACT,oBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,yBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,OAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,iBAFD,MAGK;AACH,yBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AACF,eAXD;AAaD;AAEF;;;iBAED,+BAAmB;AACjB;AACA,gBAAMyB,YAAY,GAAG,KAAK0B,aAAL,CAAmBjE,GAAnB,CAAuB,gBAAvB,EAAyCkB,KAA9D;;AACA,gBAAIsB,KAAK,CAACD,YAAY,CAACd,OAAb,EAAD,CAAT,EAAmC;AACjC;AACA,mBAAKwC,aAAL,CAAmBjE,GAAnB,CAAuB,gBAAvB,EAAyCyC,QAAzC,CAAkD,IAAIzD,IAAJ,EAAlD;AACD;AACF;;;iBAED,6BAAiB;AACf;AACA,gBAAMuD,YAAY,GAAG,KAAK0B,aAAL,CAAmBjE,GAAnB,CAAuB,cAAvB,EAAuCkB,KAA5D;;AACA,gBAAIsB,KAAK,CAACD,YAAY,CAACd,OAAb,EAAD,CAAT,EAAmC;AACjC;AACA,mBAAKwC,aAAL,CAAmBjE,GAAnB,CAAuB,cAAvB,EAAuCyC,QAAvC,CAAgD,IAAIzD,IAAJ,EAAhD;AACD;AACF;;;iBACD,wBAAe0D,CAAf,EAAgB;AAAA;;AACd,gBAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,gBAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,gBAAIC,IAAI,GAAGL,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX;;AAEA,gBAAIP,CAAC,CAACM,MAAF,CAASC,KAAT,IAAkBP,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,CAAtB,EAAyC;AACvCJ,oBAAM,CAACK,aAAP,CAAqBH,IAArB;;AACA,kBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,qBAAKzE,YAAL,CAAkBwC,iBAAlB,CACE,gCADF;AAGD,eAJD,MAIO;AACL6B,wBAAQ,CAACQ,GAAT,CAAa,QAAb,EAAuBJ,IAAvB;AACA,qBAAKtE,cAAL,CAAoB2E,YAApB,CAAiCT,QAAjC,EAA2CrC,IAA3C,CAAgD,UAAC3C,GAAD,EAAQ;AACtD,yBAAI,CAACuE,aAAL,GAAqBvE,GAAG,CAACR,IAAJ,CAASkG,QAA9B;AACApE,yBAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkC,OAAI,CAACgD,aAAvC;AAED,iBAJD;AAKD;AACF;AACF;;;iBACD,kBAAM;AACJ,iBAAKhE,SAAL,CAAeoE,KAAf;AACD;;;;;;;yBA9MUwB,6BAA0BD,01BAiBWc,qEAjBX,GAiB0Bd;AAAA;;;cAjBpDC;AAA0BP;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADfvCE;;AACIA;;AAA0EA;;AAAYA;;AAEtFA;;AAEIA;;AAC2BA;AAAA,qBAASD,YAAT;AAAiB,aAAjB;;AAAmBC;;AAAMA;;AACpDA;;AAA2CA;AAAA,qBAASD,iBAAT;AAAsB,aAAtB;;AAAwBC;;AAAIA;;AAE3EA;;AAEJA;;AACAA;;AACIA;;AACIA;;AACIA;;AACIA;;AACIA;;AAA0BA;;AAAgBA;;AAA6BA;;AAACA;;AAAOA;;AAC/EA;;AACIA;;AACJA;;AACAA;;AAIJA;;AAEAA;;AACIA;;AAA0BA;;AAAUA;;AAA6BA;;AAACA;;AAAOA;;AACzEA;;AACIA;;AAEIA;;AACAA;;AACAA;;AACAA;;AACJA;;AACJA;;AAEAA;;AAIJA;;AACJA;;AAEAA;;AACIA;;AACIA;;AAA0BA;;AAAUA;;AAA6BA;;AAACA;;AAAOA;;AACzEA;;AACIA;;AAK2DA;AAAA,qBAASD,yBAAT;AAA8B,aAA9B;;AAL3DC;;AAMAA;;AACIA;;AAAmCA;;AAAUA;;AACjDA;;AACJA;;AACAA;;AAIJA;;AACAA;;AACIA;;AAA0BA;;AAAQA;;AAA6BA;;AAACA;;AAAOA;;AACvEA;;AACIA;;AAK0DA;AAAA,qBAASD,uBAAT;AAA4B,aAA5B;;AAL1DC;;AAMAA;;AACIA;;AAAmCA;;AAAUA;;AACjDA;;AACJA;;AACAA;;AAIJA;;AACJA;;AAEAA;;AACIA;;AACIA;;AAA0BA;;AAAUA;;AAA6BA;;AAACA;;AAAOA;;AACzEA;;AACIA;;AAEIA;;AAGJA;;AACJA;;AACAA;;AAGHA;;AACLA;;AACAA;;AACIA;;AACIA;;AAA0BA;;AAAeA;;AACzCA;;AAAKA;;AAAoDA;AAAA,qBAAUD,0BAAV;AAAgC,aAAhC;;AAApDC;;AAAsFA;;AAC9FA;;AAELA;;AAEJA;;AACJA;;AACJA;;;;AAjGcA;;AAAAA;;AAOsCA;;AAAAA;;AAWXA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AAIWA;;AAAAA;;AAW4CA;;AAAAA,2FAAiB,UAAjB,EAAiBA,sEAAjB;;AAU5CA;;AAAAA;;AAQ4CA;;AAAAA,2FAAiB,UAAjB,EAAiBA,sEAAjB;;AAU5CA;;AAAAA;;AAaOA;;AAAAA;;AAKPA;;AAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AE3FpD,UAAMe,MAAM,GAAW,CACrB;AACEC,YAAI,EAAC,EADP;AAEEC,iBAAS,EAACC,wGAFZ;AAGEC,gBAAQ,EAAE,CACR;AACEH,cAAI,EAAC,EADP;AAEEI,oBAAU,EAAE,WAFd;AAGEC,mBAAS,EAAE;AAHb,SADQ,EAMR;AACEL,cAAI,EAAC,WADP;AAEEC,mBAAS,EAACK;AAFZ,SANQ,CAHZ;AAcED,iBAAS,EAAE,QAdb;AAeE/H,YAAI,EAAE;AACJiI,iCAAuB,EAAE;AAAEC,iBAAK,EAAE,IAAT;AAAeH,qBAAS,EAAE;AAA1B;AADrB;AAfR,OADqB,CAAvB;;UA2BaI;;;;;yBAAAA;AAA0B;;;cAA1BA;;;kBAHF,CAACC,mEAAsBX,MAAtB,CAAD,GACCW;;;;4HAECD,6BAA0B;AAAAE;AAAAC,oBAF3BF,yDAE2B;AAAA;AAFf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCCXG;;;;;yBAAAA;AAAmB;;;cAAnBA;;;kBAVF,CACPC,yDADO,EAEPC,sFAFO,EAGPC,yDAHO,EAIPC,0EAJO,EAKPC,uDALO,EAMPA,+DANO,EAOPC,mFAPO;;;;4HAUEN,sBAAmB;AAAAO,yBAf5Bd,4FAe4B,EAd5Be,wGAc4B,EAb5BC,qGAa4B,EAZ5BC,wGAY4B;AAZFZ,oBAG1BG,yDAH0B,EAI1BC,sFAJ0B,EAK1BC,yDAL0B,EAM1BC,0EAN0B,EAO1BC,uDAP0B,EAQ1BA,+DAR0B,EAQPC,yEARO;AAYE;AAJT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyJSK;;AAAiHA;;AAAOA;;;;;;AACxHA;;AAAkHA;;AAAQA;;;;;;AAC1HA;;AAAkHA;;AAAQA;;;;;;;;AAKlHA;;AAA4DA;AAAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACxDA;;AAEJA;;;;;;AAlBZA;;AAEIA;;AAAkEA;;;;;;AAC/BA;;AACnCA;;AAA8DA;;;;;;AAAgDA;;AAC9GA;;AAAkEA;;AAAkBA;;AACpFA;;AAAgEA;;AAAeA;;AAC/EA;;AAAsDA;;AAAuBA;;AAC7EA;;AACAA;;AACAA;;AACAA;;AACIA;;AAGIA;;AAYJA;;AACJA;;AACJA;;;;;;AA3BsEA;;AAAAA;;AAEJA;;AAAAA;;AACIA;;AAAAA;;AACFA;;AAAAA;;AACVA;;AAAAA;;AAC2BA;;AAAAA;;AACAA;;AAAAA;;AACAA;;AAAAA;;AAK/CA;;AAAAA;;;;;;AAgB1CA;;AACIA;;AACIA;;AACIA;;AAGJA;;AACJA;;AACJA;;;;UCrMXC;AAeX,yCAAmBC,MAAnB,EAA6C7H,YAA7C,EACS8H,uBADT,EAEUjI,aAFV,EAEgDD,YAFhD,EAEsF;AAAA;;AAFnE;AAA0B;AACpC;AACC;AAAsC;AAfzC,iCAAkBK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAlB;AAeqF;;;;iBAE5F,oBAAQ;AAAA;;AAENG,mBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKkB,eAA9B,EAA+C,aAA/C,EAA8D,KAAKA,eAAL,CAAqBC,EAAnF;AAEA,iBAAKoG,uBAAL;AACA,iBAAKlH,mBAAL;AACA,iBAAKmH,eAAL,GANM,CAON;;AACA,iBAAKhI,YAAL,CAAkBiI,WAAlB,CAA8BjJ,SAA9B,CAAwC,YAAK;AAC3C;AACA,qBAAI,CAACgJ,eAAL;AACD,aAHD;AAID;;;iBAED,mCAAuB;AAAA;;AACrB,iBAAKF,uBAAL,CAA6BI,eAA7B,CAA6C,EAA7C,EAAiD,KAAKxG,eAAL,CAAqBC,EAAtE,EAA0EC,IAA1E,CAA+E,UAAC3C,GAAD,EAAQ;AAErF;AACA,qBAAI,CAAC2B,MAAL,GAAc3B,GAAG,CAACR,IAAJ,CAAS0J,QAAvB;AACD,aAJD,EAIG,UAACjJ,GAAD,EAAQ;AACT,kBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,uBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,OAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,eAFD,MAGK;AACH,uBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AACF,aAXD;AAaD;;;iBAED,2BAAe;AAAA;;AACb,iBAAKpC,YAAL,CAAkBoI,kBAAlB,CAAqC,EAArC,EAAyC,KAAK1G,eAAL,CAAqBC,EAA9D,EAAkEC,IAAlE,CAAuE,UAAC3C,GAAD,EAAQ;AAC7E;AACA,qBAAI,CAACoJ,YAAL,GAAoBpJ,GAAG,CAACR,IAAxB;AAED,aAJD,EAIG,UAACS,GAAD,EAAQ;AACT,kBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,uBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,OAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,eAFD,MAGK;AACH,uBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AACF,aAXD;AAYD;;;iBAED,+BAAmB;AAAA;;AACjB,iBAAKpC,YAAL,CAAkByB,mBAAlB,CAAsC,EAAtC,EAA0C,KAAKC,eAAL,CAAqBC,EAA/D,EAAmEC,IAAnE,CAAwE,UAAC3C,GAAD,EAAQ;AAC9EsB,qBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BvB,GAA/B;AACA,qBAAI,CAACqJ,oBAAL,GAA4BrJ,GAAG,CAACR,IAAJ,CAAS6J,oBAArC;AACA/H,qBAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyC,OAAI,CAAC8H,oBAA9C;AACA,qBAAI,CAACC,wBAAL,GAAgCtJ,GAAG,CAACR,IAAJ,CAAS8J,wBAAzC;AACAhI,qBAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6C,OAAI,CAAC+H,wBAAlD;AACA,qBAAI,CAAC1G,aAAL,GAAqB5C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,YAAzB,CAArB;AACA,qBAAI,CAACC,eAAL,GAAuB9C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,cAAzB,CAAvB;AACA,qBAAI,CAACE,kBAAL,GAA0B/C,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,iBAAzB,CAA1B;AACA,qBAAI,CAACG,qBAAL,GAA6BhD,GAAG,CAACR,IAAJ,CAASqD,eAAT,CAAyB,oBAAzB,CAA7B;AACA,qBAAI,CAAC0G,SAAL,GAAiBvJ,GAAG,CAACR,IAAJ,CAASgK,cAAT,CAAwB,CAAxB,EAA2BC,KAA3B,IAAoC,IAApC,GAA2C,CAA3C,GAA+CzJ,GAAG,CAACR,IAAJ,CAASgK,cAAT,CAAwB,CAAxB,EAA2BC,KAA3F;AAGD,aAbD,EAaG,UAACxJ,GAAD,EAAQ;AACT,kBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,uBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,OAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,eAFD,MAGK;AACH,uBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AACF,aApBD;AAqBD;;;iBAED,sBAAaxB,MAAb,EAAmB;AACjB,gBAAMpB,SAAS,GAAG,KAAKqI,MAAL,CAAYc,IAAZ,CAAiBC,qGAAjB,EAA4C;AAC5DC,mBAAK,EAAE,OADqD;AAE5DC,oBAAM,EAAE,OAFoD;AAG5DrK,kBAAI,EAAE;AAAEmC,sBAAM,EAAEA;AAAV,eAHsD;AAI5DmI,wBAAU,EAAE,8BAJgD;AAK5DC,0BAAY,EAAE,IAL8C;AAM5DC,sBAAQ,EAAE;AACRC,qBAAK,EAAE;AADC;AANkD,aAA5C,CAAlB;AAYA1J,qBAAS,CAAC2J,WAAV,GAAwBnK,SAAxB,CAAkC,gBAAM,EAAG,CAE1C,CAFD;AAID;;;iBAED,uBAAcG,OAAd,EAAuByB,MAAvB,EAA6B;AAC3B,gBAAMpB,SAAS,GAAG,KAAKqI,MAAL,CAAYc,IAAZ,CAAiBS,wGAAjB,EAA6C;AAC7DP,mBAAK,EAAE,OADsD;AAE7DC,oBAAM,EAAE,OAFqD;AAG7DrK,kBAAI,EAAE;AAAEU,uBAAO,EAAEA,OAAX;AAAoByB,sBAAM,EAAEA;AAA5B,eAHuD;AAI7DmI,wBAAU,EAAE,iCAJiD;AAK7DC,0BAAY,EAAE,IAL+C;AAM7DC,sBAAQ,EAAE;AACRC,qBAAK,EAAE;AADC;AANmD,aAA7C,CAAlB;AAYA1J,qBAAS,CAAC2J,WAAV,GAAwBnK,SAAxB,CAAkC,gBAAM,EAAG,CAE1C,CAFD;AAGD;;;iBAED,oBAAWG,OAAX,EAAkB;AAChB,iBAAKA,OAAL,GAAeA,OAAf;AAED;;;iBACD,0BAAc;AAAA;;AACZ,iBAAKa,YAAL,CAAkBqJ,WAAlB,CAA8B,EAA9B,EAAkC,KAAKlK,OAAvC,EAAgDyC,IAAhD,CAAqD,aAAG,EAAG;AACzD,qBAAI,CAAChC,YAAL,CAAkB8D,YAAlB,CAA+B,6BAA/B;;AACA,qBAAI,CAACsE,eAAL;AAED,aAJD,EAIG,UAAC9I,GAAD,EAAQ;AACT,kBAAIA,GAAG,CAACgD,KAAJ,CAAUC,MAAd,EAAsB;AACpB,uBAAI,CAACvC,YAAL,CAAkBwC,iBAAlB,CAAoC,OAAI,CAACvC,aAAL,CAAmBwC,SAAnB,CAA6BnD,GAAG,CAACgD,KAAJ,CAAUI,aAAvC,CAApC;AACD,eAFD,MAGK;AACH,uBAAI,CAAC1C,YAAL,CAAkBwC,iBAAlB,CAAoC,uBAApC;AACD;AACF,aAXD;AAaD;;;;;;;yBA/IUwF,yBAAsBD;AAAA;;;cAAtBC;AAAsB/C;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ADdnC0C;;AACIA;;AACIA;;AAEIA;;AACIA;;AACIA;;AACIA;;AAKIA;;AAEIA;;AAAiBA;;AAAwDA;;AAAyCA;;AACtHA;;AACJA;;AACJA;;AACAA;;AACIA;;AAKIA;;AAEIA;;AAAqBA;;AAAyDA;;AAA6CA;;AAC/HA;;AACJA;;AACJA;;AACAA;;AACIA;;AAKIA;;AAEIA;;AAA0BA;;AAAwDA;;AAAmDA;;AACzIA;;AACJA;;AACJA;;AAEJA;;AAEJA;;AACJA;;AAGJA;;AAEJA;;AAEAA;;AACIA;;AACIA;;AACIA;;AACIA;;AAC8EA;;AACtEA;;AACRA;;AACJA;;AAEAA;;AACIA;;AACIA;;AACIA;;AACIA;;AAEIA;;AACJA;;AACAA;;AAEIA;;AAAoBA;;AAA2CA;;AACnEA;;AAEJA;;AAEJA;;AAEJA;;AACAA;;AACIA;;AACIA;;AACIA;;AAEIA;;AACJA;;AACAA;;AAEIA;;AAAoBA;;AAAqDA;;AAC7EA;;AAEJA;;AAEJA;;AAEJA;;AACAA;;AACIA;;AACIA;;AACIA;;AAEIA;;AACJA;;AACAA;;AAEIA;;AAAoBA;;AAA+CA;;AACvEA;;AAEJA;;AAEJA;;AAEJA;;AACAA;;AACIA;;AACIA;;AACIA;;AAEIA;;AACJA;;AACAA;;AAEIA;;AAAoBA;;AAA2DA;;AACnFA;;AAEJA;;AAEJA;;AAEJA;;AACAA;;AACIA;;AAEIA;;AAA8CA;AAAA,qBAASzC,4BAAT;AAA6B,aAA7B;;AAA+ByC;;AACvCA;;AACtCA;;AAEJA;;AAEJA;;AAEJA;;AACJA;;AAGJA;;AAEAA;;AACIA;;AACIA;;AACIA;;AAA0EA;;AAAcA;;AACxFA;;AACJA;;AAEAA;;AAEIA;;AACIA;;AACIA;;AACIA;;AACIA;;AAAwBA;;AAAUA;;AAClCA;;AAAwBA;;AAAQA;;AAChCA;;AAAwBA;;AAAIA;;AAC5BA;;AAAwBA;;AAAOA;;AAC/BA;;AAAwBA;;AAAUA;;AAClCA;;AAAwBA;;AAAMA;;AAC9BA;;AACJA;;AACJA;;AACAA;;AACIA;;AA8BJA;;AACAA;;AASJA;;AAEJA;;AAEJA;;AACJA;;AAGJA;;AACJA;;AAGAA;;AACIA;;AACIA;;AACIA;;AACIA;;AAEJA;;AACAA;;AACIA;;AACIA;;AACIA;;AAAcA;;AACtBA;;AACAA;;AAAyBA;;AAA6BA;;AAE1DA;;AACAA;;AACIA;;AAA2DA;;AAAKA;;AAChEA;;AAAkCA;AAAA,qBAASzC,oBAAT;AAAyB,aAAzB;;AAAmDyC;;AACrFA;;AAEJA;;AACJA;;AACJA;;AACJA;;;;AAzOyGA;;AAAAA;;AAYKA;;AAAAA;;AAYIA;;AAAAA;;AAoBpBA;;AAAAA;;AAe1CA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAiBAA;;AAAAA;;AAgDkCA;;AAAAA;;AA+BtDA;;AAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UEpMnB2B;AAEX;AAAA;AAAiB;;;;iBAEjB,oBAAQ,CACP;;;;;;;yBALUA;AAA0B;;;cAA1BA;AAA0BzE;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;ACPvCsE;;AACIA;;AACEA;;AACIA;;AACGA;;AACKA;;AAAgGA;;AAAKA;;AACzGA;;AACAA;;AACJA;;AACJA;;AACFA;;AACAA;;AACAA;;AACEA;;AACFA;;AACFA;;;;;;;;","names":["EmpleaveserviceService","httpClient","rxjs__WEBPACK_IMPORTED_MODULE_2__","leaveAddedSource","asObservable","next","data","empId","Promise","resolve","reject","call","src_app_helpers_url_constants__WEBPACK_IMPORTED_MODULE_0__","subscribe","res","err","leaveId","_angular_core__WEBPACK_IMPORTED_MODULE_3__","factory","providedIn","AddLeaveemployeeComponent","dialogRef","cdr","formBuilder","router","toastService","titleCasePipe","UserData","productService","leaveservice","JSON","parse","localStorage","getItem","today","Date","console","log","today1","setDate","getDate","userId","getleaveDetailsdays","addleaveForm","group","reasonleave","_angular_forms__WEBPACK_IMPORTED_MODULE_4__","type","leaveStartDate","leaveEndDate","day","get","valueChanges","calculateNumberOfDays","getAllLeaveDetails1","currentEmployee","id","then","sickleavedata","totalLeaveTaken","casualleavedata","privilageleavedata","compensatoryleavedata","error","expose","openErrorSnackBar","transform","error_message","startDate","value","endDate","start","end","timeDifference","Math","abs","getTime","numberOfDays","ceil","options","patchValue","controls","submitted","invalid","Body","productPicUrl","addLeaveDetails","openSnackBar","notifyLeaveAdded","close","selectedDate","isNaN","setValue","e","formdata","FormData","reader","FileReader","file","target","files","readAsDataURL","set","PostImagePdf","location","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__","selectors","decls","vars","consts","template","ctx","_angular_core__WEBPACK_IMPORTED_MODULE_4__","EditLeaveemployeeComponent","createEductionForm","getLeaveById","editleaveForm","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","GetLeaveByEducationId","leaveApplication","reason","leavetype","moment__WEBPACK_IMPORTED_MODULE_0__","format","selectDay","LeaveUpdateByEmployeeId","_angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__","routes","path","component","_mainleave_employee_mainleave_employee_component__WEBPACK_IMPORTED_MODULE_0__","children","redirectTo","pathMatch","_leave_employee_leave_employee_component__WEBPACK_IMPORTED_MODULE_1__","routerLinkActiveOptions","exact","EmployeeLeaveRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_3__","imports","exports","EmployeeLeaveModule","_angular_common__WEBPACK_IMPORTED_MODULE_7__","_employee_leave_routing_module__WEBPACK_IMPORTED_MODULE_0__","_angular_router__WEBPACK_IMPORTED_MODULE_8__","src_app_material_module__WEBPACK_IMPORTED_MODULE_5__","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_10__","declarations","_mainleave_employee_mainleave_employee_component__WEBPACK_IMPORTED_MODULE_2__","_add_leaveemployee_add_leaveemployee_component__WEBPACK_IMPORTED_MODULE_3__","_edit_leaveemployee_edit_leaveemployee_component__WEBPACK_IMPORTED_MODULE_4__","_angular_core__WEBPACK_IMPORTED_MODULE_5__","LeaveEmployeeComponent","dialog","rolesPermissionsService","getEmployeeByEmployeeId","getleaveDetails","leaveAdded$","getEmployeeById","parentId","getAllLeaveDetails","leaveAllData","totalLeavesAvailable","totalLeavesTakenCombined","thismonth","monthlyHoliday","count","open","_add_leaveemployee_add_leaveemployee_component__WEBPACK_IMPORTED_MODULE_1__","width","height","panelClass","disableClose","position","right","afterClosed","_edit_leaveemployee_edit_leaveemployee_component__WEBPACK_IMPORTED_MODULE_0__","deleteLeave","MainleaveEmployeeComponent","_angular_core__WEBPACK_IMPORTED_MODULE_0__"],"sources":["webpack:///src/app/core/services/empleaveservice.service.ts","webpack:///src/app/pages/employee-leave/add-leaveemployee/add-leaveemployee.component.html","webpack:///src/app/pages/employee-leave/add-leaveemployee/add-leaveemployee.component.ts","webpack:///src/app/pages/employee-leave/edit-leaveemployee/edit-leaveemployee.component.html","webpack:///src/app/pages/employee-leave/edit-leaveemployee/edit-leaveemployee.component.ts","webpack:///src/app/pages/employee-leave/employee-leave-routing.module.ts","webpack:///src/app/pages/employee-leave/employee-leave.module.ts","webpack:///src/app/pages/employee-leave/leave-employee/leave-employee.component.html","webpack:///src/app/pages/employee-leave/leave-employee/leave-employee.component.ts","webpack:///src/app/pages/employee-leave/mainleave-employee/mainleave-employee.component.ts","webpack:///src/app/pages/employee-leave/mainleave-employee/mainleave-employee.component.html"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpService } from './http.service';\r\nimport { UrlConstants } from 'src/app/_helpers/url-constants';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EmpleaveserviceService {\r\n\r\n  private leaveAddedSource = new Subject<void>();\r\n  leaveAdded$ = this.leaveAddedSource.asObservable();\r\n\r\n  notifyLeaveAdded() {\r\n    this.leaveAddedSource.next();\r\n  }\r\n\r\n  constructor(public httpClient:HttpService ) { }\r\n\r\n  getAllLeaveDetails(data:{},empId):any{\r\n    return new Promise((resolve, reject) => {\r\n      this.httpClient.call(data, UrlConstants.empgetAllleave + empId , 'GET').subscribe(\r\n        (res) => resolve(res),\r\n        (err) => reject(err)\r\n      );\r\n    });\r\n  }\r\n\r\n  \r\n  getAllLeaveDetails1(data:{},empId):any{\r\n    return new Promise((resolve, reject) => {\r\n      this.httpClient.call(data, UrlConstants.empgetAllleave1 + empId , 'GET').subscribe(\r\n        (res) => resolve(res),\r\n        (err) => reject(err)\r\n      );\r\n    });\r\n  }\r\n\r\n\r\n  addLeaveDetails(data:{}){\r\n    return new Promise((resolve, reject) => {\r\n      this.httpClient.call(data, UrlConstants.empaddleave ,  'POST').subscribe(\r\n        (res) => resolve(res),\r\n        (err) => reject(err)\r\n      );\r\n    });\r\n  }\r\n\r\n  GetLeaveByEducationId(data:{},leaveId){\r\n    return new Promise((resolve, reject) => {\r\n      this.httpClient.call(data, UrlConstants.empgetByIdleave + leaveId , 'GET').subscribe(\r\n        (res) => resolve(res),\r\n        (err) => reject(err)\r\n      );\r\n    });\r\n   \r\n  }\r\n\r\n  LeaveUpdateByEmployeeId(data:{},empId){\r\n    return new Promise((resolve, reject) => {\r\n      this.httpClient.call(data, UrlConstants.empupdateByIdleave + empId ,'PUT').subscribe(\r\n        (res) => resolve(res),\r\n        (err) => reject(err)\r\n      );\r\n    });\r\n  }\r\n\r\n  deleteLeave(data:{},leaveId){\r\n    return new Promise((resolve, reject) => {\r\n      this.httpClient.call(data, UrlConstants.empdeleteByIdleave + leaveId ,  'DELETE').subscribe(\r\n        (res) => resolve(res),\r\n        (err) => reject(err)\r\n      );\r\n    });\r\n  }\r\n}\r\n","<!-- <div class=\"modal-header flex d-flex flex-row pt-0\" style=\"justify-content:center; align-items: center;\">\r\n    <h1 style=\"color: #EB8B3F; font-weight: bolder;\" class=\"modal-title mb-0\">Add Leave</h1>\r\n\r\n    <div class=\"flex d-flex flex-row\" style=\"margin-left: auto;\">\r\n\r\n        <button style=\"margin-right: 10px !important;\" type=\"button\"\r\n            class=\"btn btn-cancel\" (click)=\"cancel()\">Cancel</button>\r\n        <button type=\"button\" class=\"btn btn-save\" (click)=\"postLeave()\">Save</button>\r\n\r\n    </div>\r\n\r\n</div> -->\r\n\r\n<div class=\"modal-header pt-0\">\r\n  <h1 style=\"color: #EB8B3F; font-weight: bolder;\" class=\"modal-title mb-0\">Add Leave</h1>\r\n  <div class=\"addProductButtons\">\r\n    <button style=\"margin-right: 10px !important;\" type=\"button\"\r\n    class=\"btn btn-cancel\" (click)=\"cancel()\">Cancel</button>\r\n    <button type=\"button\" class=\"btn btn-save\" (click)=\"postLeave()\">Save</button>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal-body\">\r\n    <div class=\"container-fluid px-2\">\r\n        <form [formGroup]=\"addleaveForm\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Reason for Leave<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matInput placeholder=\"Reason for Leave\" formControlName=\"reasonleave\" required autocomplete=\"off\">\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.reasonleave.touched) && f.reasonleave.errors?.required\">\r\n                        Reason for Leave is required!\r\n                    </mat-error>\r\n\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Leave Type<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <mat-select matNativeControl disableOptionCentering required placeholder=\"Type\"\r\n                            formControlName=\"type\">\r\n                            <mat-option *ngIf=\"sickleavedata > 0\" value=\"Sick Leave\">Sick Leave</mat-option>\r\n                            <mat-option *ngIf=\"privilageleavedata > 0\" value=\"Privilage Leave\"> Privilage Leave</mat-option>\r\n                            <mat-option *ngIf=\"casualleavedata > 0\" value=\"Casual Leave\"> Casual Leave</mat-option>\r\n                            <mat-option *ngIf=\"compensatoryleavedata > 0\" value=\"Compensatory Leave\">Compensatory Leave</mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.type.touched) && f.type.errors?.required\">\r\n                        Leave Type is required!\r\n                    </mat-error>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Start Date<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matInput required ngModel bsDatepicker placeholder=\"DD MMM YYYY\" [minDate]=\"today\"\r\n                            style=\"text-transform:uppercase!important;\" id=\"datePicker\" bsDatepicker [bsConfig]=\"{\r\n                            containerClass: 'theme-dark-blue',\r\n                            dateInputFormat: 'DD MMM YYYY',\r\n                             showWeekNumbers:false\r\n                            }\" formControlName=\"leaveStartDate\" autocomplete=\"off\"  (click)=\"openDatepickerstart()\">\r\n                        <span>\r\n                            <mat-icon class=\"iconcalender p-1\">date_range</mat-icon>\r\n                        </span>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.leaveStartDate.touched) && f.leaveStartDate.errors?.required\">\r\n                        Start Date is required!\r\n                    </mat-error>\r\n\r\n                </div>\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">End Date<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matInput required ngModel bsDatepicker placeholder=\"DD MMM YYYY\" [minDate]=\"today1\"\r\n                            style=\"text-transform:uppercase!important;\" id=\"datePicker\" bsDatepicker [bsConfig]=\"{\r\n                            containerClass: 'theme-dark-blue',\r\n                            dateInputFormat: 'DD MMM YYYY',\r\n                             showWeekNumbers:false\r\n                            }\" formControlName=\"leaveEndDate\" autocomplete=\"off\"  (click)=\"openDatepickerend()\">\r\n                        <span>\r\n                            <mat-icon class=\"iconcalender p-1\">date_range</mat-icon>\r\n                        </span>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.leaveEndDate.touched) && f.leaveEndDate.errors?.required\">\r\n                        End Date is required!\r\n                    </mat-error>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Select Day<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <mat-select matNativeControl disableOptionCentering required placeholder=\"Select Day\" formControlName=\"day\">\r\n                            <mat-option *ngFor=\"let option of options\" [value]=\"option\">{{option}}</mat-option>\r\n                            <!-- <mat-option value=\"Half Day\">Half Day</mat-option> -->\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.day.touched) && f.day.errors?.required\">\r\n                        Select Day is required!\r\n                    </mat-error>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12\">\r\n                    <label class=\"form-label\">Upload Document</label>\r\n                    <div><input type=\"file\" accept=\".jpeg, .jpg, .png, .pdf\" (change)=\"documentChange($event)\"></div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </form>\r\n    </div>\r\n</div>\r\n","import { TitleCasePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { EmpleaveserviceService } from 'src/app/core/services/empleaveservice.service';\r\nimport { ProductService } from 'src/app/core/services/product.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\n\r\n@Component({\r\n  selector: 'app-add-leaveemployee',\r\n  templateUrl: './add-leaveemployee.component.html',\r\n  styleUrls: ['./add-leaveemployee.component.scss']\r\n})\r\nexport class AddLeaveemployeeComponent implements OnInit {\r\n\r\n  public currentEmployee = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  public userId: any;\r\n  public addleaveForm: any;\r\n  public productPicUrl: any;\r\n  public submitted: boolean = false;\r\n  numberOfDays: number=0;\r\n  public today: Date;\r\n  public today1: Date;\r\n  options: string[] = ['Full Day', 'Half Day'];\r\n  public sickleavedata: number=0;\r\n  public casualleavedata: number=0;\r\n  public privilageleavedata: number=0;\r\n  public compensatoryleavedata: number=0;\r\n\r\n  constructor(public dialogRef: MatDialogRef<AddLeaveemployeeComponent>, private cdr: ChangeDetectorRef, private formBuilder: FormBuilder, public router: Router, private toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe, @Inject(MAT_DIALOG_DATA) public UserData: any, private productService: ProductService,\r\n    public leaveservice: EmpleaveserviceService) { \r\n      this.today = new Date();\r\n      console.log(\"this.today \",this.today )\r\n      this.today1 = new Date(new Date().setDate(new Date().getDate()));\r\n    }\r\n\r\n  ngOnInit(): void {\r\n    this.userId = this.UserData.userId;\r\n    this.getleaveDetailsdays();\r\n    // setTimeout(() => {\r\n    //   this.options = ['Full Day', 'Half Day'];\r\n    // }, 2000);\r\n\r\n    this.addleaveForm = this.formBuilder.group({\r\n      reasonleave: ['',[Validators.required]],\r\n      type: ['',[Validators.required]],\r\n      leaveStartDate: ['',[Validators.required]],\r\n      leaveEndDate: ['',[Validators.required]],\r\n      day: ['',[Validators.required]],\r\n      //  uploadDocument: [\"\"],\r\n    });\r\n\r\n      // Subscribe to value changes of leaveStartDate and leaveEndDate controls\r\n      this.addleaveForm.get('leaveStartDate').valueChanges.subscribe(() => {\r\n        this.calculateNumberOfDays();\r\n      });\r\n  \r\n      this.addleaveForm.get('leaveEndDate').valueChanges.subscribe(() => {\r\n        this.calculateNumberOfDays();\r\n      });\r\n   \r\n  }\r\n  getleaveDetailsdays() {\r\n    this.leaveservice.getAllLeaveDetails1({}, this.currentEmployee.id).then((res) => {\r\n      console.log(\"res days Assign\", res);\r\n   \r\n      this.sickleavedata = res.data.totalLeaveTaken[\"Sick Leave\"];\r\n      console.log(this.sickleavedata)\r\n      this.casualleavedata = res.data.totalLeaveTaken[\"Casual Leave\"];\r\n      console.log(this.casualleavedata)\r\n      this.privilageleavedata = res.data.totalLeaveTaken[\"Privilage Leave\"];\r\n      console.log(this.privilageleavedata)\r\n      this.compensatoryleavedata = res.data.totalLeaveTaken[\"Compensatory Leave\"];\r\n      console.log(this.compensatoryleavedata)\r\n\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n  }\r\n  calculateNumberOfDays() {\r\n    const startDate = this.addleaveForm.get('leaveStartDate').value;\r\n    const endDate = this.addleaveForm.get('leaveEndDate').value;\r\n\r\n    if (startDate && endDate) {\r\n      // Calculate the difference in days\r\n      const start = new Date(startDate);\r\n      const end = new Date(endDate);\r\n      const timeDifference = Math.abs(end.getTime() - start.getTime());\r\n      const numberOfDays = Math.ceil(timeDifference / (1000 * 3600 * 24));\r\n\r\n      // Update the numberOfDays property\r\n      this.numberOfDays = numberOfDays;\r\n      if(this.numberOfDays > 1){\r\n        //this.addleaveForm.get('day').value = \"Full Day\";\r\n        this.options = ['Full Day'];\r\n        this.addleaveForm.patchValue({\r\n          day : \"Full Day\"\r\n        })\r\n      }\r\n      else{\r\n        this.options = ['Full Day', 'Half Day'];\r\n      }\r\n    } else {\r\n      // If either date is not set, reset the numberOfDays\r\n      this.numberOfDays = 0;\r\n    }\r\n    console.log(\"Number Of Days\", this.numberOfDays)\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  get f() {\r\n    return this.addleaveForm.controls;\r\n  }\r\n\r\n  postLeave() {\r\n    this.submitted = true;\r\n    if (this.addleaveForm.invalid) {\r\n      this.toastService.openErrorSnackBar(\"Please Fill Mandatory Fields!!!\");\r\n      return false;\r\n    }\r\n    else{\r\n      let Body =\r\n    {\r\n      \"reason\": this.addleaveForm.controls.reasonleave.value,\r\n      \"leavetype\": this.addleaveForm.controls.type.value,\r\n      \"startDate\": this.addleaveForm.controls.leaveStartDate.value,\r\n      \"endDate\": this.addleaveForm.controls.leaveEndDate.value,\r\n      \"selectDay\": this.addleaveForm.controls.day.value,\r\n      \"noOfLeavesDays\":this.numberOfDays,\r\n      \"leaveApplication\": this.productPicUrl,\r\n      \"userId\": this.userId,\r\n      \"employeeId\": this.currentEmployee.id\r\n    }\r\n    this.leaveservice.addLeaveDetails(Body).then(res => {\r\n      this.toastService.openSnackBar(\" Leave Added Successfully\");\r\n      this.leaveservice.notifyLeaveAdded();\r\n      this.dialogRef.close();\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n\r\n    })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  openDatepickerstart() {\r\n    // Check if the current value of taskdate is an \"Invalid Date\"\r\n    const selectedDate = this.addleaveForm.get('leaveStartDate').value;\r\n    if (isNaN(selectedDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.addleaveForm.get('leaveStartDate').setValue(new Date());\r\n    }\r\n  }\r\n\r\n  openDatepickerend() {\r\n    // Check if the current value of taskdate is an \"Invalid Date\"\r\n    const selectedDate = this.addleaveForm.get('leaveEndDate').value;\r\n    if (isNaN(selectedDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.addleaveForm.get('leaveEndDate').setValue(new Date());\r\n    }\r\n  }\r\n\r\n  documentChange(e) {\r\n    let formdata = new FormData();\r\n    let reader = new FileReader();\r\n    let file = e.target.files[0];\r\n\r\n    if (e.target.files && e.target.files[0]) {\r\n      reader.readAsDataURL(file);\r\n      if (file == null) {\r\n        this.toastService.openErrorSnackBar(\r\n          \"Please Select Image To Upload.\",\r\n        );\r\n      } else {\r\n        formdata.set(\"upload\", file)\r\n        this.productService.PostImagePdf(formdata).then((res) => {\r\n          this.productPicUrl = res.data.location;\r\n          console.log(\"this.productPicUrl\", this.productPicUrl);\r\n\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header flex d-flex flex-row pt-0\" style=\"justify-content:center; align-items: center;\">\r\n    <h1 style=\"color: #EB8B3F; font-weight: bolder;\" class=\"modal-title mb-0\">Update Leave</h1>\r\n\r\n    <div class=\"flex d-flex flex-row\" style=\"margin-left: auto;\">\r\n\r\n        <button style=\"margin-right: 10px !important;\" type=\"button\"\r\n            class=\"btn btn-cancel\" (click)=\"cancel()\">Cancel</button>\r\n        <button type=\"button\" class=\"btn btn-save\" (click)=\"UpdateLeave()\">Save</button>\r\n\r\n    </div>\r\n\r\n</div>\r\n<div class=\"modal-body\">\r\n    <div class=\"container-fluid px-2\">\r\n        <form [formGroup]=\"editleaveForm\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Reason for Leave<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matInput placeholder=\"Reason for Leave\" formControlName=\"reasonleave\" required autocomplete=\"off\">\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.reasonleave.touched) && f.reasonleave.errors?.required\">\r\n                        Reason for Leave is required!\r\n                    </mat-error>\r\n\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Leave Type<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <mat-select matNativeControl disableOptionCentering required placeholder=\"Type\"\r\n                            formControlName=\"type\">\r\n                            <mat-option *ngIf=\"sickleavedata > 0\" value=\"Sick Leave\">Sick Leave</mat-option>\r\n                            <mat-option *ngIf=\"privilageleavedata > 0\" value=\"Privilage Leave\"> Privilage Leave</mat-option>\r\n                            <mat-option *ngIf=\"casualleavedata > 0\" value=\"Casual Leave\"> Casual Leave</mat-option>\r\n                            <mat-option *ngIf=\"compensatoryleavedata > 0\" value=\"Compensatory Leave\">Compensatory Leave</mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                    \r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.type.touched) && f.type.errors?.required\">\r\n                        Leave Type is required!\r\n                    </mat-error>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Start Date<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matInput required ngModel bsDatepicker placeholder=\"DD MMM YYYY\" [minDate]=\"today\"\r\n                            style=\"text-transform:uppercase!important;\" id=\"datePicker\" bsDatepicker [bsConfig]=\"{\r\n                            containerClass: 'theme-dark-blue',\r\n                            dateInputFormat: 'DD MMM YYYY',\r\n                             showWeekNumbers:false\r\n                            }\" formControlName=\"leaveStartDate\" autocomplete=\"off\" (click)=\"openDatepickerstart()\">\r\n                        <span>\r\n                            <mat-icon class=\"iconcalender p-1\">date_range</mat-icon>\r\n                        </span>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.leaveStartDate.touched) && f.leaveStartDate.errors?.required\">\r\n                        Start Date is required!\r\n                    </mat-error>\r\n\r\n                </div>\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">End Date<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <input matInput required ngModel bsDatepicker placeholder=\"DD MMM YYYY\" [minDate]=\"today\"\r\n                            style=\"text-transform:uppercase!important;\" id=\"datePicker\" bsDatepicker [bsConfig]=\"{\r\n                            containerClass: 'theme-dark-blue',\r\n                            dateInputFormat: 'DD MMM YYYY',\r\n                             showWeekNumbers:false\r\n                            }\" formControlName=\"leaveEndDate\" autocomplete=\"off\"  (click)=\"openDatepickerend()\">\r\n                        <span>\r\n                            <mat-icon class=\"iconcalender p-1\">date_range</mat-icon>\r\n                        </span>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.leaveEndDate.touched) && f.leaveEndDate.errors?.required\">\r\n                        End Date is required!\r\n                    </mat-error>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-md-6 col-xl-6 col-sm-6\">\r\n                    <label class=\"form-label\">Select Day<span class=\"error-asterisk\">*</span></label>\r\n                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\r\n                        <mat-select matNativeControl disableOptionCentering required placeholder=\"Type\"\r\n                            formControlName=\"day\">\r\n                            <mat-option *ngFor=\"let option of options\" [value]=\"option\">{{option}}</mat-option>\r\n                            <!-- <mat-option value=\"Full Day\">Full Day</mat-option>\r\n                            <mat-option value=\"Half Day\">Half Day</mat-option> -->\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                    <mat-error class=\"text-danger\" *ngIf=\"(submitted || f.day.touched) && f.day.errors?.required\">\r\n                        Select Day is required!\r\n                    </mat-error>\r\n                 </div>\r\n            </div>        \r\n            <div class=\"row\">\r\n                <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12\">\r\n                    <label class=\"form-label\">Upload Document</label>\r\n                    <div><input type=\"file\" accept=\".jpeg, .jpg, .png, .pdf\" (change)=\"documentChange($event)\"></div>\r\n                 </div>\r\n    \r\n            </div>\r\n\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n","import { TitleCasePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport * as moment from 'moment';\r\nimport { EmpleaveserviceService } from 'src/app/core/services/empleaveservice.service';\r\nimport { ProductService } from 'src/app/core/services/product.service';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-leaveemployee',\r\n  templateUrl: './edit-leaveemployee.component.html',\r\n  styleUrls: ['./edit-leaveemployee.component.scss']\r\n})\r\nexport class EditLeaveemployeeComponent implements OnInit {\r\n  numberOfDays: number=0;\r\n  options: string[] = [];\r\n\r\n  public currentEmployee = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  public editleaveForm: any;\r\n  userId: any;\r\n  leaveId: any;\r\n  public productPicUrl: any;\r\n  public submitted: boolean = false;\r\n  public today: Date;\r\n  public sickleavedata: number=0;\r\n  public casualleavedata: number=0;\r\n  public privilageleavedata: number=0;\r\n  public compensatoryleavedata: number=0;\r\n\r\n  constructor(public dialogRef: MatDialogRef<EditLeaveemployeeComponent>, private cdr: ChangeDetectorRef, private formBuilder: FormBuilder, public router: Router, private toastService: ToastNotificationService,\r\n    private titleCasePipe: TitleCasePipe, @Inject(MAT_DIALOG_DATA) public UserData: any,\r\n    public leaveservice: EmpleaveserviceService, private productService: ProductService,) {\r\n      this.today = new Date();\r\n     }\r\n\r\n  ngOnInit(): void {\r\n    this.getleaveDetailsdays();\r\n    this.userId = this.UserData.userId\r\n    this.leaveId = this.UserData.leaveId\r\n    this.createEductionForm();\r\n    this.getLeaveById();\r\n         // Subscribe to value changes of leaveStartDate and leaveEndDate controls\r\n         this.editleaveForm.get('leaveStartDate').valueChanges.subscribe(() => {\r\n          this.calculateNumberOfDays();\r\n        });\r\n    \r\n        this.editleaveForm.get('leaveEndDate').valueChanges.subscribe(() => {\r\n          this.calculateNumberOfDays();\r\n        });\r\n     \r\n  }\r\n\r\n  calculateNumberOfDays() {\r\n    const startDate = this.editleaveForm.get('leaveStartDate').value;\r\n    const endDate = this.editleaveForm.get('leaveEndDate').value;\r\n\r\n    if (startDate && endDate) {\r\n      // Calculate the difference in days\r\n      const start = new Date(startDate);\r\n      const end = new Date(endDate);\r\n      const timeDifference = Math.abs(end.getTime() - start.getTime());\r\n      const numberOfDays = Math.ceil(timeDifference / (1000 * 3600 * 24));\r\n\r\n      // Update the numberOfDays property\r\n      this.numberOfDays = numberOfDays;\r\n      if(this.numberOfDays > 1){\r\n        //this.editleaveForm.get('day').value = \"Full Day\";\r\n        this.options = ['Full Day'];\r\n        this.editleaveForm.patchValue({\r\n          day : \"Full Day\"\r\n        })\r\n      }\r\n      else{\r\n        this.options = ['Full Day', 'Half Day'];\r\n      }\r\n    } else {\r\n      // If either date is not set, reset the numberOfDays\r\n      this.numberOfDays = 0;\r\n    }\r\n    console.log(\"Number Of Days\", this.numberOfDays)\r\n  }\r\n\r\n\r\n\r\n  createEductionForm() {\r\n    this.editleaveForm = this.formBuilder.group({\r\n      reasonleave: ['',[Validators.required]],\r\n      type: ['',[Validators.required]],\r\n      leaveStartDate: ['',[Validators.required]],\r\n      leaveEndDate: ['',[Validators.required]],\r\n      day: ['',[Validators.required]],\r\n      //uploadDocument: [\"\"],\r\n\r\n\r\n    });\r\n  }\r\n  getleaveDetailsdays() {\r\n    this.leaveservice.getAllLeaveDetails1({}, this.currentEmployee.id).then((res) => {\r\n      console.log(\"res days Assign\", res);\r\n   \r\n      this.sickleavedata = res.data.totalLeaveTaken[\"Sick Leave\"];\r\n      console.log(this.sickleavedata)\r\n      this.casualleavedata = res.data.totalLeaveTaken[\"Casual Leave\"];\r\n      console.log(this.casualleavedata)\r\n      this.privilageleavedata = res.data.totalLeaveTaken[\"Privilage Leave\"];\r\n      console.log(this.privilageleavedata)\r\n      this.compensatoryleavedata = res.data.totalLeaveTaken[\"Compensatory Leave\"];\r\n      console.log(this.compensatoryleavedata)\r\n\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n  }\r\n\r\n  getLeaveById() {\r\n    this.leaveservice.GetLeaveByEducationId({}, this.leaveId).then((res: any) => {\r\n      console.log(\"get data in perticular lead\", res)\r\n\r\n      this.productPicUrl = res.data.leaveApplication;\r\n\r\n      this.editleaveForm.patchValue({\r\n        reasonleave: res.data.reason,\r\n        type: res.data.leavetype,\r\n        leaveStartDate: res.data.startDate ? (moment(res.data.startDate).format(\"DD-MMM-YYYY\")) : (moment(res.data.startDate).format(\"DD-MMM-YYYY\")),\r\n        leaveEndDate: res.data.endDate ? (moment(res.data.endDate).format(\"DD-MMM-YYYY\")) : (moment(res.data.endDate).format(\"DD-MMM-YYYY\")),\r\n        day: res.data.selectDay\r\n      })\r\n      \r\n\r\n    })\r\n\r\n  }\r\n\r\n  get f() {\r\n    return this.editleaveForm.controls;\r\n  }\r\n\r\n  UpdateLeave() {\r\n    this.submitted = true;\r\n    if (this.editleaveForm.invalid) {\r\n      this.toastService.openErrorSnackBar(\"Please Fill Mandatory Fields!!!\");\r\n      return false;\r\n    }\r\n    else{\r\n      let Body = {\r\n        \"reason\": this.editleaveForm.controls.reasonleave.value,\r\n        \"leavetype\": this.editleaveForm.controls.type.value,\r\n        \"startDate\": this.editleaveForm.controls.leaveStartDate.value,\r\n        \"endDate\":  this.editleaveForm.controls.leaveEndDate.value,\r\n        \"selectDay\": this.editleaveForm.controls.day.value,\r\n        \"noOfLeavesDays\":this.numberOfDays,\r\n        \"leaveApplication\":  this.productPicUrl ,\r\n        \"userId\": this.userId,\r\n        //\"status\": \"REJECTED\"\r\n  \r\n      }\r\n      this.leaveservice.LeaveUpdateByEmployeeId(Body, this.leaveId).then((res: any) => {\r\n        this.toastService.openSnackBar(\" Leave Updated Successfully\");\r\n        this.leaveservice.notifyLeaveAdded();\r\n        this.dialogRef.close();\r\n      }, (err) => {\r\n        if (err.error.expose) {\r\n          this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n        }\r\n        else {\r\n          this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n        }\r\n      })\r\n\r\n    }\r\n \r\n  }\r\n\r\n  openDatepickerstart() {\r\n    // Check if the current value of taskdate is an \"Invalid Date\"\r\n    const selectedDate = this.editleaveForm.get('leaveStartDate').value;\r\n    if (isNaN(selectedDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.editleaveForm.get('leaveStartDate').setValue(new Date());\r\n    }\r\n  }\r\n\r\n  openDatepickerend() {\r\n    // Check if the current value of taskdate is an \"Invalid Date\"\r\n    const selectedDate = this.editleaveForm.get('leaveEndDate').value;\r\n    if (isNaN(selectedDate.getTime())) {\r\n      // Set a default date or any valid date here\r\n      this.editleaveForm.get('leaveEndDate').setValue(new Date());\r\n    }\r\n  }\r\n  documentChange(e) {\r\n    let formdata = new FormData();\r\n    let reader = new FileReader();\r\n    let file = e.target.files[0];\r\n\r\n    if (e.target.files && e.target.files[0]) {\r\n      reader.readAsDataURL(file);\r\n      if (file == null) {\r\n        this.toastService.openErrorSnackBar(\r\n          \"Please Select Image To Upload.\",\r\n        );\r\n      } else {\r\n        formdata.set(\"upload\", file)\r\n        this.productService.PostImagePdf(formdata).then((res) => {\r\n          this.productPicUrl = res.data.location;\r\n          console.log(\"this.productPicUrl\", this.productPicUrl);\r\n\r\n        });\r\n      }\r\n    }\r\n  }\r\n  cancel() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MainleaveEmployeeComponent } from './mainleave-employee/mainleave-employee.component';\r\nimport { LeaveEmployeeComponent } from './leave-employee/leave-employee.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component:MainleaveEmployeeComponent,\r\n    children: [\r\n      {\r\n        path:'',\r\n        redirectTo: 'emp-leave',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path:'emp-leave',\r\n        component:LeaveEmployeeComponent,\r\n      },\r\n    ],\r\n    pathMatch: 'prefix',\r\n    data: {\r\n      routerLinkActiveOptions: { exact: true, pathMatch: 'full' }\r\n    }\r\n  },\r\n]\r\n\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EmployeeLeaveRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { EmployeeLeaveRoutingModule } from './employee-leave-routing.module';\r\nimport { LeaveEmployeeComponent } from './leave-employee/leave-employee.component';\r\nimport { MainleaveEmployeeComponent } from './mainleave-employee/mainleave-employee.component';\r\nimport { AddLeaveemployeeComponent } from './add-leaveemployee/add-leaveemployee.component';\r\nimport { EditLeaveemployeeComponent } from './edit-leaveemployee/edit-leaveemployee.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MaterialExampleModule } from 'src/app/material.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LeaveEmployeeComponent,\r\n    MainleaveEmployeeComponent,\r\n    AddLeaveemployeeComponent,\r\n    EditLeaveemployeeComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    EmployeeLeaveRoutingModule,\r\n    RouterModule,\r\n    MaterialExampleModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    BsDatepickerModule.forRoot(),\r\n  ]\r\n})\r\nexport class EmployeeLeaveModule { }\r\n","<div class=\"row mb-3 container-fluid\">\r\n    <div class=\"col-lg-8  col-md-8 col-xl-8 col-sm-8 mb-3 mt-3\">\r\n        <div class=\"card bg-white \">\r\n\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 mt-2 mb-2\">\r\n                        <div class=\"row\">\r\n                            <!-- <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 flex d-flex flex-row\"\r\n                                style=\"justify-content: center;\">\r\n                                <span style=\"background-color: #F8FBFA; color:#58BF84;\">{{this.totalLeavesAvailable}}</span>\r\n                            </div> -->\r\n                            <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12 text-black flex d-flex flex-row\"\r\n                                style=\"font-weight:600;font-size:14px!important;justify-content: center;\">\r\n                                Leave Balances : <span style=\"background-color: #F8FBFA; color:#58BF84;\">&nbsp;&nbsp;{{this.totalLeavesAvailable}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 mt-2 mb-2\">\r\n                        <div class=\"row\">\r\n                            <!-- <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 flex d-flex flex-row\"\r\n                                style=\"justify-content: center;\">\r\n                                <span style=\"background-color: #FEF9F9; color: #EF7474;\">{{this.totalLeavesTakenCombined}}</span>\r\n                            </div> -->\r\n                            <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12 text-black flex d-flex flex-row\"\r\n                                style=\"font-weight:600;font-size:14px!important;justify-content: center;\">\r\n                                Total Leaves Taken : <span style=\"background-color: #FEF9F9; color: #EF7474;\">&nbsp;&nbsp;{{this.totalLeavesTakenCombined}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 mt-2 mb-2\">\r\n                        <div class=\"row\">\r\n                            <!-- <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 flex d-flex flex-row\"\r\n                                style=\"justify-content: center;\">\r\n                                <span style=\"background-color: #FEF9F9; color:#EF7474;\">{{this.thismonth ? this.thismonth : 0}}</span>\r\n                            </div> -->\r\n                            <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12 text-black flex d-flex flex-row\"\r\n                                style=\"font-weight:600;font-size:14px!important;justify-content: center;\">\r\n                                This Month Leaves Taken : <span style=\"background-color: #FEF9F9; color:#EF7474;\">&nbsp;&nbsp;{{this.thismonth ? this.thismonth : 0}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class=\"row mb-3 container-fluid\">\r\n    <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 mt-2\">\r\n        <div class=\"card bg-white\">\r\n            <div class=\"card-header mt-2\" style=\"justify-content: center; align-items: center; vertical-align: middle;\">\r\n                <div class=\"text-black flex d-flex flex-row\"\r\n                    style=\"font-weight:600;font-size:14px!important;justify-content: center;\">Leave Available : {{this.totalLeavesAvailable}} leaves\r\n                    left</div>\r\n                <hr>\r\n            </div>\r\n\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-8 col-xl-8 col-lg-8 col-sm-12 text-black\"\r\n                                style=\"font-weight:600;font-size:14px!important;\">\r\n                                Sick Leave (SL)\r\n                            </div>\r\n                            <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 flex d-flex flex-row\"\r\n                                style=\"justify-content: center;\">\r\n                                <p class=\"pHeading\">{{sickleavedata ? sickleavedata : 0 }} Left</p>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"row mt-2\">\r\n                    <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-8 col-xl-8 col-lg-8 col-sm-12 text-black\"\r\n                                style=\"font-weight:600;font-size:14px!important;\">\r\n                                Privilege Leave (PL)\r\n                            </div>\r\n                            <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 flex d-flex flex-row\"\r\n                                style=\"justify-content: center;\">\r\n                                <p class=\"pHeading\">{{privilageleavedata ? privilageleavedata : 0 }} Left</p>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"row mt-2\">\r\n                    <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-8 col-xl-8 col-lg-8 col-sm-12 text-black\"\r\n                                style=\"font-weight:600;font-size:14px!important;\">\r\n                                Casual Leave (CL)\r\n                            </div>\r\n                            <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 flex d-flex flex-row\"\r\n                                style=\"justify-content: center;\">\r\n                                <p class=\"pHeading\">{{casualleavedata ? casualleavedata : 0 }} Left</p>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"row mt-2\">\r\n                    <div class=\"col-md-12 col-xl-12 col-lg-12 col-sm-12\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-8 col-xl-8 col-lg-8 col-sm-12 text-black\"\r\n                                style=\"font-weight:600;font-size:14px!important;\">\r\n                                Compensatory Leave (comp off)\r\n                            </div>\r\n                            <div class=\"col-md-4 col-xl-4 col-lg-4 col-sm-12 flex d-flex flex-row\"\r\n                                style=\"justify-content: center;\">\r\n                                <p class=\"pHeading\">{{compensatoryleavedata ? compensatoryleavedata : 0 }} Left</p>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"row mt-2\">\r\n                    <div class=\"navOption-btns col-sm-12 col-md-12 col-md-12 col-lg-12 col-xl-12 flex d-flex flex-row\"\r\n                        style=\"justify-content: center;\">\r\n                        <button class=\"btn text-nowrap\" type=\"button\" (click)=\"openAddLeave(userId)\"><i\r\n                                class=\"fas fa-plus me-2\"> </i>Apply Leave\r\n                        </button>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n    <div class=\"col-md-8 col-xl-8 col-lg-8 col-sm-12 mt-2\">\r\n        <div class=\"card bg-white\">\r\n            <div class=\"card-header mt-2\" style=\"justify-content: center; align-items: center; vertical-align: middle;\">\r\n                <div class=\"text-black\" style=\"font-weight:600;font-size:14px!important;\">Applied Leaves</div>\r\n                <hr>\r\n            </div>\r\n\r\n            <div class=\"card-body\">\r\n\r\n                <div style=\"width:100% ; overflow-x: scroll;\">\r\n                    <table class=\"table table-responsive table-bordered fs--1 mb-0\">\r\n                        <thead class=\"text-600\">\r\n                            <tr>\r\n                                <th class=\"text-nowrap\">Start Date</th>\r\n                                <th class=\"text-nowrap\">End Date</th>\r\n                                <th class=\"text-nowrap\">Type</th>\r\n                                <th class=\"text-nowrap\">Reasons</th>\r\n                                <th class=\"text-nowrap\">Total Days</th>\r\n                                <th class=\"text-nowrap\">Status</th>\r\n                                <th class=\"text-nowrap\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr class=\"btn-reveal-trigger text-left\" *ngFor=\"let item of leaveAllData; let i = index\"\r\n                                style=\"color: #676398!important;\">\r\n                                <td class=\"Offer Name text-nowrap\" style=\"vertical-align:middle;\">{{item.startDate |\r\n                                    date:\"dd MMM YYYY\"| uppercase}}</td>\r\n                                <td class=\"Status text-nowrap\" style=\"vertical-align:middle;\">{{item.endDate | date:\"dd MMM YYYY\"| uppercase}}</td>\r\n                                <td class=\"Valid From text-nowrap\" style=\"vertical-align:middle;\">{{item.leavetype}}</td>\r\n                                <td class=\"Valid To text-nowrap\" style=\"vertical-align:middle;\">{{item.reason}}</td>\r\n                                <td class=\"Decription\" style=\"vertical-align:middle;\">{{item.noOfLeavesDays}}</td>\r\n                                <td class=\"Decription\" style=\"vertical-align:middle; color:#FC7643 !important;\" *ngIf=\"item.status == 'PENDING'\">Pending</td>\r\n                                <td class=\"Decription\" style=\"vertical-align:middle; color:#FC7643 !important;\" *ngIf=\"item.status == 'REJECTED'\">Rejected</td>\r\n                                <td class=\"Decription\" style=\"vertical-align:middle; color:#0CAB42 !important;\" *ngIf=\"item.status == 'ACCEPTED'\">Approved</td>\r\n                                <td style=\"vertical-align:middle; width:20%!important; white-space:nowrap; \">\r\n                                    <div class=\"\" style=\"padding-left:40px;\">\r\n\r\n\r\n                                        <button class=\"btn btnp\" *ngIf=\"item.status !== 'ACCEPTED'\" (click)=\"openEditLeave(item.id,userId)\">\r\n                                            <span class=\"bi-pencil-square icon-color iconFontSize\"\r\n                                                data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Edit\"></span>\r\n                                        </button>\r\n                                        \r\n\r\n                                        <!-- <button class=\"btn btnp\" data-bs-toggle=\"modal\"\r\n                                            data-bs-target=\"#errorDelete-modal\" (click)=\"getleaveId(item.id)\">\r\n                                            <span class=\"bi-trash icon-color iconFontSize\" data-bs-toggle=\"tooltip\"\r\n                                                data-bs-placement=\"top\" title=\"Delete\" style=\"color: red;\"></span>\r\n                                             Delete -->\r\n                                        <!-- </button> --> \r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf=\"leaveAllData == 0\">\r\n                            <tr class=\"text-center\">\r\n                                <td colspan=\"12\">\r\n                                    <img class=\"image-responsive\"\r\n                                        src=\"assets/img/icons/spot-illustrations/notfound1.png\" width=\"250\" height=\"180\"\r\n                                        alt=\"\">\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"modal fade\" id=\"errorDelete-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 350px\">\r\n        <div class=\"modal-content position-relative\">\r\n            <div class=\"position-absolute top-0 end-0 mt-2 me-2 z-index-1\">\r\n                <a class=\"btn-close btn btn-sm btn-circle d-flex flex-center transition-base\" data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"></a>\r\n            </div>\r\n            <div class=\"modal-body p-0\">\r\n                <div class=\"rounded-top-lg py-3 ps-4 pe-6 bg-light\">\r\n                    <h2 class=\"mb-1 text-center font-weight-bold\" style=\"font-weight: 800; \" id=\"modalExampleDemoLabel\">\r\n                        Delete Leave? </h2>\r\n                </div>\r\n                <h4 class=\"text-center \">Are You Sure To Delete Leave?</h4>\r\n\r\n            </div>\r\n            <div class=\"modal-footer justify-content-center\">\r\n                <a class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\">Close</a>\r\n                <a class=\"btn btn-outline-danger\" (click)=\"deletleaveById()\" data-bs-dismiss=\"modal\">Delete\r\n                </a>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { EditLeaveemployeeComponent } from '../edit-leaveemployee/edit-leaveemployee.component';\r\nimport { AddLeaveemployeeComponent } from '../add-leaveemployee/add-leaveemployee.component';\r\nimport { RolesPermissionsService } from 'src/app/core/services/roles-permissions.service';\r\nimport { TitleCasePipe } from '@angular/common';\r\nimport { ToastNotificationService } from 'src/app/core/services/toast-notification.service';\r\nimport { EmpleaveserviceService } from 'src/app/core/services/empleaveservice.service';\r\n\r\n@Component({\r\n  selector: 'app-leave-employee',\r\n  templateUrl: './leave-employee.component.html',\r\n  styleUrls: ['./leave-employee.component.scss']\r\n})\r\nexport class LeaveEmployeeComponent implements OnInit {\r\n\r\n  public currentEmployee = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  public userId: any;\r\n  public leaveAllData: any;\r\n  public leaveId: any;\r\n  public thismonth: any;\r\n  public totalLeavesAvailable: any;\r\n  public totalLeavesTakenCombined: any;\r\n  public sickleavedata: any;\r\n  public casualleavedata: any;\r\n  public privilageleavedata: any;\r\n  public compensatoryleavedata: any;\r\n\r\n\r\n  constructor(public dialog: MatDialog, public leaveservice: EmpleaveserviceService,\r\n    public rolesPermissionsService: RolesPermissionsService,\r\n    private titleCasePipe: TitleCasePipe, private toastService: ToastNotificationService,) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    console.log(\"employee \", this.currentEmployee, \"employee Id\", this.currentEmployee.id)\r\n\r\n    this.getEmployeeByEmployeeId();\r\n    this.getleaveDetailsdays();\r\n    this.getleaveDetails();\r\n    //this.getleaveDays();\r\n    this.leaveservice.leaveAdded$.subscribe(() => {\r\n      // Fetch the updated list of users\r\n      this.getleaveDetails();\r\n    });\r\n  }\r\n\r\n  getEmployeeByEmployeeId() {\r\n    this.rolesPermissionsService.getEmployeeById({}, this.currentEmployee.id).then((res) => {\r\n\r\n      //console.log(\"In Leave --> employee BY UDER Id\", res.data);\r\n      this.userId = res.data.parentId;\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  getleaveDetails() {\r\n    this.leaveservice.getAllLeaveDetails({}, this.currentEmployee.id).then((res) => {\r\n      //console.log(\"res LEAVE LIST\", res);\r\n      this.leaveAllData = res.data;\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n  }\r\n\r\n  getleaveDetailsdays() {\r\n    this.leaveservice.getAllLeaveDetails1({}, this.currentEmployee.id).then((res) => {\r\n      console.log(\"res days Assign\", res);\r\n      this.totalLeavesAvailable = res.data.totalLeavesAvailable;\r\n      console.log(\"this.totalLeavesAvailable\", this.totalLeavesAvailable)\r\n      this.totalLeavesTakenCombined = res.data.totalLeavesTakenCombined;\r\n      console.log(\"this.totalLeavesTakenCombined\", this.totalLeavesTakenCombined)\r\n      this.sickleavedata = res.data.totalLeaveTaken[\"Sick Leave\"];\r\n      this.casualleavedata = res.data.totalLeaveTaken[\"Casual Leave\"];\r\n      this.privilageleavedata = res.data.totalLeaveTaken[\"Privilage Leave\"];\r\n      this.compensatoryleavedata = res.data.totalLeaveTaken[\"Compensatory Leave\"];\r\n      this.thismonth = res.data.monthlyHoliday[0].count == null ? 0 : res.data.monthlyHoliday[0].count ;\r\n\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n  }\r\n\r\n  openAddLeave(userId) {\r\n    const dialogRef = this.dialog.open(AddLeaveemployeeComponent, {\r\n      width: '700px',\r\n      height: '730px',\r\n      data: { userId: userId },\r\n      panelClass: 'custom-dialog-AddLeave-class',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n\r\n    });\r\n\r\n  }\r\n\r\n  openEditLeave(leaveId, userId) {\r\n    const dialogRef = this.dialog.open(EditLeaveemployeeComponent, {\r\n      width: '700px',\r\n      height: '730px',\r\n      data: { leaveId: leaveId, userId: userId },\r\n      panelClass: 'custom-dialog-updateLeave-class',\r\n      disableClose: true,\r\n      position: {\r\n        right: '0',\r\n      },\r\n\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n\r\n    });\r\n  }\r\n\r\n  getleaveId(leaveId) {\r\n    this.leaveId = leaveId\r\n\r\n  }\r\n  deletleaveById() {\r\n    this.leaveservice.deleteLeave({}, this.leaveId).then(res => {\r\n      this.toastService.openSnackBar(\" Leave Deleted Successfully\")\r\n      this.getleaveDetails();\r\n\r\n    }, (err) => {\r\n      if (err.error.expose) {\r\n        this.toastService.openErrorSnackBar(this.titleCasePipe.transform(err.error.error_message));\r\n      }\r\n      else {\r\n        this.toastService.openErrorSnackBar(\"Something Went Wrong.\");\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-mainleave-employee',\r\n  templateUrl: './mainleave-employee.component.html',\r\n  styleUrls: ['./mainleave-employee.component.scss']\r\n})\r\nexport class MainleaveEmployeeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid bg-white p-4\">\r\n    <div class=\"row mt-2\">\r\n      <div class=\"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n          <div class=\"row mt-3 page-nav-link\">\r\n             <div class=\"links col-xxl-1 col-xl-1 col-lg-2 col-md-3 col-sm-4 col-xs-4\" id=\"productlistLink\">\r\n                  <a class=\"mt-3 pb-1 text-nowrap productLink\" routerLink=\"./emp-leave\" routerLinkActive='active'>Leave</a>\r\n              </div>\r\n              <div class=\"col-xxl-9 col-xl-9 col-lg-9 col-md-3 col-sm-0 col-xs-0\"></div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n    <hr  class = \"mt-1\" />\r\n    <div>\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </div>\r\n  \r\n"]}